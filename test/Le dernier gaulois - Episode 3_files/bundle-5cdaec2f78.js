!function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("gsap"),l=(r(a),t("page")),h=r(l),u=t("./utils"),c=n(u),p=t("./utils/browserSupport"),d=r(p);t("html5-history-api"),t("./directives/link"),t("./components/core-shape"),t("./components/core-container"),t("./components/core-dom"),t("./components/core-loader"),t("./components/core-mixer"),t("./components/core-stage"),t("./components/core-brush"),t("./components/core-episode"),t("./components/core-sprite-episode"),t("./components/core-slideshow"),t("./components/core-gauge"),t("./components/core-scene"),t("./components/core-scene-slideshow"),t("./components/core-sprite"),t("./components/core-subtitle"),t("./components/core-particle-container"),t("./components/core-container-mask"),t("./components/core-container-strip"),t("./components/core-strip"),t("./components/core-sprite-strip"),t("./sections/home"),t("./sections/credits"),t("./sections/module-pedagogique"),t("./sections/p404");var f;window.location.search?f="/"!=window.location.pathname?window.location.pathname+window.location.search:""+window.location.search:(f="/"!=window.location.pathname?window.location.pathname:"",f=f.substring(0,f.length-1)),document.querySelector("html").classList.contains("lt-ie10")&&history.redirect("",f+"/"),"undefined"==typeof window.Float32Array&&(window.Float32Array=Array);new o["default"]({el:"html",events:{"page:ready":"afterUpdate","page:nextEpisode":"nextEpisode","loader:hide":"hideLoader","loader:assets":"onLoaderAssets","audio:play":"audioPlay","audio:seek":"audioSeek","audio:enable":"audioEnable","audio:disable":"audioDisable","brush:show":"onBrushShow","brush:hide":"onBrushHide","credit:show":"openCredit","modulePedago:show":"openModulePedago"},data:{baseUrl:f,routeOptions:{base:f,hashbang:!0,click:!0},oldLocation:{path:null,componentId:null},location:{path:null,componentId:null},bypassRouting:!1,meta:{description:"",title:""},loaderDisplay:!0,creditsDisplay:!1,modulePedagoDisplay:!1,winWidth:null,winHeight:null,routes:{"/":{title:"Landing page",componentId:"home",episode:0,description:"",tracking:"Homepage"},"/episode1":{title:"Episode 1",componentId:"episode",episode:1,description:"La maison",tracking:"Episode_1"},"/episode2":{title:"Episode 2",componentId:"episode",episode:2,description:"L'habit",tracking:"Episode_2"},"/episode3":{title:"Episode 3",componentId:"episode",episode:3,description:"Les armes",tracking:"Episode_3"},"/episode4":{title:"Episode 4",componentId:"episode",episode:4,description:"La négociation",tracking:"Episode_4"},"/episode5":{title:"Episode 5",componentId:"episode",episode:5,description:"L'élection",tracking:"Episode_5"},"/episode6":{title:"Episode 6",componentId:"episode",episode:6,description:"Le fils",tracking:"Episode_6"},"/404":{title:"404 not found",componentId:"p404",episode:0,tracking:"404",isDefault:!0}},fakeScroll:null,scrollHeight:0,episodeHeight:0,episode:0,titleEpisode:"",assets:["./assets/images/brush/transition-opt.png","./assets/images/loader/bg.jpg"]},watch:{scrollHeight:"setScroll"},created:function(){var t=this;window.onunload=function(){t.audioDisable("now")},this.fakeScroll=document.querySelector("#fake-scroll"),this.firstLoad=!0,this.loaderCircle=document.querySelector(".loader-main .line-overlay"),this.loaderCircleAlternate=document.querySelector(".loader-episode .line-overlay"),this.btnMenu=document.querySelector(".menu"),this.navMobile=document.querySelector("#nav-mobile"),this.scroll=0,this.progress=0,this.realProgress=0,this.loader=document.querySelector("#loader"),this.itemLoader=this.loader.querySelectorAll("li"),this.navDisplay=!1,this.navIsAnimated=!1,this.gridScreenWidth=21,this.gridStripWidth=7,this.gridOffsetWidth=3,this.metaNavHeight=31,this.resize(),window.addEventListener("resize",c.throttle(this.resize.bind(this))),window.addEventListener("orientationchange",c.throttle(this.resize.bind(this))),this.base=document.querySelector("body").getAttribute("base"),"undefined"!=typeof document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),void 0!==this.visibilityChange&&document.addEventListener(this.visibilityChange,this.onVisibilityChange.bind(this),!1)},ready:function(){this.containerMask=document.querySelector("#mask"),h["default"].base(this.baseUrl);for(var t in this.routes)(0,h["default"])(t,this.onRoute);(0,h["default"])("*",this.notFound),h["default"].start(this.routeOptions)},methods:{resize:function(){this.winWidth=window.innerWidth,this.winHeight=window.innerHeight,this.halfWinWidth=.5*this.winWidth,this.halfWinHeight=.5*this.winHeight,this.baseWidth=this.winWidth<768?640:this.winWidth<1600?1024:this.winWidth<1920?1600:1920,this.oneHeight=this.baseWidth*(this.winWidth/this.baseWidth),this.oneUnitWidth=this.winWidth/this.gridScreenWidth,this.stripWidth=this.oneUnitWidth*this.gridStripWidth,this.offsetWidth=this.oneUnitWidth*this.gridOffsetWidth,this.maskWidth=this.stripWidth-this.offsetWidth,this.scrollHeight=0,this.$broadcast("window:resize"),this.goToLoaderSlide(this.episode)},checkXtClick:function(){var t=this;if("undefined"==typeof xt_click)setTimeout(function(){t.checkXtClick()},100);else{for(var e=0;e<this.pendingTracking.length;e++)xt_click(document.getElementById("navigation"),"F",24,this.pendingTracking[e]),console.log("xt_click is ready: resolve pending",this.pendingTracking[e]);this.pendingTracking=[]}},onRoute:function(t){var e=this;return"undefined"!=typeof xt_click&&this.routes[t.path].tracking?(console.log("xt_click",null,"F",24,this.routes[t.path].tracking),xt_click(document.getElementById("navigation"),"F",24,this.routes[t.path].tracking)):(this.pendingTracking=this.pendingTracking||[],this.pendingTracking.push(this.routes[t.path].tracking),console.log("xt_click is not defined ... pending:",this.pendingTracking),this.checkXtClick()),this.oldLocation=null==this.location?{path:null,componentId:null}:this.location,this.location={path:t.path,episode:this.routes[t.path].episode,componentId:this.routes[t.path].componentId},this.bypassRouting?void(this.bypassRouting=!1):this.location.path===this.oldLocation.path?void(this.navDisplay&&(this.btnMenu.classList.toggle("active"),d["default"].touch?(this.navDisplay=!1,this.navMobile.classList.remove("active"),this.$refs.episode._enableScroll()):this.$broadcast("nav:close"))):(this.episode=this.location.episode,this.titleEpisode=this.routes[this.location.path].description,this.pageReady=!1,this.loadComplete=!1,this.loaderDisplay||this.showLoader(),this.firstLoad&&!this.episode?this.$broadcast("page:load",this.location.componentId):this.firstLoad&&this.episode&&(this.loader.classList.remove("main"),this.loader.classList.add("alternate"),setTimeout(function(){e.goToLoaderSlide(e.episode),setTimeout(function(){e.$broadcast("page:load",e.location.componentId)},1200)},25)),this.meta.title="Le dernier gaulois - "+this.routes[this.location.path].title,this.meta.description=this.routes[this.location.path].description,void 0)},notFound:function(){(0,h["default"])("/404")},afterUpdate:function(){this.pageReady=!0,this.onComplete()},onLoaderAssets:function(t){if(t.length){this.firstLoad?this.firstLoad=!1:this.assets=[];for(var e=0,i=t.length;i>e;e++)this.assets.push(t[e])}else this.onLoaderComplete()},onLoaderStart:function(){this.progress=0,this.realProgress=0,this.loader=this.$el.querySelector("#loader"),this.pourcent=this.loader.querySelector(".pourcent"),requestAnimationFrame(this.incrementLoader.bind(this))},onLoaderProgress:function(t){this.realProgress=t},incrementLoader:function(){return this.progress>99.9?void this.onLoaderComplete():(this.progress+=.1*(this.realProgress-this.progress),this.episode?this.loaderCircleAlternate.style.strokeDashoffset=1445-1445*this.progress/100:this.loaderCircle.style.strokeDashoffset=204-204*this.progress/100,void requestAnimationFrame(this.incrementLoader.bind(this)))},onLoaderComplete:function(){this.$broadcast("assets:loaded"),this.loadComplete=!0,this.onComplete()},onCanvasReady:function(){this.canvasReady=!0,this.onComplete()},onComplete:function(t){this.loadComplete&&this.pageReady&&this.$broadcast("page:show",this.location.componentId)},hideLoader:function(){var t=this;setTimeout(function(){t.loader.classList.add("hide"),setTimeout(function(){t.loader.classList.add("transparent"),t.$broadcast("brush:hide")},600)},25),setTimeout(function(){t.loaderDisplay=!1,t.$el.querySelector("#loader").style.display="none"},2125)},showLoader:function(){var t=this;this.loaderDisplay=!0,this.loader.style.display="block",this.$broadcast("brush:show"),this.$broadcast("page:hide",this.oldLocation.componentId),this.episode?this.loaderCircleAlternate.style.strokeDashoffset=1445:this.loaderCircle.style.strokeDashoffset=204,this.episode?(this.loader.classList.remove("main"),this.loader.classList.add("alternate")):(this.loader.classList.remove("alternate"),this.loader.classList.add("main")),setTimeout(function(){t.loader.classList.remove("hide")},25),setTimeout(function(){t.goToLoaderSlide(t.episode),t.navDisplay&&(t.btnMenu.classList.toggle("active"),d["default"].touch?(t.navDisplay=!1,t.navMobile.classList.remove("active")):t.$broadcast("nav:close")),setTimeout(function(){t.$broadcast("page:load",t.location.componentId)},1200)},1e3)},goToLoaderSlide:function(t){var e=this;setTimeout(function(){Array.prototype.forEach.call(e.itemLoader,function(i){i.style[d["default"].transform]="translateX(-"+t*e.winWidth+"px) "+d["default"].translateZ})},25)},setScroll:function(){d["default"].touch||(this.fakeScroll.style.height=this.scrollHeight-this.metaNavHeight+"px"),this.$broadcast("scroll:update"),this.$refs.episode.timeline.style.width=this.scrollHeight/10+"px"},audioPlay:function(t){this.$broadcast("audio:play",t)},audioSeek:function(t){this.$broadcast("audio:seek",t)},audioEnable:function(t){this.$broadcast("audio:enable",t)},audioDisable:function(t){this.$broadcast("audio:disable",t)},toggleMenu:function(t){t.preventDefault(),d["default"].touch?this.navDisplay?(this.navDisplay=!1,this.navMobile.classList.remove("active"),this.btnMenu.classList.remove("active"),this.$refs.episode._enableScroll(),this.audioEnable()):(this.navDisplay=!0,this.navMobile.classList.add("active"),this.btnMenu.classList.add("active"),this.$refs.episode._disableScroll(),this.audioDisable()):this.navIsAnimated||(this.navIsAnimated=!0,this.navDisplay?(this.$broadcast("nav:close"),this.audioEnable(),this.episode&&(this.scrollHeight=this.episodeHeight)):(this.navDisplay=!0,this.containerMask.classList.add("event-none"),this.$broadcast("nav:open"),this.audioDisable(),this.episode&&(this.scrollHeight=this.winHeight)),t.currentTarget.classList.toggle("active"))},openCredit:function(t){t&&t.preventDefault(),this.$broadcast("credits:show")},openModulePedago:function(t){t&&t.preventDefault(),this.$broadcast("modulePedago:show")},onBrushShow:function(){this.$broadcast("brush:show")},onBrushHide:function(){this.$broadcast("brush:hide")},nextEpisode:function m(){var t=Object.keys(this.routes);"/404"==t[0]&&t.reverse();for(var e=0,i=t.length;i>e;e++)if(console.log(this.location.path,t[e]),this.location.path==t[e]){var m=t[e+1];console.log(m),"/404"!=m&&h["default"].show(m);break}},onVisibilityChange:function(){document[this.hidden]?this.audioDisable("now"):this.audioEnable("now")}}})},{"./components/core-brush":2,"./components/core-container":5,"./components/core-container-mask":3,"./components/core-container-strip":4,"./components/core-dom":6,"./components/core-episode":7,"./components/core-gauge":9,"./components/core-loader":11,"./components/core-mixer":12,"./components/core-particle-container":13,"./components/core-scene":15,"./components/core-scene-slideshow":14,"./components/core-shape":16,"./components/core-slideshow":17,"./components/core-sprite":21,"./components/core-sprite-episode":19,"./components/core-sprite-strip":20,"./components/core-stage":22,"./components/core-strip":23,"./components/core-subtitle":24,"./directives/link":25,"./sections/credits":31,"./sections/home":33,"./sections/module-pedagogique":35,"./sections/p404":37,"./utils":46,"./utils/browserSupport":40,gsap:64,"html5-history-api":65,page:69,vue:200}],2:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("../../utils"),l=n(a);o["default"].component("core-brush",{template:'<canvas id="brush-canvas"></canvas>',events:{"window:resize":"resize","assets:loaded":"onLoadComplete","brush:show":"show","brush:hide":"hide"},created:function(){this.brush={el:new Image,x:0,y:0,width:0,height:0},this.background=new Image,this.numBrushRow=4,this.numBrushCol=10,this.numBrushImages=this.numBrushCol*this.numBrushRow},ready:function(){this.brushContext=this.$el.getContext("2d")},methods:{onLoadComplete:function(){this.brush.el.src="./assets/images/brush/transition-opt.png",this.background.src="./assets/images/loader/bg.jpg",this.resize()},resize:function(){this.brushComputedSize=l.calculateAspectRatio(this.brush.el.width/this.numBrushCol,this.brush.el.height/this.numBrushRow,this.$root.winWidth,this.$root.winHeight,!1),this.brushComputedX=Math.round(-(this.brushComputedSize.width-this.$root.winWidth)/2),this.brushComputedY=Math.round(-(this.brushComputedSize.height-this.$root.winHeight)/2),this.bgComputedSize=l.calculateAspectRatio(1920,1080,this.$root.winWidth,this.$root.winHeight,!1),this.coverX=Math.round(-(this.bgComputedSize.width-this.$root.winWidth)/2),this.coverY=Math.round(-(this.bgComputedSize.height-this.$root.winHeight)/2),this.$el.width=this.$root.winWidth,this.$el.height=this.$root.winHeight,(this.$root.loaderDisplay||this.$root.creditsDisplay||this.$root.modulePedagoDisplay)&&(this.brushContext.globalCompositeOperation="source-over",this.brushContext.drawImage(this.background,this.coverX,this.coverY,this.bgComputedSize.width,this.bgComputedSize.height))},show:function(){this.$el.style.display="block",this.brushTransition=!0,this.brushStep=0,this.brushBlendMode="additive",this.brushDirection="open",requestAnimationFrame(this.enterFrame.bind(this)),this.playBrush()},hide:function(){this.brushTransition=!0,this.brushStep=0,this.brushBlendMode="substractive",this.brushDirection="close",this.brushContext.globalCompositeOperation="source-over",this.brushContext.drawImage(this.background,this.coverX,this.coverY,this.bgComputedSize.width,this.bgComputedSize.height),requestAnimationFrame(this.enterFrame.bind(this)),this.playBrush()},playBrush:function(){var t=this;if(this.brushStep>=this.numBrushImages)this.brushTransition=!1,"close"==this.brushDirection&&(this.$el.style.display="none");else{var e=Math.floor(this.brushStep/this.numBrushCol),i=this.brushStep-e*this.numBrushCol;this.brush.width=this.brushComputedSize.width*this.numBrushCol,this.brush.height=this.brushComputedSize.height*this.numBrushRow,this.brush.x=-i*this.brushComputedSize.width+this.brushComputedX,this.brush.y=-e*this.brushComputedSize.height+this.brushComputedY,this.brushStep++,clearTimeout(this.brushTimer),this.brushTimer=setTimeout(function(){t.playBrush()},20)}},enterFrame:function(){this.brushTransition&&("additive"==this.brushBlendMode?(this.brushContext.globalCompositeOperation="source-over",this.brushContext.drawImage(this.brush.el,this.brush.x,this.brush.y,this.brush.width,this.brush.height),this.brushContext.globalCompositeOperation="source-in",this.brushContext.drawImage(this.background,this.coverX,this.coverY,this.bgComputedSize.width,this.bgComputedSize.height)):(this.brushContext.globalCompositeOperation="destination-out",this.brushContext.drawImage(this.brush.el,this.brush.x,this.brush.y,this.brush.width,this.brush.height)),requestAnimationFrame(this.enterFrame.bind(this)))}}})},{"../../utils":46,vue:200}],3:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=r(a),h=t("../../utils"),u=n(h),c=t("../../utils/browserSupport"),p=(r(c),t("../../mixins/graphics")),d=r(p);u.cubic(.4,0,.1,1),u.cubic(.3,.1,.05,1);o["default"].component("core-container-mask",{replace:!1,mixins:[d["default"]],events:{"window:resize":"resize"},compiled:function(){"dom"!=this.renderer?(this.elPixi=new l["default"].Container,this.container.addChild(this.elPixi),this.resize()):(this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px")},methods:{resize:function(){return this.width=this.$root.winWidth,this.height=this.$root.winHeight,this.elPixi.pivot.x=this.$root.winWidth/2,this.originPosition.x=this.$root.winWidth/2,!0},calcul:function(t,e){this.deltaPosition.x=.05*-(2*(t+.5-.5))*this.$root.winWidth}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],4:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=r(a),h=t("../../utils"),u=n(h),c=t("../../utils/browserSupport"),p=r(c),d=t("../../mixins/graphics"),f=r(d),m=u.cubic(.4,0,.1,1),v=u.cubic(.3,.1,.05,1);o["default"].component("core-container-strip",{replace:!1,mixins:[f["default"]],events:{"window:resize":"resize","nav:open":"onNavOpen","nav:close":"onNavClose"},props:["episode"],watch:{episode:"onEpisode"},created:function(){this.navigation=document.querySelector("#navigation"),this.initialize()},compiled:function(){this.elPixi=new l["default"].Container,this.container.addChild(this.elPixi),this.isContainer=!0,this.elPixi.pivot.x=this.anchor.x*this.$root.winWidth,this.elPixi.pivot.y=this.anchor.y*this.$root.winHeight,this.$el.classList.add("js-dom-renderer"),this.$el.style[p["default"].transformOrigin]="center center",this.$el.style.width=this.$root.winWidth+"px",this.$el.style.height=this.$root.winHeight+"px",this.disable()},ready:function(){this.initializePosition(),this.$el.style.display="none"},methods:{onEpisode:function(){this.initializePosition()},initialize:function(){this.width=this.$root.winWidth,this.height=this.$root.winHeight,this.originPosition.x=this.$root.winWidth/2,this.originPosition.y=this.$root.winHeight/2},resize:function(){if(this.initialize(),this.initializePosition(),this.elPixi.pivot.x=this.anchor.x*this.$root.winWidth,this.elPixi.pivot.y=this.anchor.y*this.$root.winHeight,this.$el.style.width=this.$root.winWidth+"px",this.$el.style.height=this.$root.winHeight+"px",this.$root.navDisplay)for(var t=0,e=this.strips.length;e>t;t++)this.strips[t].originPosition.x=this.finalPosition[t],t==this.episode-1&&this.$dispatch("mask:animate",[this.finalPosition[t],!0]);else for(var t=0,i=this.strips.length;i>t;t++)this.strips[t].originPosition.x=this.initPosition[t];return!0},initializePosition:function(){this.strips=this.$children,this.finalPosition=[],this.initPosition=[],0==this.episode&&(this.episode=1);for(var t=0,e=this.strips.length;e>t;t++)this.finalPosition.push(t*this.$root.stripWidth-this.$root.offsetWidth*(t+1));for(var t=0,i=this.strips.length;i>t;t++)t<this.episode-1?this.initPosition.push(this.finalPosition[t]-this.finalPosition[this.episode-1]-this.$root.offsetWidth):t==this.episode-1?this.initPosition.push(this.finalPosition[t]):this.initPosition.push(this.finalPosition[t]+this.$root.winWidth-this.finalPosition[this.episode-1]-(this.$root.stripWidth-this.$root.offsetWidth))},onNavOpen:function(){var t=this;this.enable(),this.$el.style.display="block",setTimeout(function(){t.$el.classList.add("active")},25);for(var e=0,i=this.strips.length;i>e;e++)this.strips[e].enable(),this.strips[e].originAlpha=1,e==this.episode-1&&(this.currentStrip=this.strips[e],this.currentStrip.originAlpha=0,this.$dispatch("mask:animate",this.finalPosition[e]));for(var n=new TimelineMax({paused:!0,onStart:function(){t.navigation.classList.add("active"),t.$parent.bgNavigation.classList.add("active")},onComplete:function(){t.originAlpha=1,setTimeout(function(){t.$root.navIsAnimated=!1},400)}}),e=0,r=this.strips.length;r>e;e++)n.fromTo(this.strips[e].originPosition,1,{x:this.initPosition[e]},{x:this.finalPosition[e],ease:v},"group");return n.to(this,1,{originAlpha:1,ease:v},"group"),n.to(this.currentStrip,.4,{originAlpha:1,ease:v}),n.play(),!0},onNavClose:function(){var t=this;setTimeout(function(){t.$el.classList.remove("active")},25);var e=new TimelineMax({paused:!0,onComplete:function(){for(var e=0,i=t.strips.length;i>e;e++)t.strips[e].disable();setTimeout(function(){t.$root.navIsAnimated=!1,t.$root.navDisplay=!1,t.$root.containerMask.classList.remove("event-none"),t.disable(),t.$el.style.display="none"},400)}});e.to(this.currentStrip,.4,{originAlpha:0,ease:v,onComplete:function(){t.$dispatch("mask:animate",!1),t.originAlpha=1,t.navigation.classList.remove("active"),t.$parent.bgNavigation.classList.remove("active")}}),e.to(this,.8,{originAlpha:0,ease:v},"group");for(var i=0,n=this.strips.length;n>i;i++)e.fromTo(this.strips[i].originPosition,.8,{x:this.finalPosition[i]},{x:this.initPosition[i],ease:m},"group");return e.play(),!0},calcul:function(t,e){if(this.visible){this.deltaPosition.x=.05*-(2*(t+.5-.5))*this.$root.winWidth;for(var i=0,n=this.$children.length;n>i;i++)this.$children[i].calcul(t,e)}},enterFrame:function(){if(this.visible){this.update(),this.elPixi.position.x=this.position.x,this.elPixi.position.y=this.position.y,this.elPixi.scale.x=this.scale.x,this.elPixi.scale.y=this.scale.y;for(var t=0,e=this.$children.length;e>t;t++)this.$children[t].enterFrame();this.$el.style.opacity=this.originAlpha,this.$el.style[p["default"].transform]="translate("+(this.position.x-this.$root.winWidth/2)+"px, "+(this.position.y-this.$root.winHeight/2)+"px) scale("+this.scale.x+","+this.scale.y+") rotate("+this.rotation+"deg) "+p["default"].translateZ}}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],5:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=r(a),h=t("../../utils"),u=(n(h),t("../../utils/browserSupport")),c=(r(u),t("../../mixins/graphics")),p=r(c);o["default"].component("core-container",{replace:!1,mixins:[p["default"]],props:["parallax"],events:{"window:resize":"resize"},created:function(){this.parallax=this.parallax?Number(this.parallax):1},compiled:function(){"dom"!=this.renderer?(this.elPixi=new l["default"].Container,this.container.addChild(this.elPixi)):(this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px")},methods:{calcul:function(t,e){if("debug-container"==this.ref)this.deltaPosition.y=-this.$root.scroll*this.parallax;else for(var i=0,n=this.$children.length;n>i;i++)this.$children[i].calcul(t,e)},resize:function(){var t=this;return"dom"==this.renderer&&o["default"].nextTick(function(){t.$el.style.width=t.width+"px",t.$el.style.height=t.height+"px"}),!0},update:function(){this.scale.x=this.originScale.x,this.scale.y=this.originScale.y,this.rotation=this.originRotation+this.deltaRotation,this.position.x+=(this.originPosition.x+this.deltaPosition.x-this.position.x)*this.friction,this.position.y+=(this.originPosition.y+this.deltaPosition.y-this.position.y)*this.friction,this.width&&this.position.x<-this.width*this.scale.x||this.position.x>this.$root.winWidth||this.height&&this.position.y<-this.height*this.scale.y||this.position.y>this.$root.winHeight?1==this.visible&&this.disable():0==this.visible&&this.enable()}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],6:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=(r(a),t("../../utils")),h=(n(l),t("../../utils/browserSupport")),u=(r(h),t("../../mixins/graphics")),c=r(u);o["default"].component("core-dom",{replace:!1,mixins:[c["default"]],events:{"window:resize":"resize"},compiled:function(){this.resize()},methods:{resize:function(){this.$el.style.width=this.$parent.width+"px"},calcul:function(){this.originPosition.x=this.$parent.position.x,this.originPosition.y=this.$parent.position.y}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],7:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("superagent"),l=r(a),h=t("lodash"),u=r(h),c=t("../../utils"),p=n(c),d=t("pixi.js"),f=r(d),m=t("../../utils/browserSupport"),v=r(m),g=t("./template.html"),_=r(g),y=t("../../mixins/scroll"),x=r(y),b=t("../../mixins/graphics"),w=r(b),T=t("../../vendors/PIXI.DisplacmentFilter.js"),E=r(T),S=t("../../vendors/PIXI.BlurFilter.js"),C=r(S),A=p.cubic(.4,0,.1,1),P=p.cubic(.3,.1,.05,1),R=50;o["default"].component("core-episode",{mixins:v["default"].touch?[x["default"],w["default"]]:[w["default"]],template:_["default"],props:["episode","title"],data:function(){return{dataAudio:{voices:[],sounds:[]},dataImages:{frame:[],json:[]},dataSlides:[],cuePoint:{voices:[],sounds:[]},tiles:[],assetsLoaded:!1,titleEpisode:"",romanNumber:0,ratioGauge:0,triggers:[]}},events:{"window:resize":"resize","scroll:update":"onScrollUpdate","page:load":"loadEpisode","page:show":"showEpisode","page:hide":"hideEpisode","assets:loaded":"onAssetsLoaded","mask:animate":"onMaskAnimate","nav:open":"onNavOpen","nav:close":"onNavClose"},created:function(){this.debug=!1,this.assets=[],this.enableScroll=!1,this.scrollTop=0,this.lastScroll=null,this.timer=0,this.timerSlideshow=0,this.lastDirection=1,this.direction=1,this.speed=0,this.realSpeed=0,this.secondRealSpeed=0,this.curentCuePoint={sounds:-1,voices:-1},this.soundEnable=!0,this.nextEpisode=!1},compiled:function(){this.elPixi=new f["default"].Container,this.width=this.$root.winWidth,this.height=this.$root.winHeight,this.elPixi.pivot.x=this.$root.winWidth/2,this.originPosition.x=this.$root.winWidth/2,this.container.addChild(this.elPixi),this.gauge=this.$el.querySelector(".message"),this.timeline=this.$el.querySelector(".timeline"),this.onScrollPageBinded=this.onScrollPage.bind(this),this.disable()},methods:{loadEpisode:function(t){var e=this;"episode"==t&&(this.romanNumber=p.romanize(this.episode),this.titleEpisode=this.title,l["default"].get("./assets/datas/ep"+this.episode+"/sound.json").end(function(t,i){return t?console.log("Error in file or no exist"):(e.dataAudio=i.body,e.dataSlides=i.body.voices,void e.setCuePoint())}),l["default"].get("./assets/datas/ep"+this.episode+"/images.json").end(function(t,i){if(t)return console.log("Error in file or no exist");e.dataImages=i.body,e.assets=[];for(var n=0,r=e.dataImages.json[e.$root.baseWidth].length;r>n;n++)e.assets.push(e.dataImages.json[e.$root.baseWidth][n]);e.$dispatch("loader:assets",e.assets)}))},onAssetsLoaded:function(){this.episode&&(this.$root.scrollHeight=0,this.$root.episodeHeight=0,this.tiles=u["default"].sortBy(this.dataImages.frame),this.assetsLoaded=!0,this.onComplete())},onComplete:function(){var t=this;this.audioLoaded&&this.assetsLoaded&&(v["default"].touch||this.applyShader(),this.curentCuePoint={sounds:-1,voices:-1},this.scrollTop=0,this.$root.scroll=0,setTimeout(function(){window.scrollTo(0,0),document.addEventListener("scroll",t.onScrollPageBinded,!1)},25),this.enableScroll=!0,this.$dispatch("page:ready"),v["default"].touch?(this._enableScroll(),this.jumpTo(0,0)):this.$dispatch("audio:play","background"))},showEpisode:function(t){var e=this;"episode"==t&&(this.$el.style.display="block",this.enable(),1==this.soundEnable||this.$dispatch("audio:disable"),setTimeout(function(){e.resize()},25),this.$root.loaderDisplay&&this.$dispatch("loader:hide"),this.$el.classList.remove("hide"),setTimeout(function(){e.$el.classList.add("show");var t=new TimelineMax({paused:!0});t.to(e,1,{ratioGauge:1,onComplete:function(){e.gauge.classList.add("show-text")},ease:P}),t.to(e,1,{ratioGauge:0,ease:A}),t.play()},1e3))},hideEpisode:function(t){var e=this;"episode"==t&&(this.enableScroll=!1,document.removeEventListener("scroll",this.onScrollPageBinded,!1),this.$root.scrollHeight=0,this.$root.episodeHeight=0,setTimeout(function(){e.$el.classList.remove("show"),e.gauge.classList.remove("show-text"),e.assetsLoaded=!1,e.audioLoaded=!1,e.dataAudio.sounds.splice(0,e.dataAudio.sounds.length),e.dataAudio.voices.splice(0,e.dataAudio.voices.length),e.dataSlides.splice(0,e.dataSlides.length),e.dataImages.frame.splice(0,e.dataImages.frame.length),e.dataImages.json={},e.tiles.splice(0,e.tiles.length),v["default"].touch||(e.elPixi.filters=[]),e.$el.style.display="none",e.disable()},1e3))},resize:function(){if(this.width=this.$root.winWidth,this.height=this.$root.winHeight,this.elPixi.pivot.x=this.$root.winWidth/2,this.originPosition.x=this.$root.winWidth/2,this.visible)for(var t in this.cuePoint)for(var e=0,i=this.cuePoint[t].length;i>e;e++){var n=v["default"].touch?this.dataAudio[t][e].ratio*this.$root.oneHeight+this.$root.oneHeight/3:this.dataAudio[t][e].ratio*this.$root.oneHeight;this.cuePoint[t][e].trigger=n,"voices"==t&&0!=e&&(this.triggers[e-1].value=n)}return!0},onScrollUpdate:function(){v["default"].touch&&this.updateScrollSize(this.$root.winWidth,this.$root.winHeight,this.$root.winWidth,this.$root.scrollHeight)},onScroll:function(t,e){this.enableScroll&&(this.scrollTop=e)},onScrollPage:function(){this.enableScroll&&(this.scrollTop=window.pageYOffset||document.documentElement.scrollTop)},checkScrollSpeed:function(){var t=this;null!=this.lastScroll&&(this.speed=Math.abs(this.scrollTop-this.lastScroll),Math.abs(this.secondRealSpeed)>R&&(clearTimeout(this.timerSlideshow),this.timerSlideshow||(this.disableSound=!0,this.gauge.classList.add("active"),this.$broadcast("slideshow:show"),setTimeout(function(){t.$el.classList.add("is-scrolling-too-fast")},500),this.$dispatch("audio:disable","voices"),v["default"].touch||this.$dispatch("audio:disable","sounds")),this.timerSlideshow=setTimeout(function(){t.disableSound=!1,t.timerSlideshow=0,t.gauge.classList.remove("active"),t.$broadcast("slideshow:hide"),t.$el.classList.remove("is-scrolling-too-fast")},1e3))),this.lastScroll=this.scrollTop,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.lastScroll=null},30)},enterFrame:function(){var t=this;if(this.visible&&(this.update(),this.elPixi.position.x=this.position.x,this.elPixi.position.y=this.position.y,this.elPixi.scale.x=this.scale.x,this.elPixi.scale.y=this.scale.y,
this.elPixi.alpha=this.originAlpha,!this.$root.navDisplay)){var e;!function(){t.checkScrollSpeed(),t.secondRealSpeed+=.05*(t.speed-t.secondRealSpeed),t.disableSound||(t.realSpeed+=.05*(t.speed-t.realSpeed),t.ratioGauge=t.realSpeed/R,v["default"].touch||(t.blurFilterX.spread=1.6*p.clamp(1.66*(t.ratioGauge-.33),0,1),t.blurFilterY.spread=1.6*p.clamp(1.66*(t.ratioGauge-.33),0,1))),Math.round(t.scrollTop)>Math.round(t.$root.scroll)?t.direction=1:Math.round(t.scrollTop)==Math.round(t.$root.scroll)||(t.direction=-1),t.$root.scroll+=(t.scrollTop-t.$root.scroll)*(v["default"].touch?1:.1),t.$root.scroll>10?t.$el.classList.add("is-scrolling"):t.$el.classList.remove("is-scrolling"),t.$root.scroll>=t.$root.scrollHeight-t.$root.winHeight-5?t.nextEpisode||(t.nextEpisode=!0,t.timerEnd=setTimeout(function(){t.$dispatch("page:nextEpisode")},2200)):t.nextEpisode&&(t.nextEpisode=!1,clearTimeout(t.timerEnd));var i=-t.$root.scroll/10;if(t.timeline.style[v["default"].transform]="translateX("+i+"px) "+v["default"].translateZ,Array.prototype.forEach.call(t.bullets,function(t,e){var n=parseFloat(t.style.left),r=n+i;if(r>-50&&50>r){var s=r+100*r/100;s/=100,s=1-1*Math.abs(s),t.style[v["default"].transform]="scale("+(.25+s/1.33)+") "+v["default"].translateZ}}),t.cuePoint)for(e in t.cuePoint)if(v["default"].touch&&"sounds"==e);else for(var n=0,r=t.cuePoint[e].length;r>n;n++)if(t.screenPosition=t.cuePoint[e][n].trigger-t.$root.scroll,t.isTrigger=1==t.direction?t.screenPosition<=t.$root.halfWinHeight:t.screenPosition>=t.$root.halfWinHeight,t.isTrigger&&t.screenPosition>0&&t.screenPosition<t.$root.winHeight){(t.curentCuePoint[e]!=n||t.curentCuePoint[e]==n&&t.lastDirection!=t.direction)&&(t.curentCuePoint[e]=n,t.lastDirection=t.direction,t.disableSound||0==n||t.$dispatch("audio:seek",[e,t.cuePoint[e][n].start,t.cuePoint[e][n].end]),"voices"==e&&t.$broadcast("slideshow:goto",n));break}if(t.$children)for(var s=0,o=t.$children.length;o>s;s++)t.$children[s].calcul&&(t.$children[s].calcul(),t.$children[s].enterFrame())}()}},setCuePoint:function(){var t=this;this.cuePoint.voices.splice(0,this.cuePoint.voices.length),this.cuePoint.sounds.splice(0,this.cuePoint.sounds.length),this.triggers.splice(0,this.triggers.length);for(var e in this.dataAudio)for(var i in this.dataAudio[e]){var n=v["default"].touch?this.dataAudio[e][i].ratio*this.$root.oneHeight+this.$root.oneHeight/3:this.dataAudio[e][i].ratio*this.$root.oneHeight;this.cuePoint[e][i]={start:this.dataAudio[e][i].start,end:this.dataAudio[e][i].end,label:this.dataAudio[e][i].label,trigger:n},"voices"==e&&0!=i&&this.triggers.push({value:n})}this.audioLoaded=!0,o["default"].nextTick(function(){t.bullets=t.$el.querySelectorAll(".bullet-audio-trigger"),t.onComplete()})},applyShader:function(){this.displacementFilter=new E["default"],this.displacementFilter.amount=-.11,this.blurFilterX=new C["default"],this.blurFilterX.amountX=.1,this.blurFilterY=new C["default"],this.blurFilterY.amountY=.1,this.elPixi.filters=[this.displacementFilter,this.blurFilterX,this.blurFilterY]},toggleSound:function(t){t.preventDefault(),t.currentTarget.classList.toggle("active"),this.soundEnable?(this.$dispatch("audio:disable"),this.soundEnable=!1):(this.soundEnable=!0,this.$dispatch("audio:enable"))},onNavOpen:function(t){this.visible&&(this.$dispatch("episode:index",this.episode),this.backupScroll=this.scrollTop,this.enableScroll=!1,this.$el.classList.add("hide"))},onNavClose:function(){var t=this;this.visible&&(this.$el.classList.remove("hide"),setTimeout(function(){t.enableScroll=!0,window.scrollTo(0,t.backupScroll),v["default"].touch&&t._enableScroll()},1200))},onMaskAnimate:function(t){var e=this;if(!v["default"].touch)if(Array.isArray(t))this.originPosition.x=t[0]+this.$root.stripWidth/2;else if(t){var i=new TimelineMax({paused:!0,onComplete:function(){e.$root.scrollHeight=0}});i.to(this.originScale,1,{x:.8,y:.8,ease:P},"group"),i.to(this.originPosition,.8,{x:t+this.$root.stripWidth/2,ease:P},"group"),i.play()}else{var i=new TimelineMax({paused:!0,onStart:function(){e.$root.scrollHeight=e.$root.episodeHeight}});i.to(this.originScale,.8,{x:1,y:1,ease:A},"group"),i.to(this.originPosition,.6,{x:this.$root.winWidth/2,ease:A},"group"),i.play()}}}})},{"../../mixins/graphics":26,"../../mixins/scroll":30,"../../utils":46,"../../utils/browserSupport":40,"../../vendors/PIXI.BlurFilter.js":50,"../../vendors/PIXI.DisplacmentFilter.js":51,"./template.html":8,lodash:67,"pixi.js":165,superagent:197,vue:200}],8:[function(t,e,i){e.exports='<div id="episode" v-bind:class="\'episode-\'+episode">\n\n    <core-container ref="debug-container" renderer="dom" v-if="debug">\n        <template v-for="(index, trigger) in cuePoint.sounds">\n            <div class="audio-trigger sound-trigger" v-bind:style="{ top: trigger.trigger+\'px\' }">{{ trigger.label }}</div>\n        </template>\n    \n        <template v-for="trigger in cuePoint.voices">\n            <div class="audio-trigger" v-bind:style="{ top: trigger.trigger+\'px\' }">{{ trigger.label }}</div>\n        </template>\n    </core-container>\n\n    <core-container ref="debug-container" renderer="dom" class="title-episode valign" parallax="1.2" v-bind:width="$root.winWidth" v-bind:height="$root.winHeight">\n        <div class="symbol-loader">\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 527.4 527.4" style="enable-background:new 0 0 527.4 527.4;" xml:space="preserve">\n                \n                <circle cx="263.7" cy="263.7" r="230"/>\n                <path class="st0" d="M66.9,198.8c20.5-62.2,69.7-111.4,131.9-131.9"/>\n                <path class="st0" d="M198.3,460.3c-61.7-20.5-110.4-69.2-131.1-130.8"/>\n                <path class="st0" d="M460.2,329.3c-21,62.8-71.2,112.2-134.5,132.1"/>\n                <path class="st0" d="M328.6,66.9c61.9,20.4,111,69.3,131.6,131.1"/>\n                <circle class="st0" cx="263.7" cy="263.7" r="59.1"/>\n                <polyline class="st0" points="67.3,328.2 2.8,263.7 263.7,2.8 524.5,263.7 263.7,524.5 67.3,328.2 "/>\n                <polyline class="st0" points="170.4,448.1 79.2,448.1 79.2,79.2 448.1,79.2 448.1,448.1 170.4,448.1 "/>\n                <rect x="134" y="134" class="st0" width="259.4" height="259.4"/>\n                <rect x="134" y="134" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 636.5916 263.6849)" class="st0" width="259.4" height="259.4"/>\n                <line class="st0" x1="263.7" y1="393.4" x2="263.7" y2="524.7"/>\n                <path class="st0" d="M263.7,393.4"/>\n                <line class="st0" x1="263.7" y1="2.7" x2="263.7" y2="134"/>\n                <line class="st0" x1="134" y1="263.7" x2="2.7" y2="263.7"/>\n                <path class="st0" d="M134,263.7"/>\n                <line class="st0" x1="524.7" y1="263.7" x2="393.7" y2="263.7"/>\n                <path class="st0" d="M263.7,263.7c0,0-129.7,9.2-129.7,129.7"/>\n                <path class="st0" d="M263.7,263c0,0-129.7-9.2-129.7-129.7"/>\n                <path class="st0" d="M263.1,263.7c0,0,129.7,9.2,129.7,129.7"/>\n                <path class="st0" d="M263.1,263c0,0,129.7-9.2,129.7-129.7"/>\n                <path class="st0" d="M263,263.6c0,0-9.2-129.7-129.7-129.7"/>\n                <path class="st0" d="M263.7,263.6c0,0,9.2-129.7,129.7-129.7"/>\n                <path class="st0" d="M263,263c0,0-9.2,129.7-129.7,129.7"/>\n                <path class="st0" d="M263.7,263c0,0,9.2,129.7,129.7,129.7"/>\n            </svg>\n        </div>\n        <div class="valign__content">\n            <h1><span class="line">Episode {{ romanNumber }}</span></h1>\n            <h2><span class="line">{{ titleEpisode }}</span></h2>\n        </div>\n    </core-container>\n    \n    <template v-for="tile in tiles" :id="$index">\n        <core-sprite-episode\n            v-bind:ref="\'tile-\'+$index"\n            renderer="pixi"\n            v-bind:url="tile"\n            v-bind:position="\'0,\'+$index"\n            frame="true"\n            smooth="true"\n        ></core-sprite-episode>\n    </template>\n    \n    <core-slideshow v-bind:my-slides="dataSlides"></core-slideshow>\n    \n    <div class="message">\n    \n        <div class="ui">\n            <div class="timeline">\n                <template v-for="trigger in triggers">\n                    <div class="bullet-audio-trigger" v-bind:style="{ left: (trigger.value - $root.halfWinHeight)/10+\'px\' }"></div>\n                </template>\n            </div>\n        </div>\n\n        <core-gauge v-bind:my-ratio="ratioGauge"></core-gauge>\n        \n        <div class="message__label">\n            Faites défiler vers le bas\n            <span>Faites défiler vers le bas</span>\n            <span>N\'allez pas trop vite</span>\n        </div>\n    </div>\n\n    <a href="#" class="sound btn-round valign" v-on:click="toggleSound($event)">\n        <span class="valign__content icon">\n\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 13 10.7" style="enable-background:new 0 0 13 10.7;" xml:space="preserve" width="15" height="14">\n                <path class="st0" d="M4.8,0.2C5.1-0.1,5.4,0,5.4,0.4v9.9c0,0.4-0.3,0.5-0.6,0.2L1.9,7.6H0V3.1h1.9L4.8,0.2z"/>\n                <path class="cross" d="M10.5,5.4l1.8-1.8c0.2-0.2,0.2-0.6,0-0.8c-0.2-0.2-0.6-0.2-0.8,0L9.7,4.6L7.9,2.8c-0.2-0.2-0.6-0.2-0.8,0\n                    C7,3,7,3.4,7.2,3.6l1.8,1.8L7.2,7.1C7,7.3,7,7.7,7.2,7.9l0,0c0.2,0.2,0.6,0.2,0.8,0l1.8-1.8l1.8,1.8c0.2,0.2,0.6,0.2,0.8,0l0,0\n                    c0.2-0.2,0.2-0.6,0-0.8L10.5,5.4z"/>\n                <g class="volume">\n                    <path class="st0" d="M10.6,10.3c-0.1,0-0.3-0.1-0.4-0.2c-0.2-0.2-0.2-0.6,0-0.8c1-1,1.6-2.4,1.6-3.9s-0.6-2.9-1.6-3.9\n                        c-0.2-0.2-0.2-0.6,0-0.8c0.2-0.2,0.6-0.2,0.8,0c1.3,1.3,2,2.9,2,4.7s-0.7,3.5-2,4.7C10.9,10.2,10.8,10.3,10.6,10.3z"/>\n                    <path class="st0" d="M8.6,9.2C8.5,9.2,8.3,9.1,8.2,9C8,8.8,8,8.4,8.2,8.2c1.6-1.6,1.6-4.1,0-5.7C8,2.3,8,1.9,8.2,1.7\n                        c0.2-0.2,0.6-0.2,0.8,0c1,1,1.5,2.3,1.5,3.6S10,8,9,9C8.9,9.1,8.7,9.2,8.6,9.2z"/>\n                    <path class="st0" d="M6.6,8.1C6.4,8.1,6.3,8,6.2,7.9c-0.2-0.2-0.2-0.6,0-0.8c1-1,1-2.5,0-3.5C5.9,3.4,5.9,3,6.2,2.8\n                        c0.2-0.2,0.6-0.2,0.8,0c1.4,1.4,1.4,3.7,0,5.1C6.9,8,6.7,8.1,6.6,8.1z"/>\n                </g>\n            </svg>\n\n        </span>\n    </a>\n\n</div>'},{}],9:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("../../utils"),l=(n(a),t("../../utils/browserSupport")),h=(r(l),t("./template.html")),u=r(h);o["default"].component("core-gauge",{template:u["default"],props:["myRatio"],watch:{myRatio:"increment"},ready:function(){this.gaugeCircle=this.$el.querySelector("svg path.circle2"),this.gaugeCircle.style.strokeDashoffset=127},methods:{increment:function(){this.myRatio>1&&(this.myRatio=1),this.gaugeCircle.style.strokeDashoffset=127+127*this.myRatio}}})},{"../../utils":46,"../../utils/browserSupport":40,"./template.html":10,vue:200}],10:[function(t,e,i){e.exports='<div class="icon">\n\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         viewBox="0 0 44 44" style="enable-background:new 0 0 44 44;" xml:space="preserve" width="44" height="44">\n\n         <defs>\n            <linearGradient id="gradientGauge" x1="100%" y1="0%" x2="0%" y2="0%">\n                <stop offset="0%" stop-color="#f7e6be"/>\n                <stop offset="50%" stop-color="#ec863c"/>\n                <stop offset="100%" stop-color="#ec863c"/>\n            </linearGradient>\n        </defs>\n\n        <path class="circle1" d="M22,2C10.7,2,1.6,11,1.6,22S10.7,42,22,42S42.4,33,42.4,22S33.3,2,22,2z"/>\n        <path class="circle2" d="M22,2C10.7,2,1.6,11,1.6,22S10.7,42,22,42S42.4,33,42.4,22S33.3,2,22,2z" stroke="url(#gradientGauge)"/>\n\n        <g class="arrow">\n            <line class="st1" x1="22" y1="17.5" x2="22" y2="26.2"/>\n            <polyline class="st1" points="25.5,23 22,26.5 18.5,23 "/>\n        </g>\n\n        <!-- <g class="sound">\n            <polygon class="st1" points="21.1,26.4 25.5,30.7 27.2,30.7 27.2,20.3    "/>http://yoplait.azurewebsites.net/age/23\n            <rect x="22.3" y="10.3" transform="matrix(0.7071 0.7071 -0.7071 0.7071 22.2562 -9.7311)" class="st1" width="1.2" height="23.5"/>\n            <polygon class="st1" points="27.2,13.3 25.5,13.3 20.3,18.5 15,18.5 15,25.5 16.8,25.5 27.2,15    "/>\n        </g>\n\n        <g class="arrow">\n            <rect x="21.4" y="12.8" class="st1" width="1.2" height="16.1"/>\n            <polygon class="st1" points="26,26.5 22,31.5 18,26.5    "/>\n        </g> -->\n    </svg>\n</div>'},{}],11:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("gsap"),a=(n(o),t("../../mixins/loader")),l=n(a),h=t("../../utils/browserSupport");n(h);s["default"].component("core-loader",{mixins:[l["default"]],props:["myAssets","onStart","onProgress","onComplete"],data:function(){return{realProgress:0,progress:0}},events:{"load:start":"onLoadStart","load:progress":"onLoadProgress","load:complete":"onLoadComplete"},watch:{myAssets:"loadAssets"},methods:{loadAssets:function(){this.myAssets&&(this.$options.manifest=this.myAssets,this.load())},onLoadStart:function(){this.onStart&&this.onStart()},onLoadProgress:function(t){this.progress=t.progress,this.onProgress(this.progress)},onLoadComplete:function(){this.onProgress(100),this.onComplete&&this.onComplete()}}})},{"../../mixins/loader":29,"../../utils/browserSupport":40,gsap:64,vue:200}],12:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("gsap"),a=n(o),l=t("../../utils/browserSupport"),h=n(l);s["default"].component("core-mixer",{replace:!1,props:["episode"],data:function(){return{stopRequestAnim:!1}},watch:{episode:"initialize"},events:{"audio:disable":"onDisable","audio:enable":"onEnable","audio:seek":"seek","audio:play":"play"},created:function(){this.disable=!1,this.timecodeEnd={voices:[],sounds:[]}},ready:function(){},methods:{initialize:function(){var t=this;0!=this.episode&&(this.audio&&this.onDisable(),setTimeout(function(){t.background=t.$el.querySelector("#audio-background"),t.sounds=t.$el.querySelector("#audio-sounds"),t.voices=t.$el.querySelector("#audio-voices"),t.background.load(),t.sounds.load(),t.voices.load(),t.background.volume=1,t.sounds.volume=1,t.voices.volume=1,t.allAudioStopped=!1,t.sounds.addEventListener("timeupdate",t.updateSounds.bind(t),!1),t.voices.addEventListener("timeupdate",t.updateVoices.bind(t),!1),t.audio={background:t.background,sounds:t.sounds,voices:t.voices},h["default"].touch&&(t.ontouchStartBinded=t.ontouchStart.bind(t),document.documentElement.addEventListener(h["default"].pointerup,t.ontouchStartBinded,!0))},610))},ontouchStart:function(){var t=this;this.episode&&(this.audio.voices.currentTime=0,this.audio.voices.muted=!0,this.audio.voices.play(),setTimeout(function(){t.audio.voices.pause(),t.audio.voices.muted=!1},500),document.documentElement.removeEventListener(h["default"].pointerup,this.ontouchStartBinded,!0))},onDisable:function(t){var e=this;if(t&&"now"==t)if(h["default"].touch)this.audio.voices.pause();else for(var i in this.audio)this.audio[i].pause(),console.log("disable:"+t);else if(t)a["default"].to(this.audio[t],.6,{volume:0,ease:SteppedEase.config(10),onComplete:function(){e.audio[t].pause()}});else{if(this.allAudioStopped)return;if(this.allAudioStopped=!0,h["default"].touch)a["default"].to(this.audio.voices,.6,{volume:0,ease:SteppedEase.config(10),onComplete:function(){e.audio.voices.pause()}});else{var n=function(t){a["default"].to(e.audio[t],.6,{volume:0,ease:SteppedEase.config(10),onComplete:function(){e.audio[t].pause()}})};for(var i in this.audio)n(i)}}},onEnable:function(t){var e=this;if(t&&"now"==t)if(h["default"].touch)this.audio.voices.play();else for(var i in this.audio)this.audio[i].play(),console.log("enable:"+t);else if(t)a["default"].to(this.audio[t],.6,{volume:1,ease:SteppedEase.config(10),onStart:function(){e.audio[t].play()}});else{if(!this.allAudioStopped)return;if(this.allAudioStopped=!1,h["default"].touch)a["default"].to(this.audio.voices,.6,{volume:1,ease:SteppedEase.config(10),onStart:function(){e.audio.voices.play()}});else{var n=function(t){a["default"].to(e.audio[t],.6,{volume:1,ease:SteppedEase.config(10),onStart:function(){e.audio[t].play()}})};for(var i in this.audio)n(i)}}},play:function(t){this.audio[t].volume=1,this.audio[t].play()},seek:function(t){this.allAudioStopped||this.isPlaying&&t[2]/1e3==this.timecodeEnd[t[0]]||(this.isPlaying=!0,this.audio[t[0]].currentTime=t[1]/1e3,this.timecodeEnd[t[0]]=t[2]/1e3,this.audio[t[0]].volume=1,this.audio[t[0]].play())},updateSounds:function(){this.timecodeEnd.sounds&&this.audio.sounds.currentTime>=this.timecodeEnd.sounds&&(this.audio.sounds.pause(),this.timecodeEnd.sounds=null,this.isPlaying=!1)},updateVoices:function(){this.timecodeEnd.voices&&this.audio.voices.currentTime>=this.timecodeEnd.voices&&(this.audio.voices.pause(),this.timecodeEnd.voices=null,this.isPlaying=!1)}}})},{"../../utils/browserSupport":40,gsap:64,vue:200}],13:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("pixi.js"),a=n(o),l=t("../../mixins/graphics"),h=n(l),u=30;s["default"].component("core-particle-container",{replace:!1,mixins:[h["default"]],props:["parallax","offsetRatio"],created:function(){this.parallax=this.parallax?Number(this.parallax):0,this.offsetRatio=this.offsetRatio?Number(this.offsetRatio):.5},compiled:function(){this.particlesContainer=new a["default"].ParticleContainer(u,{scale:!0,position:!0,rotation:!0,uvs:!0,alpha:!0}),this.container.addChild(this.particlesContainer),this.progress=0,this.speed=.0025,this.sparks=[];for(var t=0;u>t;t++){var e=a["default"].Sprite.fromImage("assets/images/spark.png");e.anchor.set(.5),e.originScale=.8+.4*Math.random(),e.scale.set(e.originScale),e.alpha=.5,e.originPosition={x:Math.random()*this.width,y:this.height+e.height},e.direction=Math.random()>.5?1:-1,e.windForce=.5+.5*Math.random(),e.position.x=e.originPosition.x,e.position.y=e.originPosition.y,e.swingStep=1+2*Math.random(),e.swing=1+2*Math.random(),e.progress=Math.random(),e.speed=.0025+.005*Math.random(),e.rotation=Math.random()*Math.PI*2,e.offset=100*Math.random(),this.sparks.push(e),this.particlesContainer.addChild(e)}},methods:{calcul:function(t,e){this.deltaPosition.x=-(2*(t+this.offsetRatio-.5))*this.parallax*(this.$root.winWidth/this.$parent.originScale.x),this.deltaPosition.y=-(2*(e+this.offsetRatio-.5))*this.parallax*(this.$root.winHeight/this.$parent.originScale.y)},enterFrame:function(){this.progress+=this.speed,this.progress>=.02&&(this.progress=0,this.speed=.0025+5e-4*Math.random());for(var t=0,e=this.sparks.length;e>t;t++){var i=this.sparks[t];i.scale.x=i.originScale-i.progress*i.originScale,i.scale.y=i.originScale-i.progress*i.originScale,i.rotation+=2*i.progress*Math.PI/180,i.position.x+=i.windForce*(i.direction+1e3*this.speed)+Math.cos(i.progress*i.swingStep)*i.swing;var n=i.progress*i.progress;i.position.y=(1-n)*this.height+i.height,i.alpha=1-i.progress,(i.width&&i.position.x<-i.width*i.scale.x||i.position.x>this.width||i.height&&i.position.y<-i.height*i.scale.y||i.position.y>this.height+i.height)&&(i.progress=0,i.originPosition={x:Math.random()*this.width,y:this.height+i.height},i.position.x=i.originPosition.x,i.position.y=i.originPosition.y,i.scale.set(.4+.4*Math.random()),i.alpha=.5),i.progress+=i.speed+this.speed}}}})},{"../../mixins/graphics":26,"pixi.js":165,vue:200}],14:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("page"),l=r(a),h=t("pixi.js"),u=r(h),c=t("../../utils"),p=(n(c),t("../../utils/browserSupport")),d=r(p),f=t("../../mixins/graphics"),m=r(f),v=t("dat-gui"),g=(r(v),t("../../vendors/PIXI.ZoomBlurFilter")),_=r(g);o["default"].component("core-scene-slideshow",{replace:!1,mixins:[m["default"]],props:["duration","isplay"],events:{"slideshow:init":"initialize","slideshow:play":"play"},created:function(){this.duration=this.duration?Number(this.duration):2,this.controls={amount:.2}},compiled:function(){"dom"!=this.renderer?(this.elPixi=new u["default"].Container,this.container.addChild(this.elPixi),d["default"].touch||this.applyShader()):(this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px")},methods:{initialize:function(){this.slides=this.$children,this.current=this.slides.length;for(var t=0,e=this.slides.length;e>t;t++)this.slides[t].disable(),this.slides[t].init()},applyShader:function(){this.zoomBlurFilter=new _["default"],this.zoomBlurFilter.amount=.2,this.elPixi.filters=[this.zoomBlurFilter]},play:function(){var t=this;if(this.isplay){if(0==this.current)return void l["default"].show("/episode1");this.current!=this.slides.length?(this.slides[this.current].hide(),TweenMax.to(this.controls,.6,{amount:.2}),setTimeout(function(){TweenMax.to(t.controls,.6,{amount:0})},600),this.slides[this.current-1].show(.6),this.$dispatch("intro:change",this.current)):(TweenMax.to(this.controls,1,{amount:0}),this.slides[this.current-1].show(0),this.$dispatch("intro:change",this.current)),this.current--,setTimeout(function(){t.play()},1e3*this.duration)}},calcul:function(t,e){d["default"].touch||(this.zoomBlurFilter.amount=this.controls.amount);for(var i=0,n=this.$children.length;n>i;i++)this.$children[i].calcul(t,e)}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"../../vendors/PIXI.ZoomBlurFilter":52,"dat-gui":59,page:69,"pixi.js":165,vue:200}],15:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=r(a),h=t("../../utils"),u=n(h),c=t("../../utils/browserSupport"),p=(r(c),t("../../mixins/graphics")),d=r(p);o["default"].component("core-scene",{replace:!1,mixins:[d["default"]],props:["active","fire","animProgress"],events:{"window:resize":"resize"},created:function(){this.active=this.active?Number(this.active):0,this.fire=this.fire?Number(this.fire):0,this.animProgress=this.animProgress?Number(this.animProgress):0,this.tempPosition={x:0,y:0},this.tempPosition.x=this.anchor.x*this.width,this.tempPosition.y=this.anchor.y*this.height,this.fire&&(this.progress=0,this.speed=.1),this.resize()},compiled:function(){"dom"!=this.renderer?(this.elPixi=new l["default"].Container,this.isContainer=!0,this.elPixi.pivot.x=this.anchor.x*this.width,this.elPixi.pivot.y=this.anchor.y*this.height,this.container.addChild(this.elPixi)):(this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px"),this.disable()},methods:{resize:function(){var t=u.calculateAspectRatio(this.width,this.height,this.$root.winWidth,this.$root.winHeight,!1);this.ratio=this.$root.winWidth/t.width;var e=this.$root.winWidth/Math.ceil(this.width),i=this.$root.winHeight/Math.ceil(this.height);return this.ratio=Math.max(e,i),this.originPosition.x=this.tempPosition.x*this.ratio-Math.round((t.width-this.$root.winWidth)/2),this.originPosition.y=this.tempPosition.y*this.ratio-Math.round((t.height-this.$root.winHeight)/2),this.originScale={x:this.ratio,y:this.ratio},!0},show:function(t){this.enable(),TweenMax.fromTo(this.originScale,this.$parent.duration,{x:this.originScale.x+.4,y:this.originScale.y+.4},{x:this.originScale.x,y:this.originScale.y,delay:t}),TweenMax.fromTo(this,.6,{originAlpha:0},{originAlpha:1,delay:t})},hide:function(){var t=this;TweenMax.fromTo(this,.6,{originAlpha:1},{originAlpha:0,onComplete:function(){t.disable()}})},init:function(){this.originAlpha=1,this.originScale.x=this.ratio,this.originScale.y=this.ratio},calcul:function(t,e){if(this.fire&&(this.progress+=this.speed,this.progress>=2*Math.PI&&(this.progress=0,this.speed=.1+.5*Math.random())),this.$children)for(var i=0,n=this.$children.length;n>i;i++)this.$children[i].calcul(t,e,this.animProgress)}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],16:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=(r(a),t("../../utils")),h=(n(l),t("../../utils/browserSupport")),u=(r(h),t("../../mixins/graphics")),c=r(u),p=t("../../mixins/graphics/shape"),d=r(p);o["default"].component("core-shape",{replace:!1,mixins:[c["default"],d["default"]],compiled:function(){this.elPixi.interactive=!0,this.elPixi.on("mouseup",function(){})}})},{"../../mixins/graphics":26,"../../mixins/graphics/shape":27,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],17:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("../../utils"),l=(n(a),t("../../utils/browserSupport")),h=(r(l),t("./template.html")),u=r(h);o["default"].component("core-slideshow",{template:u["default"],props:["mySlides"],events:{"slideshow:goto":"goToSlide","slideshow:show":"show","slideshow:hide":"hide"},watch:{mySlides:"createSlide"},created:function(){this.slides=[]},ready:function(){this.inner=this.$el.querySelector(".text-slideshow__content")},methods:{show:function(){this.$el.classList.add("active")},hide:function(){this.$el.classList.remove("active")},createSlide:function(){var t=this;0!=this.mySlides.length&&(this.inner.innerHTML="",this.slides.splice(0,this.slides.length),this.mySlides.forEach(function(e,i){var n=document.createElement("div"),r=document.createElement("div");r.textContent=e.label,r.classList.add("slide__content"),r.classList.add("valign__content"),n.classList.add("slide"),n.classList.add("valign"),0==i?n.classList.add("active"):1==i?n.classList.add("next"):2==i?n.classList.add("next-hide"):(n.classList.add("next-hide"),n.classList.add("hide")),n.appendChild(r),t.inner.appendChild(n),t.slides.push(n)}))},goToSlide:function(t){this.prevSlide&&this.prevSlide.classList.remove("prev"),this.currentSlide&&this.currentSlide.classList.remove("active"),this.nextSlide&&this.nextSlide.classList.remove("next"),this.prevHideAfterSlide=this.slides[Number(t)-3],this.prevHideSlide=this.slides[Number(t)-2],this.prevSlide=this.slides[Number(t)-1],this.currentSlide=this.slides[t],this.nextSlide=this.slides[Number(t)+1],this.nextHideSlide=this.slides[Number(t)+2],this.nextHideAfterSlide=this.slides[Number(t)+3],this.prevHideAfterSlide&&this.prevHideAfterSlide.classList.add("hide"),this.prevHideSlide&&(this.prevHideSlide.classList.remove("hide"),this.prevHideSlide.classList.add("prev-hide")),this.prevSlide&&(this.prevSlide.classList.remove("prev-hide"),this.prevSlide.classList.add("prev")),this.currentSlide.classList.add("active"),this.nextSlide&&(this.nextSlide.classList.remove("next-hide"),this.nextSlide.classList.add("next")),this.nextHideSlide&&(this.nextHideSlide.classList.remove("hide"),this.nextHideSlide.classList.add("next-hide")),this.nextHideAfterSlide&&this.nextHideAfterSlide.classList.add("hide")}}})},{"../../utils":46,"../../utils/browserSupport":40,"./template.html":18,vue:200}],18:[function(t,e,i){e.exports='<div id="text-slideshow">\n    <div class="text-slideshow__content"></div>\n</div>\n\n'},{}],19:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=(r(a),t("../../utils")),h=(n(l),t("../../utils/browserSupport")),u=(r(h),t("../../mixins/graphics")),c=r(u),p=t("../../mixins/graphics/sprite"),d=r(p);o["default"].component("core-sprite-episode",{replace:!1,mixins:[c["default"],d["default"]],events:{"window:resize":"resize"},compiled:function(){this.resize()},methods:{resize:function(){this.ratio=this.$root.winWidth/this.width;var t={width:this.width*this.ratio,height:this.height*this.ratio};this.originScale={x:this.ratio,y:this.ratio},this.originPosition.y=this.realOriginPosition.y*this.$root.oneHeight,this.$root.scrollHeight+=t.height,this.$root.episodeHeight+=t.height},calcul:function(){this.deltaPosition.y=-this.$root.scroll},update:function(){this.scale.x=this.originScale.x,this.scale.y=this.originScale.y,this.rotation=this.originRotation+this.deltaRotation,this.position.x+=(this.originPosition.x+this.deltaPosition.x-this.position.x)*this.friction,this.position.y+=(this.originPosition.y+this.deltaPosition.y-this.position.y)*this.friction,this.width&&this.position.x<-this.width*this.scale.x||this.position.x>this.$root.winWidth||this.height&&this.position.y<-this.height*this.scale.y||this.position.y>this.$root.winHeight?1==this.visible&&this.disable():0==this.visible&&this.enable()}}})},{"../../mixins/graphics":26,"../../mixins/graphics/sprite":28,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],20:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=r(a),h=t("../../utils"),u=n(h),c=t("../../utils/browserSupport"),p=(r(c),t("../../mixins/graphics")),d=r(p),f=t("../../mixins/graphics/sprite"),m=r(f),v=(u.cubic(.4,0,.1,1),u.cubic(.3,.1,.05,1));o["default"].component("core-sprite-strip",{replace:!1,mixins:[d["default"],m["default"]],events:{"window:resize":"resize","nav:open":"onNavOpen","nav:close":"onNavClose"},created:function(){this.parallax=.01,this.offsetRatio=.5,this.calculateAspectRatio()},compiled:function(){this.intialize()},methods:{intialize:function(){this.mask&&this.container.removeChild(this.mask);var t=void 0;t="strip-0"==this.ref?[0,0,this.$parent.width,0,this.$parent.width-this.$parent.offsetWidth,this.$parent.height,0,this.$parent.height,0,0]:"strip-5"==this.ref?[this.$parent.offsetWidth,0,this.$parent.width,0,this.$parent.width,this.$parent.height,0,this.$parent.height,this.$parent.offsetWidth,0]:[this.$parent.offsetWidth,0,this.$parent.width,0,this.$parent.width-this.$parent.offsetWidth,this.$parent.height,0,this.$parent.height,this.$parent.offsetWidth,0];var e=new l["default"].Graphics;e.beginFill(16711680),e.drawPolygon(t),e.endFill();var i=e.generateTexture();this.mask=new l["default"].Sprite(i),this.mask.pivot.x=this.$parent.width/2,this.mask.pivot.y=this.$parent.height/2,this.mask.position.x=this.$parent.width/2,this.mask.position.y=this.$parent.height/2,this.elPixi.mask=this.mask,this.container.addChild(this.mask),this.container.hitArea=new l["default"].Polygon(t)},calculateAspectRatio:function(){var t=(u.calculateAspectRatio(this.width,this.height,this.$parent.width,this.$parent.height,!1),this.$parent.width/Math.ceil(this.width)),e=this.$parent.height/Math.ceil(this.height);this.ratio=Math.max(t,e)+.2,this.originPosition.x=Math.round(-(this.width-this.$parent.width)/2),this.originPosition.y=Math.round(-(this.height-this.$parent.height)/2),this.originScale={x:this.ratio,y:this.ratio},this.goodScale=this.ratio;
},resize:function(){this.calculateAspectRatio(),this.intialize()},calcul:function(t,e){"strip-1"==this.ref,this.deltaPosition.y=-(2*(e+this.offsetRatio-.5))*this.parallax*(this.$root.winHeight/this.$parent.originScale.x)},onNavOpen:function(){TweenMax.fromTo(this.originScale,1,{x:this.goodScale+.4,y:this.goodScale+.4},{x:this.goodScale,y:this.goodScale,ease:v})},onNavClose:function(){TweenMax.fromTo(this.originScale,.8,{x:this.goodScale,y:this.goodScale},{x:this.goodScale+.4,y:this.goodScale+.4,delay:.4,ease:v})}}})},{"../../mixins/graphics":26,"../../mixins/graphics/sprite":28,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],21:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=(r(a),t("../../utils")),h=(n(l),t("../../utils/browserSupport")),u=(r(h),t("../../mixins/graphics")),c=r(u),p=t("../../mixins/graphics/sprite"),d=r(p);o["default"].component("core-sprite",{replace:!1,mixins:[c["default"],d["default"]],props:["parallax","offsetRatio","fire"],created:function(){this.parallax=this.parallax?Number(this.parallax):0,this.offsetRatio=this.offsetRatio?Number(this.offsetRatio):.5,this.fire=this.fire?Number(this.fire):0},methods:{calcul:function(t,e,i){this.trueDelta=i*this.$root.winWidth,this.deltaPosition.x=-(2*(t+this.offsetRatio-.5))*this.parallax*(this.$root.winWidth/this.$parent.originScale.x)-(this.trueDelta+this.trueDelta*this.parallax*100),this.deltaPosition.y=-(2*(e+this.offsetRatio-.5))*this.parallax*(this.$root.winHeight/this.$parent.originScale.y),this.fire&&0==i&&(this.originAlpha=(Math.sin(this.$parent.progress)+1)/2)}}})},{"../../mixins/graphics":26,"../../mixins/graphics/sprite":28,"../../utils":46,"../../utils/browserSupport":40,"pixi.js":165,vue:200}],22:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("pixi.js"),a=n(o),l=t("../../utils/browserSupport"),h=n(l);s["default"].component("core-stage",{replace:!1,events:{"window:resize":"resize","mask:animate":"animateMask","nav:open":"onNavOpen","nav:close":"onNavClose"},created:function(){this.antialias=!1,this.transparent=!1,this.bgColor=0,this.elPixi=null,this.isAnimated=!1,this.moveX=0,this.moveY=0,this.pointerX=0,this.pointerY=0,this.onMouseMoveBinded=this.onMouseMove.bind(this)},ready:function(){this.bgNavigation=this.$el.querySelector(".bg-navigation")},compiled:function(){this.elPixi=new a["default"].Container,this.renderer=new a["default"].autoDetectRenderer(this.$root.winWidth,this.$root.winHeight,{antialias:this.antialias,transparent:this.transparent,backgroundColor:this.bgColor}),this.$el.insertBefore(this.renderer.view,this.$el.firstChild),this.isAnimated=!0,requestAnimationFrame(this.animate.bind(this))},methods:{resize:function(){return this.renderer.resize(this.$root.winWidth,this.$root.winHeight),!0},animate:function(){if(this.isAnimated){this.moveX+=.1*(this.pointerX-this.moveX),this.moveY+=.1*(this.pointerY-this.moveY);for(var t=0,e=this.$children.length;e>t;t++)this.$children[t].enterFrame(),this.$children[t].calcul&&this.$children[t].calcul(this.moveX,this.moveY);this.renderer.render(this.elPixi),requestAnimationFrame(this.animate.bind(this))}},onMouseMove:function(t){var e=h["default"].touch?t.touches[0]||t.changedTouches[0]:t;this.pointerX=2*(e.clientX/this.$root.winWidth-.5),this.pointerY=2*(e.clientY/this.$root.winHeight-.5)},onNavOpen:function(){return window.event&&this.onMouseMove(window.event),document.addEventListener(h["default"].pointermove,this.onMouseMoveBinded),!0},onNavClose:function(){return document.removeEventListener(h["default"].pointermove,this.onMouseMoveBinded),this.pointerX=0,!0},animateMask:function(t){this.$broadcast("mask:animate",t)}}})},{"../../utils/browserSupport":40,"pixi.js":165,vue:200}],23:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=r(a),h=t("../../utils"),u=(n(h),t("../../utils/browserSupport")),c=r(u),p=t("../../mixins/graphics"),d=r(p),f=t("page"),m=r(f);o["default"].component("core-strip",{replace:!1,mixins:[d["default"]],props:["target"],events:{"window:resize":"resize"},created:function(){this.isInteractive=!1,this.moveY=0,this.pointerY=0,this.isTouchMove=!0,this.oldMove={x:0,y:0},this.resize()},compiled:function(){var t=this;this.$dispatch("episode:index",this.episode),"dom"!=this.renderer?(this.elPixi=new l["default"].Container,this.container.addChild(this.elPixi),this.disable(),this.elPixi.interactive=!0,c["default"].touch?(this.elPixi.on("touchstart",function(e){var i=e.data.global.x;t.oldMove.x=i,t.oldMove.y=e.data.global.y}),this.elPixi.on("touchend",function(e){Math.abs(e.data.global.x-t.oldMove.x)>5||Math.abs(e.data.global.y-t.oldMove.y)>5?t.isTouchMove=!0:(t.isTouchMove=!1,m["default"].show(t.target))})):(this.elPixi.on("mouseover",function(e){t.oldScale=t.$children[0].originScale.x,TweenMax.to(t.$children[0].originScale,.6,{x:t.oldScale+.1,y:t.oldScale+.1})}),this.elPixi.on("mouseout",function(){TweenMax.to(t.$children[0].originScale,.6,{x:t.oldScale,y:t.oldScale})}),this.elPixi.on("mouseup",function(e){m["default"].show(t.target)}))):(this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px",this.$el.style.overflow="hidden")},methods:{resize:function(){return this.width=this.$root.stripWidth,this.height=this.$root.winHeight,this.offsetWidth=this.$root.offsetWidth,!0},calcul:function(t,e){for(var i=0,n=this.$children.length;n>i;i++)this.$children[i].calcul(t,e)}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,page:69,"pixi.js":165,vue:200}],24:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("page"),l=(r(a),t("pixi.js")),h=(r(l),t("../../utils")),u=(n(h),t("../../utils/browserSupport"));r(u);o["default"].component("core-subtitle",{replace:!1,events:{"subtitle:show":"show","subtitle:change":"goToSubtitle","slideshow:init":"initialize"},ready:function(){this.slides=this.$el.querySelectorAll(".item")},methods:{initialize:function(){this.$el.classList.remove("active"),Array.prototype.forEach.call(this.slides,function(t){t.classList.remove("active")}),this.current=this.slides.length},show:function(){this.$el.classList.add("active")},goToSubtitle:function(t){this.slides[this.current-1].classList.remove("active"),this.slides[t-1].classList.add("active"),this.current=t}}})},{"../../utils":46,"../../utils/browserSupport":40,page:69,"pixi.js":165,vue:200}],25:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("page"),a=n(o);s["default"].directive("link",{bind:function(){this.handler=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("href");a["default"].show(e)},this.el.addEventListener("click",this.handler)},unbind:function(){this.el.removeEventListener("click",this.handler)}})},{page:69,vue:200}],26:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("../utils/browserSupport"),s=n(r);e.exports={props:["ref","renderer","width","height","position","scale","rotation","anchor","alpha","friction","smooth"],data:function(){return{visible:!0,destX:0}},created:function(){this.elPixi=null,this.renderer=this.renderer||"pixi",this.width=this.width?Number(this.width):null,this.height=this.height?Number(this.height):null,this.deltaPosition={x:0,y:0},this.originPosition={x:this.position?Number(this.position.split(",")[0]):0,y:this.position?Number(this.position.split(",")[1]):0},this.realOriginPosition={x:this.position?Number(this.position.split(",")[0]):0,y:this.position?Number(this.position.split(",")[1]):0},this.originScale={x:this.scale?Number(this.scale.split(",")[0]):1,y:this.scale?Number(this.scale.split(",")[1]):1},this.originRotation=this.rotation?Number(this.rotation):0,this.deltaRotation=0,this.anchor={x:this.anchor?Number(this.anchor.split(",")[0]):0,y:this.anchor?Number(this.anchor.split(",")[1]):0},this.originAlpha=this.alpha?Number(this.alpha):1,this.friction=this.friction||1,this.smooth=this.smooth||!1,this.position={x:0,y:0},this.scale={x:1,y:1}},compiled:function(){"pixi"==this.renderer?(this.getPixiContainer(),this.$el.classList.add("js-pixi-renderer")):(this.$el.classList.add("js-dom-renderer"),this.$el.style[s["default"].transformOrigin]=100*this.anchor.x+"% "+100*this.anchor.x+"%",this.$el.style.position="absolute",this.$el.style.top=0,this.$el.style.left=0)},methods:{getPixiContainer:function(){for(var t=this;t.$parent;){if(t.$parent.elPixi&&t.$parent.elPixi instanceof PIXI.Container){this.container=t.$parent.elPixi;break}t=t.$parent}return this.container?void 0:console.warn('No pixi container found for this DisplayObject. This component must be a child/subchild of a CoreStage or DisplayObject component or should use the "dom" renderer',this)},enterFrame:function(){if(this.update(),"dom"==this.renderer?(this.$el.style.opacity=this.originAlpha,this.$el.style[s["default"].transform]="translate("+this.position.x+"px, "+this.position.y+"px) scale("+this.scale.x+","+this.scale.y+") rotate("+this.rotation+"deg) "+s["default"].translateZ):(this.elPixi.anchor&&this.elPixi._texture?this.smooth?(this.elPixi.position.x=this.position.x+this.elPixi.anchor.x*this.elPixi._texture.width>>0,this.elPixi.position.y=this.position.y+this.elPixi.anchor.y*this.elPixi._texture.height>>0):(this.elPixi.position.x=this.position.x+this.elPixi.anchor.x*this.elPixi._texture.width,this.elPixi.position.y=this.position.y+this.elPixi.anchor.y*this.elPixi._texture.height):this.smooth?(this.elPixi.position.x=this.position.x>>0,this.elPixi.position.y=this.position.y>>0):(this.elPixi.position.x=this.position.x,this.elPixi.position.y=this.position.y),this.elPixi.scale.x=this.scale.x,this.elPixi.scale.y=this.scale.y,this.elPixi.rotation=this.rotation,this.elPixi.alpha=this.originAlpha),this.$children)for(var t=0,e=this.$children.length;e>t;t++)this.$children[t].enterFrame&&this.$children[t].enterFrame()},update:function(){this.scale.x=this.originScale.x,this.scale.y=this.originScale.y,this.rotation=this.originRotation+this.deltaRotation,this.position.x+=(this.originPosition.x+this.deltaPosition.x-this.position.x)*this.friction,this.position.y+=(this.originPosition.y+this.deltaPosition.y-this.position.y)*this.friction},enable:function(){if(this.visible=!0,"pixi"==this.renderer&&this.elPixi?this.elPixi.visible=!0:this.$el.style.display="block",this.$children)for(var t=0,e=this.$children.length;e>t;t++)this.$children[t].enable&&this.$children[t].enable()},disable:function(){if(this.visible=!1,"pixi"==this.renderer&&this.elPixi?this.elPixi.visible=!1:this.$el.style.display="none",this.$children)for(var t=0,e=this.$children.length;e>t;t++)this.$children[t].disable&&this.$children[t].disable()}}}},{"../utils/browserSupport":40}],27:[function(t,e,i){"use strict";e.exports={props:["graphic","color"],created:function(){this.color=this.color||"ffffff"},compiled:function(){"dom"==this.renderer?(this.color&&(this.$el.style.backgroundColor="#"+this.color),this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px"):(this.elPixi=new PIXI.Graphics,this.elPixi.beginFill("0x"+this.color),this.elPixi.drawRect(0,0,this.width,this.height),this.elPixi.endFill(),this.elPixi.pivot.x=this.anchor.x*this.width,this.elPixi.pivot.y=this.anchor.y*this.height,this.container.addChild(this.elPixi))}}},{}],28:[function(t,e,i){"use strict";e.exports={props:["url","uv","frame"],created:function(){this.uv={x:this.uv?Number(this.uv.split(",")[0]):!1,y:this.uv?Number(this.uv.split(",")[1]):!1},this.textureUrl=this.url,this.frameTexture=this.frame?this.frame:!1},compiled:function(){if("dom"==this.renderer){if(this.frame){if(PIXI.utils.TextureCache[this.textureUrl]){var t=PIXI.utils.TextureCache[this.textureUrl],e=t.baseTexture,i=t._frame.x+this.uv.x,n=t._frame.y+this.uv.y;this.$el.style.backgroundImage="url("+e.imageUrl+")",this.$el.style.backgroundPosition=i+"px "+n+"px",this.width=t.width,this.height=t.height}}else this.$el.style.backgroundImage="url("+this.textureUrl+")",this.$el.style.backgroundPosition="0px 0px";this.$el.style.width=this.width+"px",this.$el.style.height=this.height+"px",(this.uv.x!==!1||this.uv.y!==!1)&&(this.$el.style.backgroundPosition=-this.uv.x+"px "+-this.uv.y+"px")}else{var r=void 0;if(this.uv.x!==!1||this.uv.y!==!1){var e=void 0,i=void 0,n=void 0;if(PIXI.utils.TextureCache[this.textureUrl]){var t=PIXI.utils.TextureCache[this.textureUrl];e=t.baseTexture,i=t._frame.x+this.uv.x,n=t._frame.y+this.uv.y}else e=new PIXI.BaseTexture.fromImage(this.textureUrl),i=this.uv.x,n=this.uv.y;var s=this.width,o=this.height;r=new PIXI.Texture(e,new PIXI.Rectangle(i,n,s,o))}else r=new PIXI.Texture[this.frameTexture?"fromFrame":"fromImage"](this.textureUrl);this.elPixi=new PIXI.Sprite(r),this.elPixi.anchor.x=this.anchor.x,this.elPixi.anchor.y=this.anchor.y,this.frameTexture?(this.width=this.elPixi.width,this.height=this.elPixi.height):(this.elPixi.width=this.width,this.elPixi.height=this.height),this.container.addChild(this.elPixi)}},beforeDestroy:function(){"pixi"==this.renderer&&(this.elPixi.texture.destroy(!0),this.container.removeChild(this.elPixi))}}},{}],29:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("pixi.js"),s=n(r);e.exports={beforeDestroy:function(){this.loader&&(this.loader.removeAllListeners(),this.loader.reset(),this.loader=null)},methods:{load:function(){var t=this.$options.manifest,e=new s["default"].loaders.Loader;e.on("error",this._onLoadError),e.on("progress",this._onLoadProgress),e.on("complete",this._onLoadComplete),t.forEach(function(t){e.add(t,t)}),e.load(),this.$emit("load:start"),this.loader=e},_onLoadProgress:function(t){this.$emit("load:progress",t)},_onLoadComplete:function(t){this.$emit("load:complete",t)},_onLoadError:function(t){this.$emit("load:error",t)}}}},{"pixi.js":165}],30:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("../utils/browserSupport"),s=n(r),o=t("../utils/CubicBezier"),a=n(o),l=0,h=10,u=300;e.exports={props:[],data:function(){return{}},created:function(){this._options={friction:1,deccelerationFriction:.003,minSpeed:.15,usetransition:!1,cssEasing:"cubic-bezier(0, 0.33, 0.66, 1)",touchThrottle:l,minDragDistance:h,maxDragDelay:u,bypassNativeScroll:!0,useHtmlScroll:!0,autoFocus:!1,useCustomScrollBar:!1,contentWrapper:null,contentWrapClass:"scrollview-content-wrapper",direction:"vertical",moveContent:!1,momentum:!0,useDrag:!0,useWheel:!0},s["default"].touch&&(this._options.useHtmlScroll=!1),this.scrollToBinded=this.scrollTo.bind(this),this.jumpToBinded=this.jumpTo.bind(this),this.disableBinded=this.disable.bind(this),this.enableBinded=this.enable.bind(this),this._scrollHeight=0,this._contentHeight=0,this._maxScrollHeight=0,this._scrollTop=0,this._savedScrollTop=null,this._realScrollTop=0,this._scrollWidth=0,this._contentWidth=0,this._maxScrollWidth=0,this._scrollLeft=0,this._savedScrollLeft=null,this._realScrollLeft=0,this._touchDeltaX=0,this._touchDeltaY=0,this._totalTouchMoveX=0,this._totalTouchMoveY=0,this._textPosX=0,this._textPosY=0,this._scrollPosX=0,this._scrollPosY=0,this._touchEvents=[],this._enabled=!0,this._focused=!1,this._hasMoved=!1,this._preventClick=!1,this._momentumProps=!1,this.hasJumpedOnce=!1,this._onScrollBinded=this._onScroll.bind(this),this._onPointerDown=this.onPointerDown.bind(this),this._onPointerMove=this.onPointerMove.bind(this),this._onPointerUp=this.onPointerUp.bind(this),this._touchTimestampArr=[],this.touchScrollArr=[]},compiled:function(){this._bindEvents(),this._enterFrame()},beforeDestroy:function(){document.removeEventListener(s["default"].pointerdown,this._onPointerDown),document.removeEventListener(s["default"].pointerdown,this._focus),this.$el.removeEventListener("DOMMouseScroll",this._focus),this.$el.removeEventListener("mousewheel",this._focus),document.removeEventListener(s["default"].pointermove,this._onPointerMove),document.removeEventListener(s["default"].pointerup,this._onPointerUp)},methods:{focus:function(){},_bindEvents:function(){this._options.autoFocus&&(this._focus=this.focus.bind(this),document.addEventListener(s["default"].pointerdown,this._focus),this.$el.addEventListener("DOMMouseScroll",this._focus),this.$el.addEventListener("mousewheel",this._focus)),this._options.useDrag&&(document.addEventListener(s["default"].pointerdown,this._onPointerDown,!1),document.addEventListener(s["default"].pointermove,this._onPointerMove,!1),document.addEventListener(s["default"].pointerup,this._onPointerUp,!1)),this.$el.addEventListener("mousewheel",this._wheelBinded,!1),this.$el.addEventListener("DOMMouseScroll",this._wheelBinded,!1)},_computeMomentum:function(t,e,i){var n,r,s="vertical"==t?"_scrollPosY":"_scrollPosX",o="vertical"==t?"_scrollHeight":"_scrollWidth",a=Math.abs(e)/i,l=this[o]-this[s];return n=a*a/(2*this._options.deccelerationFriction),r=a/this._options.deccelerationFriction,0>e&&n>this[s]?(r=r*this[s]/n,n=this[s]):e>0&&n>l&&(r=r*l/n,n=l),n*=e>0?1:-1,{length:n>>0,duration:r>>0}},$deccelerate:function(){if(!(this.momentumProgress>=this.momentumDuration)){var t=Date.now(),e=t-this.momentumStartTime,i=0!==this.momentumProgress?(0,a["default"])(this._momentumEasing[0],this._momentumEasing[1],this._momentumEasing[2],this._momentumEasing[3],this.momentumProgress/this.momentumDuration,this.momentumDuration):0;this.momentumProgress=this.momentumProgress+e,this.momentumStartTime=t,this._scrollPosX=this._scrollPosXBeforeMomentum+i*this._momentumdistanceLeft>>0,this._scrollPosY=this._scrollPosYBeforeMomentum+i*this._momentumdistanceTop>>0,s["default"].touch||(this._isAutoScroll=!0,window.scrollTo(this._scrollPosX,this._scrollPosY))}},_computeFakeMomentum:function(t,e,i,n,r,s){this.momentumStartTime=Date.now(),this.momentumProgress=0,this.momentumDuration=i,this._scrollPosXBeforeMomentum=this._scrollPosX,this._scrollPosYBeforeMomentum=this._scrollPosY,this._momentumdistanceLeft=t,this._momentumdistanceTop=e,this._momentumEasing=n||[0,.33,.66,1],this._momentumCallback=r||null,this.forceMomentumCallback=s||!1},_setMomentum:function(t,e,i,n,r){this._computeFakeMomentum(t,e,i,n,r),this._scrollBy(t,e,i,n)},onPointerDown:function(t){this._enabled&&(this._isPointerDown=!0,this._totalTouchMoveX=0,this._totalTouchMoveY=0,this._preventClick=!1,this._hasMoved=!1,this._touchEvent=s["default"].touch?t.touches[0]||t.changedTouches[0]:t,this._touchTimestamp=t.timeStamp||Date.now(),this._touchPositionX=this._touchEvent.pageX,this._touchPositionY=this._touchEvent.pageY,this._touchEvents.length=0,this._stopDecceleration())},onPointerMove:function(t){this._enabled&&this._isPointerDown&&(t.preventDefault(),t.stopPropagation(),this.newTouchTimestamp=t.timeStamp||Date.now(),this.newTouchTimestamp-this._touchTimestamp<l||(this._touchEvent=s["default"].touch?t.touches[0]||t.changedTouches[0]:t,this._touchDeltaX=this._touchEvent.pageX-this._touchPositionX,this._touchPositionX=this._touchEvent.pageX,this._totalTouchMoveX+=Math.abs(this._touchDeltaX),this._touchDeltaY=this._touchEvent.pageY-this._touchPositionY,this._touchPositionY=this._touchEvent.pageY,this._totalTouchMoveY+=Math.abs(this._touchDeltaY),(this._totalTouchMoveX>h||this._totalTouchMoveY>h)&&(this._hasMoved=!0,this._preventClick=!0),this._scrollPosY-this._touchDeltaY<=0?this._scrollPosY=0:this._scrollPosY-this._touchDeltaY>this._maxScrollHeight?this._scrollPosY=this._maxScrollHeight:this._scrollPosY-=this._touchDeltaY,this._scrollPosX-this._touchDeltaX<=0?this._scrollPosX=0:this._scrollPosX-this._touchDeltaX>this._maxScrollWidth?this._scrollPosX=this._maxScrollWidth:this._scrollPosX-=this._touchDeltaX,this._activateWatch(),this._touchTimestamp=this.newTouchTimestamp))},$watch:function(t){var e=this;return this._scrollLeft+=(this._scrollPosX-this._scrollLeft)*this._options.friction,this._scrollTop+=(this._scrollPosY-this._scrollTop)*this._options.friction,this._animate(~this._scrollLeft+1,~this._scrollTop+1),this._touchEvents.length>60&&this._touchEvents.splice(0,30),this._touchEvents.push(this._scrollLeft,this._scrollTop,Date.now()),Math.round(this._scrollLeft)==this._lastScrollLeft&&Math.round(this._scrollTop)==this._lastScrollTop?(this._lastScrollLeft=Math.round(this._scrollLeft),void(this._lastScrollTop=Math.round(this._scrollTop))):(clearTimeout(this._scrollendTimer),this._scrollendTimer=setTimeout(function(){e._onScrollEnd()},100,this),this._lastScrollLeft=Math.round(this._scrollLeft),void(this._lastScrollTop=Math.round(this._scrollTop)))},onPointerUp:function(t){if(this._enabled&&this._isPointerDown){this._isPointerDown=!1;var e,i,n,r,s;this.newTouchTimestamp=t.timeStamp||Date.now();for(var o,a=this._touchEvents.length-1,l=a;l>0&&this._touchEvents[l]>this.newTouchTimestamp-100;l-=3)o=l;o==a&&(this._hasMoved=!1),e=this._touchEvents[a]-this._touchEvents[o],i=this._scrollLeft-this._touchEvents[o-2],n=this._scrollTop-this._touchEvents[o-1],this._hasMoved&&(r=this._computeMomentum("horizontal",i,e),s=this._computeMomentum("vertical",n,e),!this._options.momentum||0==r.duration&&0==s.duration||this._setMomentum(r.length,s.length,Math.max(r.duration,s.duration)))}},_onScroll:function(t,e){this._stopDecceleration(),this._scrollPosX=t,this._scrollPosY=e,this._activateWatch()},_activateWatch:function(){this._isWatching||(this._isWatching=!0)},_stopWatch:function(){this._isWatching&&(this._isWatching=!1,this._scrollPosX=this._scrollLeft,this._scrollPosY=this._scrollTop)},activateDecceleration:function(){this.isDeccelerating||(this.isDeccelerating=!0)},_stopDecceleration:function(){this.isDeccelerating&&(this.isDeccelerating=!1),this._momentumCallback&&(this.forceMomentumCallback&&this._momentumCallback(),this._momentumCallback=null)},_onScrollEnd:function(){this._momentumCallback&&(this._momentumCallback(),this._momentumCallback=null),this._stopWatch(),this._stopDecceleration(),this.onScrollEnd(this._scrollLeft,this._scrollTop)},_scrollBy:function(t,e,i,n){this._enabled&&(this._hasMoved=!1,this._activateWatch(),this.activateDecceleration())},_setTransition:function(t,e,i){this._momentumProps=this._momentumProps?this._momentumProps:{},this._momentumProps.property="undefined"!=typeof i?s["default"].transformCss:"",this._momentumProps.duration="undefined"!=typeof i?i:0,this._momentumProps.easing="undefined"!=typeof i?this._options.cssEasing:"",this._momentumProps.left="undefined"!=typeof i?t:this._scrollLeft,this._momentumProps.top="undefined"!=typeof i?e:this._scrollTop},_animate:function(t,e){this._enabled&&(this._momentumProps&&(t=this._scrollLeft,e=this._scrollTop),this.onScroll(this._scrollLeft,this._scrollTop,this._momentumProps,this._contentHeight))},_enterFrame:function(){requestAnimationFrame(this._enterFrame.bind(this)),this._isWatching&&this.$watch(),this.isDeccelerating&&this.$deccelerate()},_enableScroll:function(){this._enabled=!0},_disableScroll:function(){this._enabled=!1},updateScrollSize:function(t,e,i,n){this._contentWidth=i,this._contentHeight=n,this.wrapperWidth=t,this.wrapperHeight=e,this._scrollWidth=this._contentWidth-this.wrapperWidth,this._scrollHeight=this._contentHeight-this.wrapperHeight,this._maxScrollWidth=this._contentWidth>=this.wrapperWidth?this._scrollWidth:0,this._maxScrollHeight=this._contentHeight>=this.wrapperHeight?this._scrollHeight:0,this.onScroll(this._scrollLeft,this._scrollTop,this._momentumProps,this._contentHeight)},jumpTo:function(t,e){this._enabled&&(this._stopDecceleration(),this._activateWatch(),this._scrollLeft=this._scrollPosX=t,this._scrollTop=this._scrollPosY=e)},scrollTo:function(t,e,i,n,r){if(this._enabled){i=i||500;var s=t-this._scrollPosX,o=e-this._scrollPosY;this._setMomentum(s,o,i,n,r)}},onScroll:function(t,e){},onScrollEnd:function(t,e){}},wheel:function(t){return this.isScrollFromWheel=!0,this._options.useWheel?void this._stopDecceleration():void 0}}},{"../utils/CubicBezier":39,"../utils/browserSupport":40}],31:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("./template.html"),a=n(o),l=t("../../utils/browserSupport"),h=n(l),u=t("gsap");n(u);s["default"].component("gaulois-credits",{template:a["default"],events:{"credits:show":"show","credits:hide":"hide"},data:function(){return{active:!1}},ready:function(){this.closeBtn=this.$el.querySelector(".btn-close")},methods:{show:function(){var t=this;this.active||(h["default"].touch&&!this.$root.navDisplay&&this.$root.$refs.episode._disableScroll(),this.$el.style.display="block",this.$dispatch("brush:show"),"undefined"!=typeof xt_click&&(console.log("xt_click",null,"F",24,"Credits"),xt_click(document.getElementById("navigation"),"F",24,"Credits")),setTimeout(function(){t.active=!0,t.$el.classList.add("active"),t.closeBtn.classList.add("active")},500),setTimeout(function(){t.$root.navDisplay&&!h["default"].touch&&t.$root.$refs.strips.disable(),t.$root.creditsDisplay=!0},1e3))},hide:function(t){var e=this;t&&t.preventDefault(),this.active&&(h["default"].touch&&!this.$root.navDisplay&&this.$root.$refs.episode._enableScroll(),this.$dispatch("brush:hide"),this.$el.classList.remove("active"),this.closeBtn.classList.remove("active"),this.$root.navDisplay&&!h["default"].touch&&this.$root.$refs.strips.enable(),setTimeout(function(){e.active=!1,e.$root.creditsDisplay=!1,e.$el.style.display="none"},1500))}}})},{"../../utils/browserSupport":40,"./template.html":32,gsap:64,vue:200}],32:[function(t,e,i){e.exports='<div id="page-credits" class="valign">\n\n<!-- Alors pardon, je n\'avais pas vu le ticket avec le visuel définitif des crédits le 18/11. \nPeut on reprendre la mise en page ? \nIl faudrait mettre tous les auteurs sous la ligne actuelle d\'immersive dans l\'ordre suivant : \nKevin Keiss, \nMutation Narrative \nLucy Mazel, \nJean Louis Brunaux \nBenjamin Hoguet. \nEt Immersive en premier si vous voulez, \nmais pas de typo plus grande (personne ne doit se vexer !).  -->\n\n\n    <div class="valign__content container">\n        <div class="row">\n            <div class="col-12 col-right col-md-12">\n                <div class="row">\n                    <div class="col-12">\n                        <h3 class="title">credits</h3>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-4 col-md-12">\n                        <ul>\n                            <li>\n                                <h4 class="label">Webdesign et développement :</h4>\n                                <h5 class="name">Immersive Garden </h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Textes :</h4>\n                                <h5 class="name">Kevin Keiss</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Storyboards :</h4>\n                                <h5 class="name">Mutation Narrative</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Illustrations :</h4>\n                                <h5 class="name">Lucy Mazel</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Consultant historique :</h4>\n                                <h5 class="name">Jean-Louis Brunaux</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Chef de projet : </h4>\n                                <h5 class="name">Benjamin Hoguet</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Supervision musicale :</h4>\n                                <h5 class="name">Benjamin Fillola</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Composition musicale :</h4>\n                                <h5 class="name">Jean-Baptiste Hanak</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Sound Design :</h4>\n                                <h5 class="name">Studio 31DB</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Voix :</h4>\n                                <h5 class="name">Frédéric van den Driessche</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Enregistrement voix :</h4>\n                                <h5 class="name">Georges Lafitte / Sylicone</h5>\n                            </li>\n                            \n                        </ul>\n                    </div>\n                    <div class="col-4 col-md-12">\n                        <ul>\n                            <li>\n                                <h4 class="label">Une coproduction</h4>\n                            </li>\n                            <li>\n                                <h4 class="label">Red Corner</h4>\n                                <h5 class="name">Marie Blondiaux </h5>\n                                <h5 class="name">Dominique Barneaud</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Program33</h4>\n                                <h5 class="name">Louis Coat</h5>\n                                <h5 class="name">Fabrice Coat</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">France Télévisions Nouvelles Ecritures :</h4>\n                                <h5 class="name">Boris Razon</h5>\n                                <h5 class="name">Voyelle Acker</h5>\n                                <h5 class="name">Samra Lemonnier</h5>\n                                <h5 class="name">Romain Bonnin</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Canopé</h4>\n                                <h5 class="name">Jérôme Lecanu</h5>\n                                <h5 class="name">Maud Barbarin</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">francetv éducation</h4>\n                                <h5 class="name">Amel Cogard</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Equipes techniques france télévisions éditions numériques </h4>\n                                <h5 class="name">Stéphane Pessin</h5>\n                                <h5 class="name">Emmanuel Lemoine</h5>\n                                <h5 class="name">Emmanuel Souillat</h5>\n                            </li>\n                            <li>\n                                <h4 class="label">Administration de production France Télévisions</h4>\n                                <h5 class="name">Sandrine Miguirian</h5>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="col-4 col-md-12">\n                        <ul>\n                            <li>\n                                <h4 class="label">Remerciements</h4>\n                                <p class="name">Marine Lonchambon, Franck Weber, Eric Vuillard, Vincent Perriot, Carine Taver, Adrien Oumhani, Leila Badet, Hind Saih, Samuel Tilman, Michel Spavone, Alice Rabineau, Magali Boccaccio, l\'équipe du SmartFip@ 2015 et les participants au Hackaton</p>\n                            </li>\n                            <li>\n                                <p class="copyright">© France Télévisions - Program 33 - Red Corner - 2015</p>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <a href="#" v-on:click="hide($event)" class="btn-round btn-close valign">\n        <div class="valign__content">\n            <span class="close"></span>\n        </div>\n    </a>\n    \n</div>';
},{}],33:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("./template.html"),l=r(a),h=t("../../utils/browserSupport"),u=r(h),c=t("page"),p=r(c),d=t("../../utils"),f=n(d),m=t("gsap"),v=r(m),g=f.cubic(.4,0,.1,1),_=f.cubic(.3,.1,.05,1);o["default"].component("gaulois-home",{template:l["default"],events:{"page:load":"loadPage","page:show":"showPage","page:hide":"hidePage","mask:animate":"fadeContent","intro:change":"subtitleChange"},data:function(){return{name:"home",assets:null,active:!1,introPlay:!0,animScene:0}},created:function(){this.assets=[],this.onMouseMoveBinded=this.onMouseMove.bind(this)},ready:function(){this.moveX=0,this.moveY=0,this.pointerX=0,this.pointerY=0,this.content=this.$el.querySelector(".page-content")},methods:{loadPage:function(t){t==this.name&&(this.assets=["./assets/images/landing/bg-3.jpg","./assets/images/landing/bg-2.jpg","./assets/images/landing/bg-1.jpg","./assets/images/landing/bg-landing.jpg","./assets/images/landing/bg-landing-2.png","./assets/images/landing/totem.png","./assets/images/landing/totem-2.png","./assets/images/landing/apator.png","./assets/images/landing/apator-2.png"],this.$dispatch("loader:assets",this.assets),this.$dispatch("page:ready"))},showPage:function(t){if(t==this.name){this.active=!0,this.introPlay=!0,this.animScene=0,this.$refs.firstscene.originAlpha=1,this.$el.style.display="block";for(var e=0,i=this.$children.length;i>e;e++)this.$children[e].enable&&this.$children[e].enable();this.fadeContent(),this.$broadcast("slideshow:init"),this.initParallax(),this.$root.loaderDisplay&&this.$dispatch("loader:hide")}},initParallax:function(){this.parallax=!0,document.addEventListener(u["default"].pointermove,this.onMouseMoveBinded)},onMouseMove:function(t){var e=u["default"].touch?t.touches[0]||t.changedTouches[0]:t;this.pointerX=2*(e.clientX/this.$root.winWidth-.5),this.pointerY=2*(e.clientY/this.$root.winHeight-.5)},enterFrame:function(){if(this.parallax){this.moveX+=.1*(this.pointerX-this.moveX),this.moveY+=.1*(this.pointerY-this.moveY);for(var t=0,e=this.$children.length;e>t;t++)this.$children[t].calcul&&(this.$children[t].calcul(this.moveX,this.moveY),this.$children[t].enterFrame())}},hidePage:function(t){var e=this;t==this.name&&setTimeout(function(){e.active=!1,e.parallax=!1,document.removeEventListener("mousmove",e.onMouseMoveBinded);for(var t=0,i=e.$children.length;i>t;t++)e.$children[t].disable&&e.$children[t].disable();e.$el.style.display="none"},1e3)},fadeContent:function(t){var e=this;this.active&&(Array.isArray(t)?this.$refs.parallax.originPosition.x=-this.$root.winWidth/2+t[0]+this.$root.stripWidth/2:t?(v["default"].to(this.content,.4,{opacity:0,ease:_,onComplete:function(){e.content.style.visibility="hidden"}}),v["default"].to(this.$refs.parallax.originPosition,.8,{x:-this.$root.winWidth/2+t+this.$root.stripWidth/2,ease:_})):(v["default"].to(this.content,1.2,{opacity:1,delay:.4,onStart:function(){e.content.style.visibility="visible"},ease:_}),v["default"].to(this.$refs.parallax.originPosition,.6,{x:0,ease:_})))},launch:function(t){var e=this;t.preventDefault(),"undefined"!=typeof xt_click&&(console.log("xt_click",null,"F",24,"Intro/Tuto"),xt_click(document.getElementById("navigation"),"F",24,"Intro/Tuto")),v["default"].to(this.content,.4,{opacity:0,visibility:"hidden",ease:g}),v["default"].to(this.$refs.firstscene,2,{originAlpha:0,ease:g}),v["default"].to(this,2,{animScene:1,ease:g}),setTimeout(function(){e.$broadcast("slideshow:play"),e.$broadcast("subtitle:show")},1600)},subtitleChange:function(t){this.$broadcast("subtitle:change",t)},openCredit:function(t){t.preventDefault(),this.$dispatch("credit:show")},openModulePedago:function(t){t.preventDefault(),this.$dispatch("modulePedago:show")},skipIntro:function(t){t.preventDefault(),this.introPlay=!1,p["default"].show("/episode1")}}})},{"../../utils":46,"../../utils/browserSupport":40,"./template.html":34,gsap:64,page:69,vue:200}],34:[function(t,e,i){e.exports='<div id="page-home">\n    \n    <core-container renderer="pixi" v-ref:parallax>\n        \n        <core-scene-slideshow renderer="pixi" duration="5" v-bind:isplay="introPlay">\n\n            <core-scene renderer="pixi" width="1600" height="907" active="0" anchor="0.5,0.5">\n                <core-sprite\n                    renderer="pixi"\n                    width="1800"\n                    height="1020"\n                    url="./assets/images/landing/bg-3.jpg"\n                    position="0,0"\n                    parallax="0.005"\n                    scale="1.1,1.1"\n                    anchor="0.5,0.5"\n                >\n                </core-sprite>\n            </core-scene>\n\n            <core-scene renderer="pixi" width="1600" height="907" active="0" anchor="0.5,0.5">\n                <core-sprite\n                    renderer="pixi"\n                    width="1800"\n                    height="1020"\n                    url="./assets/images/landing/bg-2.jpg"\n                    position="0,0"\n                    parallax="0.005"\n                    scale="1.1,1.1"\n                    anchor="0.5,0.5"\n                >\n                </core-sprite>\n            </core-scene>\n\n            <core-scene renderer="pixi" width="1600" height="907" active="1" anchor="0.5,0.5">\n                <core-sprite\n                    renderer="pixi"\n                    width="1800"\n                    height="1020"\n                    url="./assets/images/landing/bg-1.jpg"\n                    position="0,0"\n                    parallax="0.005"\n                    scale="1.1,1.1"\n                    anchor="0.5,0.5"\n                >\n                </core-sprite>\n            </core-scene>\n\n        </core-scene-slideshow>\n\n        <core-scene renderer="pixi" width="1600" height="907" anchor="0.5,0.5" fire="1" v-bind:anim-progress="animScene" v-ref:firstscene>\n            <core-sprite\n                renderer="pixi"\n                width="3212"\n                height="907"\n                url="./assets/images/landing/bg-landing.jpg"\n                position="0,0"\n                parallax="0.005"\n                scale="1.1,1.1"\n                anchor="0,0.5"\n            >\n            </core-sprite>\n\n            <core-sprite\n                renderer="pixi"\n                width="1800"\n                height="1020"\n                url="./assets/images/landing/bg-landing-2.png"\n                position="0,0"\n                parallax="0.005"\n                scale="1.1,1.1"\n                anchor="0,0.5"\n                fire="1"\n            >\n            </core-sprite>\n\n            <core-particle-container renderer="pixi" width="1600" height="907" parallax="0.005"></core-particle-container>\n\n            <core-sprite\n                renderer="pixi"\n                width="376"\n                height="450"\n                url="./assets/images/landing/totem.png"\n                position="1224,477"\n                parallax="0.01"\n            >\n            </core-sprite>\n\n            <core-sprite\n                renderer="pixi"\n                width="376"\n                height="450"\n                url="./assets/images/landing/totem-2.png"\n                position="1224,477"\n                parallax="0.01"\n                fire="1"\n            >\n            </core-sprite>\n\n            <core-sprite\n                renderer="pixi"\n                width="501"\n                height="775"\n                url="./assets/images/landing/apator.png"\n                position="-40,-40"\n                parallax="0.015"\n            >\n            </core-sprite>\n            <core-sprite\n                renderer="pixi"\n                width="501"\n                height="775"\n                url="./assets/images/landing/apator-2.png"\n                position="-40,-40"\n                parallax="0.015"\n                alpha="0"\n                fire="1"\n            >\n            </core-sprite>\n\n        </core-scene>\n\n    </core-container>\n\n    <core-subtitle class="subtitle">\n        <div class="item item-1 valign">\n            <p class="valign__content">Avant que tout bascule, Apator le chef Eduen, se souvient.<br><i>Remontez le fil de son histoire</i></p>\n        </div>\n        <div class="item item-2 valign">\n            <p class="valign__content">L’ennemi a patiemment encerclé la ville. César est prêt. Eux, ont faim. Mais l\'heure du combat est venue. </p>\n        </div>\n        <div class="item item-3 valign">\n            <p class="valign__content">27 septembre, 52 avant J-C, Alesia. Les Gaulois se sont unis pour vaincre leur ancien allié : Rome.</p>\n        </div>\n\n        <div class="skip">\n            <a href="#" class="btn" v-on:click="skipIntro($event)">\n                <span class="bg-large">\n                    <span class="line-bottom-left"></span>\n                    <span class="line-top-right"></span>\n                </span>\n                <span class="bg-tall">\n                    <span class="line-bottom-left"></span>\n                    <span class="line-top-right"></span>\n                </span>\n                <span class="text">passer l\'introduction</span>\n            </a>\n        </div>\n    </core-subtitle>\n\n    <div class="page-content">\n        \n        <div class="top">\n            <ul class="list-inline list-btn">\n                <li>\n                    <a href="http://www.france2.fr/emissions/le-dernier-gaulois" target="_blank" title="Le Film" class="btn btn-small">\n                        <span class="bg-large">\n                            <span class="line-bottom-left"></span>\n                            <span class="line-top-right"></span>\n                        </span>\n                        <span class="bg-tall">\n                            <span class="line-bottom-left"></span>\n                            <span class="line-top-right"></span>\n                        </span>\n                        <span class="text">Le film</span>\n                    </a>\n                </li>\n                <li>\n                    <a href="#" v-on:click="openModulePedago($event)" class="btn btn-small">\n                        <span class="bg-large">\n                            <span class="line-bottom-left"></span>\n                            <span class="line-top-right"></span>\n                        </span>\n                        <span class="bg-tall">\n                            <span class="line-bottom-left"></span>\n                            <span class="line-top-right"></span>\n                        </span>\n                        <span class="text">Modules pedagogiques</span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div class="valign lead">\n            <div class="valign__content">\n\n                <h1><img src="./assets/images/logo-lederniergaulois.png" height="190" width="760" alt="Le deriner gaulois"></h1>\n                <h2>Mémoires d\'un guerrier</h2>\n            </div>\n        </div>\n\n        <div class="wrapper-btn-launch valign">\n            <a href="#" v-on:click="launch($event)" class="valign__content btn">\n                <span class="bg-large">\n                    <span class="line-bottom-left"></span>\n                    <span class="line-top-right"></span>\n                </span>\n                <span class="bg-tall">\n                    <span class="line-bottom-left"></span>\n                    <span class="line-top-right"></span>\n                </span>\n                <span class="bg-medium">\n                    <span class="line-bottom-left"></span>\n                    <span class="line-top-right"></span>\n                </span>\n                <span class="text">Commencer l\'expérience</span>\n            </a>\n        </div>\n    \n\n\n\n        <div class="bottom">\n            <ul class="list-inline">\n                <li>\n                    <a href="http://education.francetv.fr/" target="_blank">\n                        <img src="./assets/images/logo-francetv.png" alt="France TV education" width="120" height="13">\n                    </a>\n                </li>\n                <li>\n                    <a href="https://www.reseau-canope.fr/" target="_blank">\n                        <img src="./assets/images/logo-canope.png" alt="Reseau canope" width="45" height="18">\n                    </a>\n                </li>\n                <li>\n                    <a href="http://nouvelles-ecritures.francetv.fr/" target="_blank">\n                        <img src="./assets/images/logo-nouvelles-ecritures.jpg" alt="France TV nouvelles écritures" width="35" height="27">\n                    </a>\n                </li>\n                <li>\n                    <a href="http://red-corner.fr" target="_blank">\n                        <img src="./assets/images/logo-redcorner.png" alt="Redcorner" width="33" width="40">\n                    </a>\n                </li>\n                <li>\n                    <a href="http://www.france2.fr/emissions/le-dernier-gaulois" target="_blank">\n                        <img src="./assets/images/logo-france2.png" alt="France 2" width="26" height="40">\n                    </a>\n                </li>\n                <li>\n                    <a href="http://www.program33.com" target="_blank">\n                        <img src="./assets/images/logo-program33.png" alt="Program 33" width="62" height="13">\n                    </a>\n                </li>\n<!--                 <li>\n                    <a href="http://www.rtbf.be/" target="_blank">\n                        <img src="./assets/images/logo-rtbf.png" alt="RTBF" width="64" height="17">\n                    </a>\n                </li> -->\n            </ul>\n        </div>\n\n        <ul class="list-inline social">\n            <li>\n                <a href="#" v-on:click="openCredit($event)" class="btn btn-small">\n                    <span class="bg-large">\n                        <span class="line-bottom-left"></span>\n                        <span class="line-top-right"></span>\n                    </span>\n                    <span class="bg-tall">\n                        <span class="line-bottom-left"></span>\n                        <span class="line-top-right"></span>\n                    </span>\n                    <span class="text">Credits</span>\n                </a>\n            </li>\n            <li>\n                <a class="btn-round valign" target="_blank" href="https://twitter.com/home?status=D%C3%A9roulez%20le%20fil%20de%20l\'histoire%20du%20Dernier%20Gaulois%20avec%20une%20BD%20interactive%20d\'un%20nouveau%20genre%20%23LDG%20http%3A%2F%2Flederniergaulois.fr">\n                    <span class="valign__content icon">\n                        <svg version="1.1" id="twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 13 11" style="enable-background:new 0 0 13 11;" xml:space="preserve" width="13" height="11">\n                            <path class="st0" d="M13,1.5c-0.5,0.2-1,0.4-1.5,0.4c0.6-0.3,1-0.9,1.2-1.5c-0.5,0.3-1.1,0.5-1.7,0.6C10.5,0.5,9.8,0.2,9,0.2\n                                c-1.5,0-2.7,1.2-2.7,2.7c0,0.2,0,0.4,0.1,0.6C4.2,3.4,2.2,2.3,0.9,0.7C0.7,1.1,0.5,1.6,0.5,2C0.5,3,1,3.8,1.7,4.3\n                                c-0.4,0-0.8-0.1-1.2-0.3c0,0,0,0,0,0c0,1.3,0.9,2.4,2.1,2.6C2.4,6.6,2.2,6.7,2,6.7c-0.2,0-0.3,0-0.5,0c0.3,1.1,1.3,1.8,2.5,1.9\n                                C3,9.2,1.9,9.6,0.6,9.6c-0.2,0-0.4,0-0.6,0c1.2,0.8,2.6,1.2,4.1,1.2c4.9,0,7.6-4.1,7.6-7.6c0-0.1,0-0.2,0-0.3\n                                C12.2,2.5,12.6,2,13,1.5L13,1.5z"></path>\n                        </svg>\n                    </span>\n                </a>\n            </li>\n            <li>\n                <a class="btn-round valign" target="_blank" v-bind:href="\'https://www.facebook.com/sharer/sharer.php?u=\'+this.$root.base">\n                    <span class="valign__content icon">\n                        <svg version="1.1" id="facebook" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 7 14" style="enable-background:new 0 0 7 14;" xml:space="preserve" width="7" height="14">\n                            <path id="f" class="st0" d="M4.5,13.8V7.6h2.1l0.3-2.4H4.5V3.7c0-0.7,0.2-1.2,1.2-1.2l1.3,0V0.4c-0.2,0-1-0.1-1.8-0.1\n                            c-1.8,0-3.1,1.1-3.1,3.2v1.8H0v2.4h2.1v6.1H4.5z"></path>\n                        </svg>\n                    </span>\n                </a>\n            </li>\n        </ul>\n\n    </div>\n\n</div>'},{}],35:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("vue"),s=n(r),o=t("./template.html"),a=n(o),l=t("../../utils/browserSupport"),h=n(l),u=t("gsap");n(u);s["default"].component("gaulois-module-pedagogique",{template:a["default"],events:{"modulePedago:show":"show","modulePedago:hide":"hide"},data:function(){return{active:!1}},ready:function(){this.closeBtn=this.$el.querySelector(".btn-close")},methods:{show:function(){var t=this;this.active||(this.$el.style.display="block",this.$dispatch("brush:show"),"undefined"!=typeof xt_click&&(console.log("xt_click",null,"F",24,"Modules_Pedago"),xt_click(document.getElementById("navigation"),"F",24,"Modules_Pedago")),setTimeout(function(){t.active=!0,t.$el.classList.add("active"),t.closeBtn.classList.add("active")},500),setTimeout(function(){t.$root.navDisplay&&!h["default"].touch&&t.$root.$refs.strips.disable(),t.$root.modulePedagoDisplay=!0},1e3))},hide:function(t){var e=this;t&&t.preventDefault(),this.active&&(this.$dispatch("brush:hide"),this.$el.classList.remove("active"),this.closeBtn.classList.remove("active"),this.$root.navDisplay&&!h["default"].touch&&this.$root.$refs.strips.enable(),setTimeout(function(){e.active=!1,e.$root.modulePedagoDisplay=!1,e.$el.style.display="none"},1500))}}})},{"../../utils/browserSupport":40,"./template.html":36,gsap:64,vue:200}],36:[function(t,e,i){e.exports='<div id="page-module-pedagogique" class="valign">\n\n    <div class="valign__content container">\n        \n    \n        <p>\n            Au printemps 2016, prolongez la lecture de chaque épisode de la bande dessinée "Le Dernier Gaulois" sur <a href="http://education.francetv.fr/" target="_blank" title="">francetveducation.fr</a>.\n        </p>\n         <p>\n            Ces contenus complémentaires à la bande dessinée, proposeront :\n        </p>\n         <p>\n            - une fiche historique détaillé qui accompagnera chaque épisode et éclairera les grands bouleversements de la civilisation gauloise sous l\'empire Romain.\n        </p>\n         <p>\n            - des jeux ludo-éducatifs illustrés par les auteurs de la bande dessinée pour découvrir la vie quotidienne des Gaulois.\n         </p>\n          <p>\n            <i>A découvrir prochainement.</i>        \n        </p>\n\n\n\n    </div>\n\n    <a href="#" v-on:click="hide($event)" class="btn-round btn-close valign">\n        <div class="valign__content">\n            <span class="close"></span>\n        </div>\n    </a>\n    \n</div>'},{}],37:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("vue"),o=r(s),a=t("pixi.js"),l=(r(a),t("../../utils")),h=(n(l),t("./template.html")),u=r(h),c=t("../../utils/browserSupport"),p=(r(c),t("../../mixins/graphics"));r(p);o["default"].component("gaulois-p404",{template:u["default"],props:[],events:{"page:load":"loadPage","page:show":"showPage","page:hide":"hidePage"},data:function(){return{name:"p404",active:!1}},methods:{loadPage:function(t){t==this.name&&(this.$dispatch("loader:assets",[]),this.$dispatch("page:ready"))},showPage:function(t){var e=this;t==this.name&&(this.$el.style.display="block",setTimeout(function(){e.active=!0,e.$el.classList.add("active")},500),this.$root.loaderDisplay&&this.$dispatch("loader:hide"),this.$dispatch("brush:show"))},hidePage:function(t){var e=this;setTimeout(function(){e.active=!0,e.$el.classList.add("active"),e.$el.style.display="none"},1e3)}}})},{"../../mixins/graphics":26,"../../utils":46,"../../utils/browserSupport":40,"./template.html":38,"pixi.js":165,vue:200}],38:[function(t,e,i){e.exports='<div id="p404" class="valign">\n	<div class="valign__content">\n		<img src="./assets/images/404.png" alt="404">\n\n        <a href="#" v-on:click="" class="btn">\n            <span class="bg-large">\n                <span class="line-bottom-left"></span>\n                <span class="line-top-right"></span>\n            </span>\n            <span class="bg-tall">\n                <span class="line-bottom-left"></span>\n                <span class="line-top-right"></span>\n            </span>\n            <span class="bg-medium">\n                <span class="line-bottom-left"></span>\n                <span class="line-top-right"></span>\n            </span>\n            <span class="text">Retourner sur l\'expérience</span>\n        </a>\n\n	</div>\n</div>'},{}],39:[function(t,e,i){"use strict";e.exports=function(){var t=400,e=function(t){return 1/(200*t)},i=function(i,n,r,s){var o=3*i,a=3*(r-i)-o,l=1-o-a,h=3*n,u=3*(s-n)-h,c=1-h-u,p=function(t){return((l*t+a)*t+o)*t},d=function(t){return((c*t+u)*t+h)*t},f=function(t){return(3*l*t+2*a)*t+o},m=function(t,e){var i,n,r,s,o,a;for(r=t,a=0;8>a;a++){if(s=p(r)-t,Math.abs(s)<e)return r;if(o=f(r),Math.abs(o)<1e-6)break;r-=s/o}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(s=p(r),Math.abs(s-t)<e)return r;t>s?i=r:n=r,r=.5*(n-i)+i}return r},v=function(t,e){return d(m(t,e))};return function(i,n){return v(i,e(+n||t))}};return function(t,e,n,r,s,o){return i(t,e,n,r)(s,o)}}()},{}],40:[function(t,e,i){"use strict";var n={},r=null,s=(document.documentElement,document.createElement("div")),o=s.style,a=" Webkit WebKit Moz O Ms ms".split(" "),l=" -webkit- -webkit- -moz- -o- -ms- -ms-".split(" "),h=a.length,u=!1,c=function(t,e){if(u&t in n)return n[t];var i,r="undefined"!=typeof e?e:!1,s=h;for(i=t.replace(/(^[a-z])/g,function(t){return t.toUpperCase()}).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()});s--;){if(t in o)return t;if(a[s]+i in o)return r?l[s]+t.toLowerCase():a[s]+i;if("undefined"!=typeof window[a[s].toLowerCase()+i])return a[s].toLowerCase()+i;if("undefined"!=typeof window[a[s]+i])return a[s]+i}return!1};r={prefix:function(){var t=c("transform");return t?t.replace("Transform",""):""},cssprefix:function(){var t=c("transform",!0);return t?t.replace("transform",""):""},transform:function(){return c("transform")},transformCss:function(){return c("transform",!0)},transform3d:function(){return"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||!!c("perspective")},translateZ:function(){return this.transform3d()?"translateZ(0)":""},transformOrigin:function(){return c("transformOrigin")},backfaceVisibility:function(){return c("backfaceVisibility")},perspective:function(){return c("perspective")},perspectiveOrigin:function(){return c("perspectiveOrigin")},transition:function(){return c("transition")},transitionProperty:function(){return c("transitionProperty")},transitionDuration:function(){return c("transitionDuration")},transitionTimingFunction:function(){return c("transitionTimingFunction")},transitionDelay:function(){return c("transitionDelay")},transitionEvent:function(){return c("transitionEvent")},transitionEventPrefix:function(){return c("transitionEvent")?c("transitionEvent").replace("TransitionEvent","").toLowerCase():""},transitionEnd:function(){return""!==this.transitionEventPrefix()?this.transitionEventPrefix()+"TransitionEnd":"transitionend"},touch:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0},msPointer:function(){return!!window.navigator.msPointerEnabled},pointer:function(){return!!window.navigator.pointerEnabled},ipad:function(){return navigator.userAgent.match(/.*(iPad).*/)?!0:!1},iphone:function(){return navigator.userAgent.match(/.*(iPhone).*/)?!0:!1},android:function(){return navigator.userAgent.match(/.*(Android).*/)?!0:!1},firefox:function(){return navigator.userAgent.match(/.*((f|F)irefox).*/)?!0:!1},ltIE9:function(){return window.attachEvent&&!window.addEventListener},pointerdown:function(){return this.touch()?"touchstart":this.pointer()?"pointerdown":this.msPointer()?"MSPointerDown":"mousedown"},pointerup:function(){return this.touch()?"touchend":this.pointer()?"pointerup":this.msPointer()?"MSPointerUp":"mouseup"},pointermove:function(){return this.touch()?"touchmove":this.pointer()?"pointermove":this.msPointer()?"MSPointerMove":"mousemove"},pointerenter:function(){return this.touch()?"touchstart":this.pointer()?"pointerenter":(this.msPointer(),"mouseover")},pointerleave:function(){return this.touch()?"touchend":this.pointer()?"pointerleave":(this.msPointer(),"mouseout")},smallscreen:function(){return window.innerWidth<700},canvas:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},video:function f(){var f=document.createElement("video");return"undefined"!=typeof f.play},audio:function m(){var m=document.createElement("audio");return"undefined"!=typeof m.play}};var p;for(var d in r)r.hasOwnProperty(d)&&(p=d,n[p]=r[d]());n.test=function(t){return!!c(t)},n.getPrefixed=function(t){return c(t)},n.getCssPrefixed=function(t){return c(t,!0)},u=!0,e.exports=n},{}],41:[function(t,e,i){"use strict";function n(t,e,i,n,r){var s=[i/t,n/e];return s=r?Math.min(s[0],s[1]):Math.max(s[0],s[1]),{width:t*s,height:e*s}}Object.defineProperty(i,"__esModule",{value:!0}),i.calculateAspectRatio=n},{}],42:[function(t,e,i){"use strict";function n(t,e,i){return e>t?e:t>i?i:t}Object.defineProperty(i,"__esModule",{value:!0}),i.clamp=n},{}],43:[function(t,e,i){"use strict";function n(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}Object.defineProperty(i,"__esModule",{value:!0}),i.clone=n},{}],44:[function(t,e,i){"use strict";function n(t,e,i,n){return 0>t||t>1||0>i||i>1?function(t){return t}:function(r){for(var s=0,o=1;;){var a=function(t,e,i){return 3*t*(1-i)*(1-i)*i+3*e*(1-i)*i*i+i*i*i},l=(s+o)/2,h=a(t,i,l);if(Math.abs(r-h)<.001)return a(e,n,l);r>h?s=l:o=l}}}Object.defineProperty(i,"__esModule",{value:!0}),i.cubic=n},{}],45:[function(t,e,i){"use strict";function n(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n,e.exports=i["default"]},{}],46:[function(t,e,i){"use strict";function n(t,e){var i=e({},t);return delete i["default"],i}function r(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var r=i[n],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}Object.defineProperty(i,"__esModule",{value:!0});var s=t("./extend");r(i,n(s,r));var o=t("./cubic");r(i,n(o,r));var a=t("./calculateAspectRatio");r(i,n(a,r));var l=t("./clone");r(i,n(l,r));var h=t("./splitText");r(i,n(h,r));var u=t("./throttle");r(i,n(u,r));var c=t("./romanize");r(i,n(c,r));var p=t("./clamp");r(i,n(p,r))},{"./calculateAspectRatio":41,"./clamp":42,"./clone":43,"./cubic":44,"./extend":45,"./romanize":47,"./splitText":48,"./throttle":49}],47:[function(t,e,i){"use strict";function n(t){if(!+t)return!1;for(var e=String(+t).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",r=3;r--;)n=(i[+e.pop()+10*r]||"")+n;return Array(+e.join("")+1).join("M")+n}Object.defineProperty(i,"__esModule",{value:!0}),i.romanize=n},{}],48:[function(t,e,i){"use strict";function n(t,e,i){var n=this,r=t.innerHTML;this.letters=r.replace("&amp;","&").split("");var s="";this.letters.forEach(function(t,r){void 0!=i?n.letters[r]='<span class="'+i+" "+e+"-"+r+'"><span class="'+e+'__mask">'+t+"</span></span>":n.letters[r]='<span class="'+e+"-"+r+'"><span class="'+e+'__mask">'+t+"</span></span>",s+=n.letters[r]}),t.innerHTML=s}Object.defineProperty(i,"__esModule",{value:!0}),i.splitText=n},{}],49:[function(t,e,i){"use strict";function n(t,e,i){var n;return function(){var r=this,s=arguments,o=function(){n=null,i||t.apply(r,s)},a=i&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(r,s)}}Object.defineProperty(i,"__esModule",{value:!0}),i.throttle=n},{}],50:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){o["default"].AbstractFilter.call(this,a,l,{amountX:{type:"f",value:0},amountY:{type:"f",value:0},size:{type:"f",value:.2},spread:{type:"f",value:1}}),this.amountX=this.uniforms.amountX.value,this.amountY=this.uniforms.amountY.value,this.size=this.uniforms.size.value,this.spread=this.uniforms.spread.value}Object.defineProperty(i,"__esModule",{value:!0});var s=t("pixi.js"),o=n(s),a=t("./vs.glsl"),l=t("./blur-fs.glsl");r.prototype=Object.create(o["default"].AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(t,e,i){this.uniforms.amountX.value=this.amountX,this.uniforms.amountY.value=this.amountY,this.uniforms.size.value=this.size,this.uniforms.spread.value=this.spread,t.filterManager.applyFilter(this.getShader(t),e,i)},Object.defineProperties(r.prototype,{amountX:{get:function(){return this.uniforms.amountX.value},set:function(t){this.uniforms.amountX.value=t}},amountY:{get:function(){return this.uniforms.amountY.value},set:function(t){this.uniforms.amountY.value=t}},size:{get:function(){return this.uniforms.size.value},set:function(t){this.uniforms.size.value=t}},spread:{get:function(){return this.uniforms.spread.value},set:function(t){this.uniforms.spread.value=t}}}),i["default"]=r,e.exports=i["default"]},{"./blur-fs.glsl":53,"./vs.glsl":55,"pixi.js":165}],51:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){o["default"].AbstractFilter.call(this,a,l,{amount:{type:"f",value:-.2}}),this.amount=this.uniforms.amount.value}Object.defineProperty(i,"__esModule",{value:!0});var s=t("pixi.js"),o=n(s),a=t("./vs.glsl"),l=t("./displacment-fs.glsl");r.prototype=Object.create(o["default"].AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(t,e,i){this.uniforms.amount.value=this.amount,t.filterManager.applyFilter(this.getShader(t),e,i)},Object.defineProperties(r.prototype,{amount:{get:function(){return this.uniforms.amount.value},set:function(t){this.uniforms.amount.value=t}}}),i["default"]=r,e.exports=i["default"]},{"./displacment-fs.glsl":54,"./vs.glsl":55,"pixi.js":165}],52:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){o["default"].AbstractFilter.call(this,a,l,{iResolution:{type:"2f",value:{x:window.innerWidth,y:window.innerHeight}},center:{type:"2f",value:{x:window.innerWidth/2,y:window.innerHeight/2}},amount:{type:"f",value:.1}}),this.amount=this.uniforms.amount.value}Object.defineProperty(i,"__esModule",{value:!0});var s=t("pixi.js"),o=n(s),a=t("./vs.glsl"),l=t("./zoomblur-fs.glsl");r.prototype=Object.create(o["default"].AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(t,e,i){this.uniforms.amount.value=this.amount,t.filterManager.applyFilter(this.getShader(t),e,i)},Object.defineProperties(r.prototype,{amount:{get:function(){return this.uniforms.amount.value},set:function(t){this.uniforms.amount.value=t}}}),i["default"]=r,e.exports=i["default"]},{"./vs.glsl":55,"./zoomblur-fs.glsl":56,"pixi.js":165}],53:[function(t,e,i){
e.exports="precision mediump float;\n\n#define BLUR_ITERATION 5.0\n\nuniform float size;\nuniform float spread;\n\nvarying vec2 vUv;\n\nuniform sampler2D uSampler;\nuniform float amountX;\nuniform float amountY;\n\nfloat randomize(vec3 scale, float seed) {\n    /* use the fragment position for a different seed per-pixel */\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main( void ) {\n\n	vec2 delta = vec2( amountX, amountY );\n    float dist = distance(vUv, vec2(0.5, 0.5));\n\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n    \n    /* randomize the lookup values to hide the fixed number of samples */\n    float offset = randomize(vec3(12.9898, 78.233, 151.7182), 0.0);\n    \n    for (float t = -BLUR_ITERATION; t <= BLUR_ITERATION; t++) {\n\n        float percent = (t + offset - 0.5) / BLUR_ITERATION;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vUv + delta * percent * (1.0 - smoothstep(0.8, size * 0.799, dist * (spread + size)) ) );\n        \n        /* switch to pre-multiplied alpha to correctly blur transparent images */\n        sample.rgb *= sample.a;\n        \n        color += sample * weight;\n        total += weight;\n    \n    }\n    \n    vec4 outColor = color / total;\n    \n    /* switch back from pre-multiplied alpha */\n    outColor.rgb /= outColor.a + 0.00001;\n\n\n    gl_FragColor = outColor; //mix(texture2D(uSampler, vUv), outColor, dist);\n\n    // color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));\n\n}"},{}],54:[function(t,e,i){e.exports="precision mediump float;\n\nvarying vec2 vUv;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float amount;\n\nfloat easeInQuad( float t ) { \n	return t*t;\n}\n\n\nvoid main(void)\n{\n\n    float ratioX = (vUv.x - 0.5 ) * 2.0;\n    float ratioY = vUv.y;//clamp( (vUv.y - 0.5) * 2.0, 0.0, 1.0 );\n    // float offset = -0.11;\n\n    //gl_FragColor = texture2D(uSampler, vec3(vUv.x + map.x, vUv.y + map.y));\n   \n    float shadowRatio = abs( (vUv.y - 0.5 ) * 2.0 );\n\n    shadowRatio = 1.0;\n\n	vec4 returnedColor = texture2D(uSampler, vec2(vUv.x + (ratioX * easeInQuad(ratioY) * amount), vUv.y ));\n\n    gl_FragColor = vec4(returnedColor.rgb * shadowRatio, returnedColor.a);\n\n}"},{}],55:[function(t,e,i){e.exports="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vUv;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vUv = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}"},{}],56:[function(t,e,i){e.exports="precision mediump float;\n\n#define BLUR_ITERATION 40.0\n\nvarying vec2 vUv;\nuniform sampler2D uSampler;\n\nuniform float amount;\nuniform vec2 iResolution;\n\nfloat randomize(vec3 scale, float seed) {\n    /* use the fragment position for a different seed per-pixel */\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main( void ) {\n\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n    vec2 center = vec2(.5);\n    vec2 toCenter = center - vUv;\n    // vec2 center = iResolution * .5;\n    // vec2 center = vec2( 200, 200) - vUv * iResolution;\n\n    /* randomize the lookup values to hide the fixed number of samples */\n    float offset = randomize(vec3(12.9898, 78.233, 151.7182), 0.0);\n    \n    for (float t = 0.0; t <= BLUR_ITERATION; t++) {\n\n        float percent = (t + offset) / BLUR_ITERATION;\n        float weight = 4.0 * (percent - percent * percent);\n        vec4 sample = texture2D(uSampler, vUv + toCenter * percent * amount);\n        \n        /* switch to pre-multiplied alpha to correctly blur transparent images */\n        sample.rgb *= sample.a;\n        \n        color += sample;// * weight;\n        total += weight;\n\n    }\n    \n    vec4 outColor = color / total;\n    \n    /* switch back from pre-multiplied alpha */\n    outColor.rgb /= outColor.a + 0.00001;\n\n    gl_FragColor = outColor;\n\n}"},{}],57:[function(t,e,i){(function(t,i){!function(){function n(){}function r(t){return t}function s(t){return!!t}function o(t){return!t}function a(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function l(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function h(t){return j(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function u(t,e){for(var i=-1,n=t.length;++i<n;)e(t[i],i,t)}function c(t,e){for(var i=-1,n=t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function p(t){return c(Array(t),function(t,e){return e})}function d(t,e,i){return u(t,function(t,n,r){i=e(i,t,n,r)}),i}function f(t,e){u(U(t),function(i){e(t[i],i)})}function m(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function v(t){var e,i,n=-1;return h(t)?(e=t.length,function(){return n++,e>n?n:null}):(i=U(t),e=i.length,function(){return n++,e>n?i[n]:null})}function g(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;i>r;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n)}}}function _(t){return function(e,i,n){return t(e,n)}}function y(t){return function(e,i,r){r=l(r||n),e=e||[];var s=v(e);if(0>=t)return r(null);var o=!1,h=0,u=!1;!function c(){if(o&&0>=h)return r(null);for(;t>h&&!u;){var n=s();if(null===n)return o=!0,void(0>=h&&r(null));h+=1,i(e[n],n,a(function(t){h-=1,t?(r(t),u=!0):c()}))}}()}}function x(t){return function(e,i,n){return t(N.eachOf,e,i,n)}}function b(t){return function(e,i,n,r){return t(y(i),e,n,r)}}function w(t){return function(e,i,n){return t(N.eachOfSeries,e,i,n)}}function T(t,e,i,r){r=l(r||n),e=e||[];var s=h(e)?[]:{};t(e,function(t,e,n){i(t,function(t,i){s[e]=i,n(t)})},function(t){r(t,s)})}function E(t,e,i,n){var r=[];t(e,function(t,e,n){i(t,function(i){i&&r.push({index:e,value:t}),n()})},function(){n(c(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function S(t,e,i,n){E(t,e,function(t,e){i(t,function(t){e(!t)})},n)}function C(t,e,i){return function(n,r,s,o){function a(){o&&o(i(!1,void 0))}function l(t,n,r){return o?void s(t,function(n){o&&e(n)&&(o(i(!0,t)),o=s=!1),r()}):r()}arguments.length>3?t(n,r,l,a):(o=s,s=r,t(n,l,a))}}function A(t,e){return e}function P(t,e,i){i=i||n;var r=h(e)?[]:{};t(e,function(t,e,i){t(g(function(t,n){n.length<=1&&(n=n[0]),r[e]=n,i(t)}))},function(t){i(t,r)})}function R(t,e,i,n){var r=[];t(e,function(t,e,n){i(t,function(t,e){r=r.concat(e||[]),n(t)})},function(t){n(t,r)})}function O(t,e,i){function r(t,e,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length&&t.idle()?N.setImmediate(function(){t.drain()}):(u(e,function(e){var s={data:e,callback:r||n};i?t.tasks.unshift(s):t.tasks.push(s),t.tasks.length===t.concurrency&&t.saturated()}),void N.setImmediate(t.process))}function s(t,e){return function(){o-=1;var i=!1,n=arguments;u(e,function(t){u(l,function(e,n){e!==t||i||(l.splice(n,1),i=!0)}),t.callback.apply(t,n)}),t.tasks.length+o===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=0,l=[],h={tasks:[],concurrency:e,payload:i,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(t,e){r(h,t,!1,e)},kill:function(){h.drain=n,h.tasks=[]},unshift:function(t,e){r(h,t,!0,e)},process:function(){if(!h.paused&&o<h.concurrency&&h.tasks.length)for(;o<h.concurrency&&h.tasks.length;){var e=h.payload?h.tasks.splice(0,h.payload):h.tasks.splice(0,h.tasks.length),i=c(e,function(t){return t.data});0===h.tasks.length&&h.empty(),o+=1,l.push(e[0]);var n=a(s(h,e));t(i,n)}},length:function(){return h.tasks.length},running:function(){return o},workersList:function(){return l},idle:function(){return h.tasks.length+o===0},pause:function(){h.paused=!0},resume:function(){if(h.paused!==!1){h.paused=!1;for(var t=Math.min(h.concurrency,h.tasks.length),e=1;t>=e;e++)N.setImmediate(h.process)}}};return h}function M(t){return g(function(e,i){e.apply(null,i.concat([g(function(e,i){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&u(i,function(e){console[t](e)}))})]))})}function D(t){return function(e,i,n){t(p(e),i,n)}}function k(t){return g(function(e,i){var n=g(function(i){var n=this,r=i.pop();return t(e,function(t,e,r){t.apply(n,i.concat([r]))},r)});return i.length?n.apply(this,i):n})}function F(t){return g(function(e){var i=e.pop();e.push(function(){var t=arguments;n?N.setImmediate(function(){i.apply(null,t)}):i.apply(null,t)});var n=!0;t.apply(this,e),n=!1})}var L,N={},B="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i||this;null!=B&&(L=B.async),N.noConflict=function(){return B.async=L,N};var I=Object.prototype.toString,j=Array.isArray||function(t){return"[object Array]"===I.call(t)},$=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},U=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},z="function"==typeof setImmediate&&setImmediate,X=z?function(t){z(t)}:function(t){setTimeout(t,0)};"object"==typeof t&&"function"==typeof t.nextTick?N.nextTick=t.nextTick:N.nextTick=X,N.setImmediate=z?X:N.nextTick,N.forEach=N.each=function(t,e,i){return N.eachOf(t,_(e),i)},N.forEachSeries=N.eachSeries=function(t,e,i){return N.eachOfSeries(t,_(e),i)},N.forEachLimit=N.eachLimit=function(t,e,i,n){return y(e)(t,_(i),n)},N.forEachOf=N.eachOf=function(t,e,i){function r(t){h--,t?i(t):null===s&&0>=h&&i(null)}i=l(i||n),t=t||[];for(var s,o=v(t),h=0;null!=(s=o());)h+=1,e(t[s],s,a(r));0===h&&i(null)},N.forEachOfSeries=N.eachOfSeries=function(t,e,i){function r(){var n=!0;return null===o?i(null):(e(t[o],o,a(function(t){if(t)i(t);else{if(o=s(),null===o)return i(null);n?N.setImmediate(r):r()}})),void(n=!1))}i=l(i||n),t=t||[];var s=v(t),o=s();r()},N.forEachOfLimit=N.eachOfLimit=function(t,e,i,n){y(e)(t,i,n)},N.map=x(T),N.mapSeries=w(T),N.mapLimit=b(T),N.inject=N.foldl=N.reduce=function(t,e,i,n){N.eachOfSeries(t,function(t,n,r){i(e,t,function(t,i){e=i,r(t)})},function(t){n(t,e)})},N.foldr=N.reduceRight=function(t,e,i,n){var s=c(t,r).reverse();N.reduce(s,e,i,n)},N.transform=function(t,e,i,n){3===arguments.length&&(n=i,i=e,e=j(t)?[]:{}),N.eachOf(t,function(t,n,r){i(e,t,n,r)},function(t){n(t,e)})},N.select=N.filter=x(E),N.selectLimit=N.filterLimit=b(E),N.selectSeries=N.filterSeries=w(E),N.reject=x(S),N.rejectLimit=b(S),N.rejectSeries=w(S),N.any=N.some=C(N.eachOf,s,r),N.someLimit=C(N.eachOfLimit,s,r),N.all=N.every=C(N.eachOf,o,o),N.everyLimit=C(N.eachOfLimit,o,o),N.detect=C(N.eachOf,r,A),N.detectSeries=C(N.eachOfSeries,r,A),N.detectLimit=C(N.eachOfLimit,r,A),N.sortBy=function(t,e,i){function n(t,e){var i=t.criteria,n=e.criteria;return n>i?-1:i>n?1:0}N.map(t,function(t,i){e(t,function(e,n){e?i(e):i(null,{value:t,criteria:n})})},function(t,e){return t?i(t):void i(null,c(e.sort(n),function(t){return t.value}))})},N.auto=function(t,e,i){function r(t){v.unshift(t)}function s(t){var e=m(v,t);e>=0&&v.splice(e,1)}function o(){h--,u(v.slice(0),function(t){t()})}i||(i=e,e=null),i=l(i||n);var a=U(t),h=a.length;if(!h)return i(null);e||(e=h);var c={},p=0,v=[];r(function(){h||i(null,c)}),u(a,function(n){function a(){return e>p&&d(_,function(t,e){return t&&c.hasOwnProperty(e)},!0)&&!c.hasOwnProperty(n)}function l(){a()&&(p++,s(l),u[u.length-1](v,c))}for(var h,u=j(t[n])?t[n]:[t[n]],v=g(function(t,e){if(p--,e.length<=1&&(e=e[0]),t){var r={};f(c,function(t,e){r[e]=t}),r[n]=e,i(t,r)}else c[n]=e,N.setImmediate(o)}),_=u.slice(0,u.length-1),y=_.length;y--;){if(!(h=t[_[y]]))throw new Error("Has inexistant dependency");if(j(h)&&m(h,n)>=0)throw new Error("Has cyclic dependencies")}a()?(p++,u[u.length-1](v,c)):r(l)})},N.retry=function(t,e,i){function n(t,e){if("number"==typeof e)t.times=parseInt(e,10)||s;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||s,t.interval=parseInt(e.interval,10)||o}}function r(t,e){function i(t,i){return function(n){t(function(t,e){n(!t||i,{err:t,result:e})},e)}}function n(t){return function(e){setTimeout(function(){e(null)},t)}}for(;l.times;){var r=!(l.times-=1);a.push(i(l.task,r)),!r&&l.interval>0&&a.push(n(l.interval))}N.series(a,function(e,i){i=i[i.length-1],(t||l.callback)(i.err,i.result)})}var s=5,o=0,a=[],l={times:s,interval:o},h=arguments.length;if(1>h||h>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=h&&"function"==typeof t&&(i=e,e=t),"function"!=typeof t&&n(l,t),l.callback=i,l.task=e,l.callback?r():r},N.waterfall=function(t,e){function i(t){return g(function(n,r){if(n)e.apply(null,[n].concat(r));else{var s=t.next();s?r.push(i(s)):r.push(e),F(t).apply(null,r)}})}if(e=l(e||n),!j(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}return t.length?void i(N.iterator(t))():e()},N.parallel=function(t,e){P(N.eachOf,t,e)},N.parallelLimit=function(t,e,i){P(y(e),t,i)},N.series=function(t,e){P(N.eachOfSeries,t,e)},N.iterator=function(t){function e(i){function n(){return t.length&&t[i].apply(null,arguments),n.next()}return n.next=function(){return i<t.length-1?e(i+1):null},n}return e(0)},N.apply=g(function(t,e){return g(function(i){return t.apply(null,e.concat(i))})}),N.concat=x(R),N.concatSeries=w(R),N.whilst=function(t,e,i){if(i=i||n,t()){var r=g(function(n,s){n?i(n):t.apply(this,s)?e(r):i(null)});e(r)}else i(null)},N.doWhilst=function(t,e,i){var n=0;return N.whilst(function(){return++n<=1||e.apply(this,arguments)},t,i)},N.until=function(t,e,i){return N.whilst(function(){return!t.apply(this,arguments)},e,i)},N.doUntil=function(t,e,i){return N.doWhilst(t,function(){return!e.apply(this,arguments)},i)},N.during=function(t,e,i){i=i||n;var r=g(function(e,n){e?i(e):(n.push(s),t.apply(this,n))}),s=function(t,n){t?i(t):n?e(r):i(null)};t(s)},N.doDuring=function(t,e,i){var n=0;N.during(function(t){n++<1?t(null,!0):e.apply(this,arguments)},t,i)},N.queue=function(t,e){var i=O(function(e,i){t(e[0],i)},e,1);return i},N.priorityQueue=function(t,e){function i(t,e){return t.priority-e.priority}function r(t,e,i){for(var n=-1,r=t.length-1;r>n;){var s=n+(r-n+1>>>1);i(e,t[s])>=0?n=s:r=s-1}return n}function s(t,e,s,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length?N.setImmediate(function(){t.drain()}):void u(e,function(e){var a={data:e,priority:s,callback:"function"==typeof o?o:n};t.tasks.splice(r(t.tasks,a,i)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),N.setImmediate(t.process)})}var o=N.queue(t,e);return o.push=function(t,e,i){s(o,t,e,i)},delete o.unshift,o},N.cargo=function(t,e){return O(t,1,e)},N.log=M("log"),N.dir=M("dir"),N.memoize=function(t,e){var i={},n={};e=e||r;var s=g(function(r){var s=r.pop(),o=e.apply(null,r);o in i?N.setImmediate(function(){s.apply(null,i[o])}):o in n?n[o].push(s):(n[o]=[s],t.apply(null,r.concat([g(function(t){i[o]=t;var e=n[o];delete n[o];for(var r=0,s=e.length;s>r;r++)e[r].apply(null,t)})])))});return s.memo=i,s.unmemoized=t,s},N.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},N.times=D(N.map),N.timesSeries=D(N.mapSeries),N.timesLimit=function(t,e,i,n){return N.mapLimit(p(t),e,i,n)},N.seq=function(){var t=arguments;return g(function(e){var i=this,r=e[e.length-1];"function"==typeof r?e.pop():r=n,N.reduce(t,e,function(t,e,n){e.apply(i,t.concat([g(function(t,e){n(t,e)})]))},function(t,e){r.apply(i,[t].concat(e))})})},N.compose=function(){return N.seq.apply(null,Array.prototype.reverse.call(arguments))},N.applyEach=k(N.eachOf),N.applyEachSeries=k(N.eachOfSeries),N.forever=function(t,e){function i(t){return t?r(t):void s(i)}var r=a(e||n),s=F(t);i()},N.ensureAsync=F,N.constant=g(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),N.wrapSync=N.asyncify=function(t){return g(function(e){var i,n=e.pop();try{i=t.apply(this,e)}catch(r){return n(r)}$(i)&&"function"==typeof i.then?i.then(function(t){n(null,t)})["catch"](function(t){n(t.message?t:new Error(t))}):n(null,i)})},"object"==typeof e&&e.exports?e.exports=N:"function"==typeof define&&define.amd?define([],function(){return N}):B.async=N}()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:184}],58:[function(t,e,i){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,r=i.length;r>n;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],59:[function(t,e,i){e.exports=t("./vendor/dat.gui"),e.exports.color=t("./vendor/dat.color")},{"./vendor/dat.color":60,"./vendor/dat.gui":61}],60:[function(t,e,i){var n=e.exports=n||{};n.color=n.color||{},n.utils=n.utils||{},n.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(e[i])||(t[i]=e[i])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(t[i])&&(t[i]=e[i])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var i=e.call(arguments),n=t.length-1;n>=0;n--)i=[t[n].apply(this,i)];return i[0]}},each:function(e,i,n){if(t&&e.forEach===t)e.forEach(i,n);else if(e.length===e.length+0){for(var r=0,s=e.length;s>r;r++)if(r in e&&i.call(n,e[r],r)===this.BREAK)return}else for(var r in e)if(i.call(n,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),n.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var i=e.hex.toString(16);i.length<6;)i="0"+i;return"#"+i}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(n.utils.common),n.Color=n.color.Color=function(t,e,i,n){function r(t,e,i){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(o(this,e,i),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(o(this,e,i),this.__state.space="RGB"),this.__state[e]=t}})}function s(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(a(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[e]=t}})}function o(t,i,r){if("HEX"===t.__state.space)t.__state[i]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";n.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var i=e.rgb_to_hsv(t.r,t.g,t.b);n.extend(t.__state,{s:i.s,v:i.v}),n.isNaN(i.h)?n.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=i.h}var l=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(l.prototype,{toString:function(){return i(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),s(l.prototype,"h"),s(l.prototype,"s"),s(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),l}(n.color.interpret=function(t,e){var i,n,r=function(){n=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(s,function(r){return r.litmus(t)?(e.each(r.conversions,function(r,s){return i=r.read(t),n===!1&&i!==!1?(n=i,i.conversionName=s,i.conversion=r,e.BREAK):void 0}),e.BREAK):void 0}),n},s=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(n.color.toString,n.utils.common),n.color.math=function(){var t;return{hsv_to_rgb:function(t,e,i){var n=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),s=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),l=[[i,a,s],[o,i,s],[s,i,a],[s,o,i],[a,s,i],[i,s,o]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,i){var n,r,s=Math.min(t,e,i),o=Math.max(t,e,i),a=o-s;return 0==o?{h:NaN,s:0,v:0}:(r=a/o,n=t==o?(e-i)/a:e==o?2+(i-t)/a:4+(t-e)/a,n/=6,0>n&&(n+=1),{h:360*n,s:r,v:o/255})},rgb_to_hex:function(t,e,i){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,i)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,i,n){return n<<(t=8*i)|e&~(255<<t)}}}(),n.color.toString,n.utils.common)},{}],61:[function(t,e,i){var n=e.exports=n||{};n.gui=n.gui||{},n.utils=n.utils||{},n.controllers=n.controllers||{},n.dom=n.dom||{},n.color=n.color||{},n.utils.css=function(){return{load:function(t,e){e=e||document;var i=e.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t,e.getElementsByTagName("head")[0].appendChild(i)},inject:function(t,e){e=e||document;var i=document.createElement("style");i.type="text/css",i.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(i)}}}(),n.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(e[i])||(t[i]=e[i])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(t[i])&&(t[i]=e[i])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var i=e.call(arguments),n=t.length-1;n>=0;n--)i=[t[n].apply(this,i)];return i[0]}},each:function(e,i,n){if(t&&e.forEach===t)e.forEach(i,n);else if(e.length===e.length+0){for(var r=0,s=e.length;s>r;r++)if(r in e&&i.call(n,e[r],r)===this.BREAK)return}else for(var r in e)if(i.call(n,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),n.controllers.Controller=function(t){var e=function(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0};return t.extend(e.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),e}(n.utils.common),n.dom.dom=function(t){function e(e){if("0"===e||t.isUndefined(e))return 0;var i=e.match(r);return t.isNull(i)?0:parseFloat(i[1])}var i={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},n={};t.each(i,function(e,i){t.each(e,function(t){n[t]=i})});var r=/(\d+(\.\d+)?)px/,s={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(e,i,n){t.isUndefined(i)&&(i=!0),t.isUndefined(n)&&(n=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,i,r,s){r=r||{};var o=n[i];if(!o)throw new Error("Event type "+i+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":var l=r.x||r.clientX||0,h=r.y||r.clientY||0;a.initMouseEvent(i,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,h,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=a.initKeyboardEvent||a.initKeyEvent;t.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(i,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(i,r.bubbles||!1,r.cancelable||!0)}t.defaults(a,s),e.dispatchEvent(a)},bind:function(t,e,i,n){return n=n||!1,t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i),s},unbind:function(t,e,i,n){return n=n||!1,t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i),s},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var i=t.className.split(/ +/);-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var i=t.className.split(/ +/),n=i.indexOf(e);-1!=n&&(i.splice(n,1),t.className=i.join(" "))}else t.className=void 0;return s},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var i=getComputedStyle(t);return e(i["border-left-width"])+e(i["border-right-width"])+e(i["padding-left"])+e(i["padding-right"])+e(i.width)},getHeight:function(t){var i=getComputedStyle(t);return e(i["border-top-width"])+e(i["border-bottom-width"])+e(i["padding-top"])+e(i["padding-bottom"])+e(i.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)do e.left+=t.offsetLeft,e.top+=t.offsetTop;while(t=t.offsetParent);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return s}(n.utils.common),n.controllers.OptionController=function(t,e,i){var n=function(t,r,s){n.superclass.call(this,t,r);var o=this;if(this.__select=document.createElement("select"),i.isArray(s)){var a={};i.each(s,function(t){a[t]=t}),s=a}i.each(s,function(t,e){var i=document.createElement("option");i.innerHTML=e,i.setAttribute("value",t),o.__select.appendChild(i)}),this.updateDisplay(),e.bind(this.__select,"change",function(){var t=this.options[this.selectedIndex].value;o.setValue(t)}),this.domElement.appendChild(this.__select)};return n.superclass=t,i.extend(n.prototype,t.prototype,{setValue:function(t){var e=n.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),n.superclass.prototype.updateDisplay.call(this)}}),n}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.NumberController=function(t,e){function i(t){return t=t.toString(),t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var n=function(t,r,s){n.superclass.call(this,t,r),s=s||{},this.__min=s.min,this.__max=s.max,this.__step=s.step,e.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=i(this.__impliedStep)};return n.superclass=t,e.extend(n.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),n}(n.controllers.Controller,n.utils.common),n.controllers.NumberControllerBox=function(t,e,i){function n(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}var r=function(t,n,s){function o(){var t=parseFloat(p.__input.value);i.isNaN(t)||p.setValue(t)}function a(){o(),p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}function l(t){e.bind(window,"mousemove",h),e.bind(window,"mouseup",u),c=t.clientY}function h(t){var e=c-t.clientY;p.setValue(p.getValue()+e*p.__impliedStep),c=t.clientY}function u(){e.unbind(window,"mousemove",h),e.unbind(window,"mouseup",u)}this.__truncationSuspended=!1,r.superclass.call(this,t,n,s);var c,p=this;this.__input=document.createElement("input"),
this.__input.setAttribute("type","text"),e.bind(this.__input,"change",o),e.bind(this.__input,"blur",a),e.bind(this.__input,"mousedown",l),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&(p.__truncationSuspended=!0,this.blur(),p.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,i.extend(r.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():n(this.getValue(),this.__precision),r.superclass.prototype.updateDisplay.call(this)}}),r}(n.controllers.NumberController,n.dom.dom,n.utils.common),n.controllers.NumberControllerSlider=function(t,e,i,n,r){function s(t,e,i,n,r){return n+(r-n)*((t-e)/(i-e))}var o=function(t,i,n,r,a){function l(t){e.bind(window,"mousemove",h),e.bind(window,"mouseup",u),h(t)}function h(t){t.preventDefault();var i=e.getOffset(c.__background),n=e.getWidth(c.__background);return c.setValue(s(t.clientX,i.left,i.left+n,c.__min,c.__max)),!1}function u(){e.unbind(window,"mousemove",h),e.unbind(window,"mouseup",u),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}o.superclass.call(this,t,i,{min:n,max:r,step:a});var c=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",l),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return o.superclass=t,o.useDefaultStyles=function(){i.inject(r)},n.extend(o.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",o.superclass.prototype.updateDisplay.call(this)}}),o}(n.controllers.NumberController,n.dom.dom,n.utils.css,n.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),n.controllers.FunctionController=function(t,e,i){var n=function(t,i,r){n.superclass.call(this,t,i);var s=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,e.bind(this.__button,"click",function(t){return t.preventDefault(),s.fire(),!1}),e.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return n.superclass=t,i.extend(n.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),n}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.BooleanController=function(t,e,i){var n=function(t,i){function r(){s.setValue(!s.__prev)}n.superclass.call(this,t,i);var s=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),e.bind(this.__checkbox,"change",r,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return n.superclass=t,i.extend(n.prototype,t.prototype,{setValue:function(t){var e=n.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,n.superclass.prototype.updateDisplay.call(this)}}),n}(n.controllers.Controller,n.dom.dom,n.utils.common),n.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var i=e.hex.toString(16);i.length<6;)i="0"+i;return"#"+i}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(n.utils.common),n.color.interpret=function(t,e){var i,n,r=function(){n=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(s,function(r){return r.litmus(t)?(e.each(r.conversions,function(r,s){return i=r.read(t),n===!1&&i!==!1?(n=i,i.conversionName=s,i.conversion=r,e.BREAK):void 0}),e.BREAK):void 0}),n},s=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(n.color.toString,n.utils.common),n.GUI=n.gui.GUI=function(t,e,i,n,r,s,o,a,l,h,u,c,p,d,f){function m(t,e,i,s){if(void 0===e[i])throw new Error("Object "+e+' has no property "'+i+'"');var o;if(s.color)o=new u(e,i);else{var a=[e,i].concat(s.factoryArgs);o=n.apply(t,a)}s.before instanceof r&&(s.before=s.before.__li),_(t,o),d.addClass(o.domElement,"c");var l=document.createElement("span");d.addClass(l,"property-name"),l.innerHTML=o.property;var h=document.createElement("div");h.appendChild(l),h.appendChild(o.domElement);var c=v(t,h,s.before);return d.addClass(c,I.CLASS_CONTROLLER_ROW),d.addClass(c,typeof o.getValue()),g(t,c,o),t.__controllers.push(o),o}function v(t,e,i){var n=document.createElement("li");return e&&n.appendChild(e),i?t.__ul.insertBefore(n,params.before):t.__ul.appendChild(n),t.onResize(),n}function g(t,e,i){if(i.__li=e,i.__gui=t,f.extend(i,{options:function(e){return arguments.length>1?(i.remove(),m(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[f.toArray(arguments)]})):f.isArray(e)||f.isObject(e)?(i.remove(),m(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(t){return i.__li.firstElementChild.firstElementChild.innerHTML=t,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof l){var n=new a(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});f.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=i[t],r=n[t];i[t]=n[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(i,t),r.apply(n,t)}}),d.addClass(e,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof a){var r=function(e){return f.isNumber(i.__min)&&f.isNumber(i.__max)?(i.remove(),m(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]})):e};i.min=f.compose(r,i.min),i.max=f.compose(r,i.max)}else i instanceof s?(d.bind(e,"click",function(){d.fakeEvent(i.__checkbox,"click")}),d.bind(i.__checkbox,"click",function(t){t.stopPropagation()})):i instanceof o?(d.bind(e,"click",function(){d.fakeEvent(i.__button,"click")}),d.bind(e,"mouseover",function(){d.addClass(i.__button,"hover")}),d.bind(e,"mouseout",function(){d.removeClass(i.__button,"hover")})):i instanceof u&&(d.addClass(e,"color"),i.updateDisplay=f.compose(function(t){return e.style.borderLeftColor=i.__color.toString(),t},i.updateDisplay),i.updateDisplay());i.setValue=f.compose(function(e){return t.getRoot().__preset_select&&i.isModified()&&C(t.getRoot(),!0),e},i.setValue)}function _(t,e){var i=t.getRoot(),n=i.__rememberedObjects.indexOf(e.object);if(-1!=n){var r=i.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(r={},i.__rememberedObjectIndecesToControllers[n]=r),r[e.property]=e,i.load&&i.load.remembered){var s,o=i.load.remembered;if(o[t.preset])s=o[t.preset];else{if(!o[k])return;s=o[k]}if(s[n]&&void 0!==s[n][e.property]){var a=s[n][e.property];e.initialValue=a,e.setValue(a)}}}}function y(t,e){return document.location.href+"."+e}function x(t){function e(){h.style.display=t.useLocalStorage?"block":"none"}var i=t.__save_row=document.createElement("li");d.addClass(t.domElement,"has-save"),t.__ul.insertBefore(i,t.__ul.firstChild),d.addClass(i,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",d.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",d.addClass(r,"button"),d.addClass(r,"save");var s=document.createElement("span");s.innerHTML="New",d.addClass(s,"button"),d.addClass(s,"save-as");var o=document.createElement("span");o.innerHTML="Revert",d.addClass(o,"button"),d.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?f.each(t.load.remembered,function(e,i){E(t,i,i==t.preset)}):E(t,k,!1),d.bind(a,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),i.appendChild(a),i.appendChild(n),i.appendChild(r),i.appendChild(s),i.appendChild(o),F){var l=document.getElementById("dg-save-locally"),h=document.getElementById("dg-local-explain");l.style.display="block";var u=document.getElementById("dg-local-storage");"true"===localStorage.getItem(y(t,"isLocal"))&&u.setAttribute("checked","checked"),e(),d.bind(u,"change",function(){t.useLocalStorage=!t.useLocalStorage,e()})}var c=document.getElementById("dg-new-constructor");d.bind(c,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||P.hide()}),d.bind(n,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),P.show(),c.focus(),c.select()}),d.bind(r,"click",function(){t.save()}),d.bind(s,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),d.bind(o,"click",function(){t.revert()})}function b(t){function e(e){return e.preventDefault(),r=e.clientX,d.addClass(t.__closeButton,I.CLASS_DRAG),d.bind(window,"mousemove",i),d.bind(window,"mouseup",n),!1}function i(e){return e.preventDefault(),t.width+=r-e.clientX,t.onResize(),r=e.clientX,!1}function n(){d.removeClass(t.__closeButton,I.CLASS_DRAG),d.unbind(window,"mousemove",i),d.unbind(window,"mouseup",n)}t.__resize_handle=document.createElement("div"),f.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var r;d.bind(t.__resize_handle,"mousedown",e),d.bind(t.__closeButton,"mousedown",e),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function w(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function T(t,e){var i={};return f.each(t.__rememberedObjects,function(n,r){var s={},o=t.__rememberedObjectIndecesToControllers[r];f.each(o,function(t,i){s[i]=e?t.initialValue:t.getValue()}),i[r]=s}),i}function E(t,e,i){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),i&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function S(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}function C(t,e){var i=t.__preset_select[t.__preset_select.selectedIndex];e?i.innerHTML=i.value+"*":i.innerHTML=i.value}function A(t){0!=t.length&&c(function(){A(t)}),f.each(t,function(t){t.updateDisplay()})}t.inject(i);var P,R,O="dg",M=72,D=20,k="Default",F=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),L=!0,N=!1,B=[],I=function(t){function e(){localStorage.setItem(y(n,"gui"),JSON.stringify(n.getSaveObject()))}function i(){var t=n.getRoot();t.width+=1,f.defer(function(){t.width-=1})}var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),d.addClass(this.domElement,O),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=f.defaults(t,{autoPlace:!0,width:I.DEFAULT_WIDTH}),t=f.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),f.isUndefined(t.load)?t.load={preset:k}:t.preset&&(t.load.preset=t.preset),f.isUndefined(t.parent)&&t.hideable&&B.push(this),t.resizable=f.isUndefined(t.parent)&&t.resizable,t.autoPlace&&f.isUndefined(t.scrollable)&&(t.scrollable=!0);var r=F&&"true"===localStorage.getItem(y(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:t.load.preset},set:function(e){n.parent?n.getRoot().preset=e:t.load.preset=e,S(this),n.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,w(n,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,o&&(o.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(e){t.closed=e,t.closed?d.addClass(n.__ul,I.CLASS_CLOSED):d.removeClass(n.__ul,I.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?I.TEXT_OPEN:I.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return r},set:function(t){F&&(r=t,t?d.bind(window,"unload",e):d.unbind(window,"unload",e),localStorage.setItem(y(n,"isLocal"),t))}}}),f.isUndefined(t.parent)){if(t.closed=!1,d.addClass(this.domElement,I.CLASS_MAIN),d.makeSelectable(this.domElement,!1),F&&r){n.useLocalStorage=!0;var s=localStorage.getItem(y(this,"gui"));s&&(t.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=I.TEXT_CLOSED,d.addClass(this.__closeButton,I.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),d.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===t.closed&&(t.closed=!0);var o=document.createTextNode(t.name);d.addClass(o,"controller-name");var a=v(n,o),l=function(t){return t.preventDefault(),n.closed=!n.closed,!1};d.addClass(this.__ul,I.CLASS_CLOSED),d.addClass(a,"title"),d.bind(a,"click",l),t.closed||(this.closed=!1)}t.autoPlace&&(f.isUndefined(t.parent)&&(L&&(R=document.createElement("div"),d.addClass(R,O),d.addClass(R,I.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(R),L=!1),R.appendChild(this.domElement),d.addClass(this.domElement,I.CLASS_AUTO_PLACE)),this.parent||w(n,t.width)),d.bind(window,"resize",function(){n.onResize()}),d.bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),d.bind(this.__ul,"transitionend",function(){n.onResize()}),d.bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),t.resizable&&b(this);n.getRoot();t.parent||i()};return I.toggleHide=function(){N=!N,f.each(B,function(t){t.domElement.style.zIndex=N?-999:999,t.domElement.style.opacity=N?0:1})},I.CLASS_AUTO_PLACE="a",I.CLASS_AUTO_PLACE_CONTAINER="ac",I.CLASS_MAIN="main",I.CLASS_CONTROLLER_ROW="cr",I.CLASS_TOO_TALL="taller-than-window",I.CLASS_CLOSED="closed",I.CLASS_CLOSE_BUTTON="close-button",I.CLASS_DRAG="drag",I.DEFAULT_WIDTH=245,I.TEXT_CLOSED="Close Controls",I.TEXT_OPEN="Open Controls",d.bind(window,"keydown",function(t){"text"===document.activeElement.type||t.which!==M&&t.keyCode!=M||I.toggleHide()},!1),f.extend(I.prototype,{add:function(t,e){return m(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return m(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;f.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&R.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var i=new I(e);this.__folders[t]=i;var n=v(this,i.domElement);return d.addClass(n,"folder"),i},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=d.getOffset(t.__ul).top,i=0;f.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(i+=d.getHeight(e))}),window.innerHeight-e-D<i?(d.addClass(t.domElement,I.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-D+"px"):(d.removeClass(t.domElement,I.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&f.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(f.isUndefined(P)&&(P=new p,P.domElement.innerHTML=e),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;f.each(Array.prototype.slice.call(arguments),function(e){0==t.__rememberedObjects.length&&x(t),-1==t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&w(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=T(this)),t.folders={},f.each(this.__folders,function(e,i){t.folders[i]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=T(this),C(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[k]=T(this,!0)),this.load.remembered[t]=T(this),this.preset=t,E(this,t,!0)},revert:function(t){f.each(this.__controllers,function(e){this.getRoot().load.remembered?_(t||this.getRoot(),e):e.setValue(e.initialValue)},this),f.each(this.__folders,function(t){t.revert(t)}),t||C(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&A(this.__listening)}}),I}(n.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",n.controllers.factory=function(t,e,i,n,r,s,o){return function(a,l){var h=a[l];return o.isArray(arguments[2])||o.isObject(arguments[2])?new t(a,l,arguments[2]):o.isNumber(h)?o.isNumber(arguments[2])&&o.isNumber(arguments[3])?new i(a,l,arguments[2],arguments[3]):new e(a,l,{min:arguments[2],max:arguments[3]}):o.isString(h)?new n(a,l):o.isFunction(h)?new r(a,l,""):o.isBoolean(h)?new s(a,l):void 0}}(n.controllers.OptionController,n.controllers.NumberControllerBox,n.controllers.NumberControllerSlider,n.controllers.StringController=function(t,e,i){var n=function(t,i){function r(){o.setValue(o.__input.value)}function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}n.superclass.call(this,t,i);var o=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"keyup",r),e.bind(this.__input,"change",r),e.bind(this.__input,"blur",s),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return n.superclass=t,i.extend(n.prototype,t.prototype,{updateDisplay:function(){return e.isActive(this.__input)||(this.__input.value=this.getValue()),n.superclass.prototype.updateDisplay.call(this)}}),n}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.FunctionController,n.controllers.BooleanController,n.utils.common),n.controllers.Controller,n.controllers.BooleanController,n.controllers.FunctionController,n.controllers.NumberControllerBox,n.controllers.NumberControllerSlider,n.controllers.OptionController,n.controllers.ColorController=function(t,e,i,n,r){function s(t,e,i,n){t.style.background="",r.each(l,function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+i+" 0%, "+n+" 100%); "})}function o(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(t,l){function h(t){d(t),e.bind(window,"mousemove",d),e.bind(window,"mouseup",u)}function u(){e.unbind(window,"mousemove",d),e.unbind(window,"mouseup",u)}function c(){var t=n(this.value);t!==!1?(m.__color.__state=t,m.setValue(m.__color.toOriginal())):this.value=m.__color.toString()}function p(){e.unbind(window,"mousemove",f),e.unbind(window,"mouseup",p)}function d(t){t.preventDefault();var i=e.getWidth(m.__saturation_field),n=e.getOffset(m.__saturation_field),r=(t.clientX-n.left+document.body.scrollLeft)/i,s=1-(t.clientY-n.top+document.body.scrollTop)/i;return s>1?s=1:0>s&&(s=0),r>1?r=1:0>r&&(r=0),m.__color.v=s,m.__color.s=r,m.setValue(m.__color.toOriginal()),!1}function f(t){t.preventDefault();var i=e.getHeight(m.__hue_field),n=e.getOffset(m.__hue_field),r=1-(t.clientY-n.top+document.body.scrollTop)/i;return r>1?r=1:0>r&&(r=0),m.__color.h=360*r,m.setValue(m.__color.toOriginal()),!1}a.superclass.call(this,t,l),this.__color=new i(this.getValue()),this.__temp=new i(0);var m=this;this.domElement=document.createElement("div"),e.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",e.bind(this.__input,"keydown",function(t){13===t.keyCode&&c.call(this)}),e.bind(this.__input,"blur",c),e.bind(this.__selector,"mousedown",function(t){e.addClass(this,"drag").bind(window,"mouseup",function(t){e.removeClass(m.__selector,"drag")})});var v=document.createElement("div");r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(v.style,{width:"100%",height:"100%",background:"none"}),s(v,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),o(this.__hue_field),r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),e.bind(this.__saturation_field,"mousedown",h),e.bind(this.__field_knob,"mousedown",h),e.bind(this.__hue_field,"mousedown",function(t){f(t),e.bind(window,"mousemove",f),e.bind(window,"mouseup",p)}),this.__saturation_field.appendChild(v),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=t,r.extend(a.prototype,t.prototype,{updateDisplay:function(){var t=n(this.getValue());if(t!==!1){var e=!1;r.each(i.COMPONENTS,function(i){return r.isUndefined(t[i])||r.isUndefined(this.__color.__state[i])||t[i]===this.__color.__state[i]?void 0:(e=!0,{})},this),e&&r.extend(this.__color.__state,t)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var o=this.__color.v<.5||this.__color.s>.5?255:0,a=255-o;
r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+o+","+o+","+o+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+o+","+o+","+o+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return a}(n.controllers.Controller,n.dom.dom,n.color.Color=function(t,e,i,n){function r(t,e,i){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(o(this,e,i),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(o(this,e,i),this.__state.space="RGB"),this.__state[e]=t}})}function s(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(a(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[e]=t}})}function o(t,i,r){if("HEX"===t.__state.space)t.__state[i]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";n.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var i=e.rgb_to_hsv(t.r,t.g,t.b);n.extend(t.__state,{s:i.s,v:i.v}),n.isNaN(i.h)?n.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=i.h}var l=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(l.prototype,{toString:function(){return i(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),s(l.prototype,"h"),s(l.prototype,"s"),s(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),l}(n.color.interpret,n.color.math=function(){var t;return{hsv_to_rgb:function(t,e,i){var n=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),s=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),l=[[i,a,s],[o,i,s],[s,i,a],[s,o,i],[a,s,i],[i,s,o]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,i){var n,r,s=Math.min(t,e,i),o=Math.max(t,e,i),a=o-s;return 0==o?{h:NaN,s:0,v:0}:(r=a/o,n=t==o?(e-i)/a:e==o?2+(i-t)/a:4+(t-e)/a,n/=6,0>n&&(n+=1),{h:360*n,s:r,v:o/255})},rgb_to_hex:function(t,e,i){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,i)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,i,n){return n<<(t=8*i)|e&~(255<<t)}}}(),n.color.toString,n.utils.common),n.color.interpret,n.utils.common),n.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),n.dom.CenteredDiv=function(t,e){var i=function(){this.backgroundElement=document.createElement("div"),e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var i=this;t.bind(this.backgroundElement,"click",function(){i.hide()})};return i.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),e.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},i.prototype.hide=function(){var e=this,i=function(){e.domElement.style.display="none",e.backgroundElement.style.display="none",t.unbind(e.domElement,"webkitTransitionEnd",i),t.unbind(e.domElement,"transitionend",i),t.unbind(e.domElement,"oTransitionEnd",i)};t.bind(this.domElement,"webkitTransitionEnd",i),t.bind(this.domElement,"transitionend",i),t.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},i.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},i}(n.dom.dom,n.utils.common),n.dom.dom,n.utils.common)},{}],62:[function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n=e&&e.length,s=n?e[0]*i:t.length,a=r(t,0,s,i,!0),l=[];if(!a)return l;var h,u,p,d,f,m,v;if(n&&(a=c(t,e,a,i)),t.length>80*i){h=p=t[0],u=d=t[1];for(var g=i;s>g;g+=i)f=t[g],m=t[g+1],h>f&&(h=f),u>m&&(u=m),f>p&&(p=f),m>d&&(d=m);v=Math.max(p-h,d-u)}return o(a,l,i,h,u,v),l}function r(t,e,i,n,r){var s,o,a,l=0;for(s=e,o=i-n;i>s;s+=n)l+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;if(r===l>0)for(s=e;i>s;s+=n)a=P(s,t[s],t[s+1],a);else for(s=i-n;s>=e;s-=n)a=P(s,t[s],t[s+1],a);return a}function s(t,e){if(!t)return t;e||(e=t);var i,n=t;do if(i=!1,n.steiner||!w(n,n.next)&&0!==b(n.prev,n,n.next))n=n.next;else{if(R(n),n=e=n.prev,n===n.next)return null;i=!0}while(i||n!==e);return e}function o(t,e,i,n,r,c,p){if(t){!p&&c&&m(t,n,r,c);for(var d,f,v=t;t.prev!==t.next;)if(d=t.prev,f=t.next,c?l(t,n,r,c):a(t))e.push(d.i/i),e.push(t.i/i),e.push(f.i/i),R(t),t=f.next,v=f.next;else if(t=f,t===v){p?1===p?(t=h(t,e,i),o(t,e,i,n,r,c,2)):2===p&&u(t,e,i,n,r,c):o(s(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(b(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&b(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,i,n){var r=t.prev,s=t,o=t.next;if(b(r,s,o)>=0)return!1;for(var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,h=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,c=g(a,l,e,i,n),p=g(h,u,e,i,n),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&y(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&y(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function h(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;T(r,n,n.next,s)&&S(r,s)&&S(s,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(s.i/i),R(n),R(n.next),n=t=s),n=n.next}while(n!==t);return n}function u(t,e,i,n,r,a){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&x(l,h)){var u=A(l,h);return l=s(l,l.next),u=s(u,u.next),o(l,e,i,n,r,a),void o(u,e,i,n,r,a)}h=h.next}l=l.next}while(l!==t)}function c(t,e,i,n){var o,a,l,h,u,c=[];for(o=0,a=e.length;a>o;o++)l=e[o]*n,h=a-1>o?e[o+1]*n:t.length,u=r(t,l,h,n,!1),u===u.next&&(u.steiner=!0),c.push(_(u));for(c.sort(p),o=0;o<c.length;o++)d(c[o],i),i=s(i,i.next);return i}function p(t,e){return t.x-e.x}function d(t,e){if(e=f(t,e)){var i=A(e,t);s(i,i.next)}}function f(t,e){var i,n=e,r=t.x,s=t.y,o=-(1/0);do{if(s<=n.y&&s>=n.next.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);r>=a&&a>o&&(o=a,i=n.x<n.next.x?n:n.next)}n=n.next}while(n!==e);if(!i)return null;var l,h=i,u=1/0;for(n=i.next;n!==h;)r>=n.x&&n.x>=i.x&&y(s<i.y?r:o,s,i.x,i.y,s<i.y?o:r,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(r-n.x),(u>l||l===u&&n.x>i.x)&&S(n,t)&&(i=n,u=l)),n=n.next;return i}function m(t,e,i,n){var r=t;do null===r.z&&(r.z=g(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,v(r)}function v(t){var e,i,n,r,s,o,a,l,h=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;h>e&&(a++,n=n.nextZ,n);e++);for(l=h;a>0||l>0&&n;)0===a?(r=n,n=n.nextZ,l--):0!==l&&n?i.z<=n.z?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--):(r=i,i=i.nextZ,a--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,h*=2}while(o>1);return t}function g(t,e,i,n,r){return t=32767*(t-i)/r,e=32767*(e-n)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function _(t){var e=t,i=t;do e.x<i.x&&(i=e),e=e.next;while(e!==t);return i}function y(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function x(t,e){return w(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&C(t,e)}function b(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,i,n){return b(t,e,i)>0!=b(t,e,n)>0&&b(i,n,t)>0!=b(i,n,e)>0}function E(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&T(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function S(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function C(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do i.y>s!=i.next.y>s&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==t);return n}function A(t,e){var i=new O(t.i,t.x,t.y),n=new O(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function P(t,e,i,n){var r=new O(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function R(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=n},{}],63:[function(t,e,i){"use strict";function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(){}var s="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.listeners=function(t,e){var i=s?s+t:t,n=this._events&&this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);o>r;r++)a[r]=n[r].fn;return a},r.prototype.emit=function(t,e,i,n,r,o){var a=s?s+t:t;if(!this._events||!this._events[a])return!1;var l,h,u=this._events[a],c=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,r),!0;case 6:return u.fn.call(u.context,e,i,n,r,o),!0}for(h=1,l=new Array(c-1);c>h;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var p,d=u.length;for(h=0;d>h;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,i);break;default:if(!l)for(p=1,l=new Array(c-1);c>p;p++)l[p-1]=arguments[p];u[h].fn.apply(u[h].context,l)}}return!0},r.prototype.on=function(t,e,i){var r=new n(e,i||this),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.removeListener=function(t,e,i,n){var r=s?s+t:t;if(!this._events||!this._events[r])return this;var o=this._events[r],a=[];if(e)if(o.fn)(o.fn!==e||n&&!o.once||i&&o.context!==i)&&a.push(o);else for(var l=0,h=o.length;h>l;l++)(o[l].fn!==e||n&&!o[l].once||i&&o[l].context!==i)&&a.push(o[l]);return a.length?this._events[r]=1===a.length?a[0]:a:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[s?s+t:t]:this._events=s?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=s,"undefined"!=typeof e&&(e.exports=r)},{}],64:[function(t,e,i){(function(t){var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},s=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=s.prototype.render},o=1e-10,a=i._internals,l=a.isSelector,h=a.isArray,u=s.prototype=i.to({},.1,{}),c=[];s.version="1.18.0",u.constructor=s,u.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(t,e){var n,r=this.ratio,s=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._time;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._time>0||s){this._initted=!1,this._init();for(var a,l=1/(1-r),h=this._firstPT;h;)a=h.s+h.c,h.c*=l,h.s=a-h.c,h=h._next}return this},u.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,s,l,h,u,c,p,d=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._totalTime,v=this._cycle,g=this._duration,_=this._rawPrevTime;if(t>=d?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>_||_===o)&&_!==t&&(i=!0,_>o&&(r="onReverseComplete")),this._rawPrevTime=p=!e||t||_===t?t:o)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&_>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(_>=0&&(i=!0),this._rawPrevTime=p=!e||t||_===t?t:o)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=g+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType?(h=this._time/g,u=this._easeType,c=this._easePower,(1===u||3===u&&h>=.5)&&(h=1-h),3===u&&(h*=2),1===c?h*=h:2===c?h*=h*h:3===c?h*=h*h*h:4===c&&(h*=h*h*h*h),1===u?this.ratio=1-h:2===u?this.ratio=h:this._time/g<.5?this.ratio=h/2:this.ratio=1-h/2):this.ratio=this._ease.getRatio(this._time/g)),f===this._time&&!i&&v===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=f,this._totalTime=m,this._rawPrevTime=_,this._cycle=v,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/g):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==f&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||n)&&this._callback("onUpdate")),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===g&&this._rawPrevTime===o&&p!==o&&(this._rawPrevTime=0))},s.to=function(t,e,i){return new s(t,e,i)},s.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(t,e,i)},s.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(t,e,n)},s.staggerTo=s.allTo=function(t,e,o,a,u,p,d){a=a||0;var f,m,v,g,_=o.delay||0,y=[],x=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),u.apply(d||o.callbackScope||this,p||c)},b=o.cycle,w=o.startAt&&o.startAt.cycle;for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t))),t=t||[],0>a&&(t=n(t),t.reverse(),a*=-1),f=t.length-1,v=0;f>=v;v++){m={};for(g in o)m[g]=o[g];if(b&&r(m,t,v),w){w=m.startAt={};for(g in o.startAt)w[g]=o.startAt[g];r(m.startAt,t,v)}m.delay=_,v===f&&u&&(m.onComplete=x),y[v]=new s(t[v],e,m),_+=a}return y},s.staggerFrom=s.allFrom=function(t,e,i,n,r,o,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(t,e,i,n,r,o,a)},s.staggerFromTo=s.allFromTo=function(t,e,i,n,r,o,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(t,e,n,r,o,a,l)},s.delayedCall=function(t,e,i,n,r){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var p=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),n=n.concat(p(s,e)),r=n.length),s=s._next;return n},d=s.getAllTweens=function(e){return p(t._rootTimeline,e).concat(p(t._rootFramesTimeline,e))};s.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,o,a,l=d(0!=r),h=l.length,u=i&&n&&r;for(a=0;h>a;a++)o=l[a],(u||o instanceof e||(s=o.target===o.vars.onComplete)&&n||i&&!s)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var r,o,u,c,p,d=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t)),h(t))for(c=t.length;--c>-1;)s.killChildTweensOf(t[c],e);else{r=[];for(u in d)for(o=d[u].target.parentNode;o;)o===t&&(r=r.concat(d[u].tweens)),o=o.parentNode;for(p=r.length,c=0;p>c;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var f=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,o,a=d(r),l=i&&n&&r,h=a.length;--h>-1;)o=a[h],(l||o instanceof e||(s=o.target===o.vars.onComplete)&&n||i&&!s)&&o.paused(t)};return s.pauseAll=function(t,e,i){f(!0,t,e,i)},s.resumeAll=function(t,e,i){f(!1,t,e,i)},s.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||o,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},u.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),i._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},s=1e-10,o=n._internals,a=r._internals={},l=o.isSelector,h=o.isArray,u=o.lazyTweens,c=o.lazyRender,p=i._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},m=a.pauseCallback=function(){},v=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=r.prototype=new e;return r.version="1.18.0",g.constructor=r,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,i,r){var s=i.repeat&&p.TweenMax||n;return e?this.add(new s(t,e,i),r):this.set(t,i,r)},g.from=function(t,e,i,r){return this.add((i.repeat&&p.TweenMax||n).from(t,e,i),r)},g.fromTo=function(t,e,i,r,s){var o=r.repeat&&p.TweenMax||n;return e?this.add(o.fromTo(t,e,i,r),s):this.set(t,r,s)},g.staggerTo=function(t,e,i,s,o,a,h,u){var c,p,m=new r({onComplete:a,onCompleteParams:h,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),g=i.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],l(t)&&(t=v(t)),s=s||0,0>s&&(t=v(t),t.reverse(),s*=-1),p=0;p<t.length;p++)c=d(i),c.startAt&&(c.startAt=d(c.startAt),c.startAt.cycle&&f(c.startAt,t,p)),g&&f(c,t,p),m.to(t[p],e,c,p*s);return this.add(m,o)},g.staggerFrom=function(t,e,i,n,r,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,o,a)},g.staggerFromTo=function(t,e,i,n,r,s,o,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,o,a,l)},g.call=function(t,e,i,r){return this.add(n.delayedCall(0,t,e,i),r)},g.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new n(t,0,e),i)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,s,o=new r(t),a=o._timeline;for(null==e&&(e=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,i=a._first;i;)s=i._next,e&&i instanceof n&&i.target===i.vars.onComplete||o.add(i,i._startTime-i._delay),i=s;return a.add(o,0),o},g.add=function(i,s,o,a){var l,u,c,p,d,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&h(i)){for(o=o||"normal",a=a||0,l=s,u=i.length,c=0;u>c;c++)h(p=i[c])&&(p=new r({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===o?l=p._startTime+p.totalDuration()/p._timeScale:"start"===o&&(p._startTime-=p.delay())),l+=a;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,s);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(e.prototype.add.call(this,i,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,f=d.rawTime()>i._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&h(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,i,r){var s=n.delayedCall(0,m,i,r||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,r){var s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,o,a,l,h,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,f=this._startTime,m=this._timeScale,v=this._paused;if(t>=p)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===s)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>s&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,t=p+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||l||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=d)for(n=this._first;n&&(o=n._next,!this._paused||v);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||v);){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(u.length&&c(),this._callback("onUpdate"))),a&&(this._gc||(f===this._startTime||m!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(r&&(u.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,i,r){r=r||-9999999999;for(var s=[],o=this._first,a=0;o;)o._startTime<r||(o instanceof n?e!==!1&&(s[a++]=o):(i!==!1&&(s[a++]=o),t!==!1&&(s=s.concat(o.getChildren(!0,e,i)),a=s.length))),o=o._next;return s},g.getTweensOf=function(t,e){var i,r,s=this._gc,o=[],a=0;for(s&&this._enabled(!0,!0),i=n.getTweensOf(t),r=i.length;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(o[a++]=i[r]);return s&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);
return this._forcingPlayhead=!1,r},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},g.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),i._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=e._internals,o=s.lazyTweens,a=s.lazyRender,l=new i(null,null,1,0),h=n.prototype=new t;return h.constructor=n,h.kill()._gc=!1,n.version="1.18.0",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,i){i=i||{};var n,r,s,o={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(t),n=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,s=new e(this,n,o),o.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&n===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),i.onStart&&s._callback("onStart")},s},h.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,l,h,u,c,p,d=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,m=this._time,v=this._totalTime,g=this._startTime,_=this._timeScale,y=this._rawPrevTime,x=this._paused,b=this._cycle;if(t>=d)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,h="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>y||y===r)&&y!==t&&this._first&&(u=!0,y>r&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===f&&y!==r&&(y>0||0>t&&y>=0)&&!this._locked)&&(h="onReverseComplete",s=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=s=!0,h="onReverseComplete"):y>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(u=!0)}else if(0===f&&0>y&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=f+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=m)for(n=this._first;n&&n._startTime<=t&&!p;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(p=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!p;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(p=n),n=n._prev;p&&(this._time=t=p._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==b&&!this._locked){var w=this._yoyo&&0!==(1&b),T=w===(this._yoyo&&0!==(1&this._cycle)),E=this._totalTime,S=this._cycle,C=this._rawPrevTime,A=this._time;if(this._totalTime=b*f,this._cycle<b?w=!w:this._totalTime+=f,this._time=m,this._rawPrevTime=0===f?y-1e-4:y,this._cycle=b,this._locked=!0,m=w?0:f,this.render(m,e,0===f),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),T&&(m=w?f+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=A,this._totalTime=E,this._cycle=S,this._rawPrevTime=C}if(!(this._time!==m&&this._first||i||u||p))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=m)for(n=this._first;n&&(l=n._next,!this._paused||x);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(p===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=l;else for(n=this._last;n&&(l=n._prev,!this._paused||x);){if(n._active||n._startTime<=m&&!n._paused&&!n._gc){if(p===n){for(p=n._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(t-p._startTime)*p._timeScale:(t-p._startTime)*p._timeScale,e,i),p=p._prev;p=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=l}this._onUpdate&&(e||(o.length&&a(),this._callback("onUpdate"))),h&&(this._locked||this._gc||(g===this._startTime||_!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(s&&(o.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))},h.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],o=this.getChildren(t,e,i),a=0,l=o.length;for(n=0;l>n;n++)r=o[n],r.isActive()&&(s[a++]=r);return s},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},h.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],n=[],r=[],s={},o=i._gsDefine.globals,a=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},l=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(t,e,i,n){var r={a:t},s={},o={},a={c:n},l=(t+e)/2,h=(e+i)/2,u=(i+n)/2,c=(l+h)/2,p=(h+u)/2,d=(p-c)/8;return r.b=l+(t-l)/4,s.b=c+d,r.c=s.a=(r.b+s.b)/2,s.c=o.a=(c+p)/2,o.b=p-d,a.b=u+(n-u)/4,o.c=a.a=(o.b+a.b)/2,[r,s,o,a]},u=function(t,i,s,o,a){var l,u,c,p,d,f,m,v,g,_,y,x,b,w=t.length-1,T=0,E=t[0].a;for(l=0;w>l;l++)d=t[T],u=d.a,c=d.d,p=t[T+1].d,a?(y=e[l],x=n[l],b=(x+y)*i*.25/(o?.5:r[l]||.5),f=c-(c-u)*(o?.5*i:0!==y?b/y:0),m=c+(p-c)*(o?.5*i:0!==x?b/x:0),v=c-(f+((m-f)*(3*y/(y+x)+.5)/4||0))):(f=c-(c-u)*i*.5,m=c+(p-c)*i*.5,v=c-(f+m)/2),f+=v,m+=v,d.c=g=f,0!==l?d.b=E:d.b=E=d.a+.6*(d.c-d.a),d.da=c-u,d.ca=g-u,d.ba=E-u,s?(_=h(u,E,g,c),t.splice(T,1,_[0],_[1],_[2],_[3]),T+=4):T++,E=m;d=t[T],d.b=E,d.c=E+.4*(d.d-E),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=E-d.a,s&&(_=h(d.a,E,d.c,d.d),t.splice(T,1,_[0],_[1],_[2],_[3]))},c=function(t,i,r,s){var o,l,h,u,c,p,d=[];if(s)for(t=[s].concat(t),l=t.length;--l>-1;)"string"==typeof(p=t[l][i])&&"="===p.charAt(1)&&(t[l][i]=s[i]+Number(p.charAt(0)+p.substr(2)));if(o=t.length-2,0>o)return d[0]=new a(t[0][i],0,0,t[-1>o?0:1][i]),d;for(l=0;o>l;l++)h=t[l][i],u=t[l+1][i],d[l]=new a(h,0,0,u),r&&(c=t[l+2][i],e[l]=(e[l]||0)+(u-h)*(u-h),n[l]=(n[l]||0)+(c-u)*(c-u));return d[l]=new a(t[l][i],0,0,t[l+1][i]),d},p=function(t,i,o,a,h,p){var d,f,m,v,g,_,y,x,b={},w=[],T=p||t[0];h="string"==typeof h?","+h+",":l,null==i&&(i=1);for(f in t[0])w.push(f);if(t.length>1){for(x=t[t.length-1],y=!0,d=w.length;--d>-1;)if(f=w[d],Math.abs(T[f]-x[f])>.05){y=!1;break}y&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=n.length=r.length=0,d=w.length;--d>-1;)f=w[d],s[f]=-1!==h.indexOf(","+f+","),b[f]=c(t,f,s[f],p);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),n[d]=Math.sqrt(n[d]);if(!a){for(d=w.length;--d>-1;)if(s[f])for(m=b[w[d]],_=m.length-1,v=0;_>v;v++)g=m[v+1].da/n[v]+m[v].da/e[v],r[v]=(r[v]||0)+g*g;for(d=r.length;--d>-1;)r[d]=Math.sqrt(r[d])}for(d=w.length,v=o?4:1;--d>-1;)f=w[d],m=b[f],u(m,i,o,a,s[f]),y&&(m.splice(0,v),m.splice(m.length-v,v));return b},d=function(t,e,i){e=e||"soft";var n,r,s,o,l,h,u,c,p,d,f,m={},v="cubic"===e?3:2,g="soft"===e,_=[];if(g&&i&&(t=[i].concat(t)),null==t||t.length<v+1)throw"invalid Bezier data";for(p in t[0])_.push(p);for(h=_.length;--h>-1;){for(p=_[h],m[p]=l=[],d=0,c=t.length,u=0;c>u;u++)n=null==i?t[u][p]:"string"==typeof(f=t[u][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),g&&u>1&&c-1>u&&(l[d++]=(n+l[d-2])/2),l[d++]=n;for(c=d-v+1,d=0,u=0;c>u;u+=v)n=l[u],r=l[u+1],s=l[u+2],o=2===v?0:l[u+3],l[d++]=f=3===v?new a(n,r,s,o):new a(n,(2*r+n)/3,(2*r+s)/3,s);l.length=d}return m},f=function(t,e,i){for(var n,r,s,o,a,l,h,u,c,p,d,f=1/i,m=t.length;--m>-1;)for(p=t[m],s=p.a,o=p.d-s,a=p.c-s,l=p.b-s,n=r=0,u=1;i>=u;u++)h=f*u,c=1-h,n=r-(r=(h*h*o+3*c*(h*a+c*l))*h),d=m*i+u-1,e[d]=(e[d]||0)+n*n},m=function(t,e){e=e>>0||6;var i,n,r,s,o=[],a=[],l=0,h=0,u=e-1,c=[],p=[];for(i in t)f(t[i],o,e);for(r=o.length,n=0;r>n;n++)l+=Math.sqrt(o[n]),s=n%e,p[s]=l,s===u&&(h+=l,s=n/e>>0,c[s]=p,a[s]=h,l=0,p=[]);return{length:h,lengths:a,segments:c}},v=i._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,o,a,l=e.values||[],h={},u=l[0],c=e.autoRotate||i.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(n in u)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],h[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||h[n]!==l[0][n]&&(a=h);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):d(l,e.type,h),this._segCount=this._beziers[n].length,this._timeRes){var f=m(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),s=c.length;--s>-1;){for(o=0;3>o;o++)n=c[s][o],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=c[s][2],this._initialRotations[s]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,o,a,l,h,u,c,p=this._segCount,d=this._func,f=this._target,m=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&p-1>r){for(h=p-1;h>r&&(this._l2=u[++r])<=e;);this._l1=u[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=u[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=u[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(h=c.length-1;h>r&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?p-1:p*e>>0,a=(e-i*(1/p))*p;for(n=1-a,r=this._props.length;--r>-1;)s=this._props[r],o=this._beziers[s][i],l=(a*a*o.da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._round[s]&&(l=Math.round(l)),d[s]?f[s](l):f[s]=l;if(this._autoRotate){var v,g,_,y,x,b,w,T=this._autoRotate;for(r=T.length;--r>-1;)s=T[r][2],b=T[r][3]||0,w=T[r][4]===!0?1:t,o=this._beziers[T[r][0]],v=this._beziers[T[r][1]],o&&v&&(o=o[i],v=v[i],g=o.a+(o.b-o.a)*a,y=o.b+(o.c-o.b)*a,g+=(y-g)*a,y+=(o.c+(o.d-o.c)*a-y)*a,_=v.a+(v.b-v.a)*a,x=v.b+(v.c-v.b)*a,_+=(x-_)*a,x+=(v.c+(v.d-v.c)*a-x)*a,l=m?Math.atan2(x-_,y-g)*w+b:this._initialRotations[r],d[s]?f[s](l):f[s]=l)}}}),g=v.prototype;v.bezierThrough=p,v.cubicToQuadratic=h,v._autoCSS=!0,v.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},v._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,o,a,l){e instanceof Array&&(e={values:e}),l=new v;var h,u,c,p=e.values,d=p.length-1,f=[],m={};if(0>d)return a;for(h=0;d>=h;h++)c=i(t,p[h],o,a,l,d!==h),f[h]=c.end;for(u in e)m[u]=e[u];return m.values=f,a=new r(t,"bezier",0,0,c.pt,2),a.data=c,a.plugin=l,a.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(h=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=c.end.left?[["left","top","rotation",h,!1]]:null!=c.end.x?[["x","y","rotation",h,!1]]:!1),m.autoRotate&&(o._transform||o._enableTransforms(!1),c.autoRotate=o._target._gsTransform),l._onInitTween(c.proxy,m,o._tween),a}})}},g._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},g._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,r,s,o,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=i._gsDefine.globals,h={},u=a.prototype=new t("css");u.constructor=a,a.version="1.18.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,u="px",a.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var c,p,d,f,m,v,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,C=/([A-Z])/g,A=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,k=/,(?=[^\)]*(?:\(|$))/gi,F=Math.PI/180,L=180/Math.PI,N={},B=document,I=function(t){return B.createElementNS?B.createElementNS("http://www.w3.org/1999/xhtml",t):B.createElement(t)},j=I("div"),$=I("img"),U=a._internals={_specialProps:h},z=navigator.userAgent,X=function(){var t=z.indexOf("Android"),e=I("a");return d=-1!==z.indexOf("Safari")&&-1===z.indexOf("Chrome")&&(-1===t||Number(z.substr(t+8,1))>3),m=d&&Number(z.substr(z.indexOf("Version/")+8,1))<6,f=-1!==z.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(z)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(z))&&(v=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),H=function(t){return w.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(t){window.console&&console.log(t)},Y="",G="",V=function(t,e){e=e||j;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(G=3===n?"ms":i[n],Y="-"+G.toLowerCase()+"-",G+t):null},q=B.defaultView?B.defaultView.getComputedStyle:function(){},K=a.getStyle=function(t,e,i,n,r){var s;return X||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||q(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):H(t)},Z=U.convertToPixels=function(t,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,l,h,u=O.test(i),c=t,p=j.style,d=0>n;if(d&&(n=-n),"%"===r&&-1!==i.indexOf("border"))o=n/100*(u?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+K(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)p[u?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||B.body,l=c._gsCache,h=e.ticker.frame,l&&u&&l.time===h)return l.width*n/100;p[u?"width":"height"]=n+r}c.appendChild(j),o=parseFloat(j[u?"offsetWidth":"offsetHeight"]),c.removeChild(j),u&&"%"===r&&a.cacheWidths!==!1&&(l=c._gsCache=c._gsCache||{},l.time=h,l.width=o/n*100),0!==o||s||(o=Z(t,i,n,r,!0))}return d?-o:o},J=U.calculateOffset=function(t,e,i){if("absolute"!==K(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=K(t,"margin"+n,i);return t["offset"+n]-(Z(t,e,parseFloat(r),r.replace(b,""))||0)},Q=function(t,e){var i,n,r,s={};if(e=e||q(t,null))if(i=e.length)for(;--i>-1;)r=e[i],(-1===r.indexOf("-transform")||Ct===r)&&(s[r.replace(A,R)]=e.getPropertyValue(r));else for(i in e)(-1===i.indexOf("Transform")||St===i)&&(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(A,R)]=e[i]);return X||(s.opacity=H(t)),n=It(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Pt&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},tt=function(t,e,i,n,r){var s,o,a,l={},h=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(x,"")?s:0:J(t,o),void 0!==h[o]&&(a=new mt(h,o,h[o],a)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:a}},et={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],nt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=et[e],s=r.length;for(i=i||q(t,null);--s>-1;)n-=parseFloat(K(t,"padding"+r[s],i,!0))||0,n-=parseFloat(K(t,"border"+r[s]+"Width",i,!0))||0;return n},rt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="center"===n?"50%":"0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(n.replace(x,"")),e.oy=parseFloat(r.replace(x,"")),e.v=t),e||t},st=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ot=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},at=function(t,e,i,n){var r,s,o,a,l,h=1e-6;return null==t?a=e:"number"==typeof t?a=t:(r=360,s=t.split("_"),l="="===t.charAt(1),o=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:L)-(l?0:e),s.length&&(n&&(n[i]=e+o),-1!==t.indexOf("short")&&(o%=r,o!==o%(r/2)&&(o=0>o?o+r:o-r)),-1!==t.indexOf("_cw")&&0>o?o=(o+9999999999*r)%r-(o/r|0)*r:-1!==t.indexOf("ccw")&&o>0&&(o=(o-9999999999*r)%r-(o/r|0)*r)),a=e+o),h>a&&a>-h&&(a=0),a},lt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},ut=a.parseColor=function(t,e){var i,n,r,s,o,a,l,h,u,c,p;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),lt[t])i=lt[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+n+n+r+r+s+s),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=p=t.match(g),e){if(-1!==t.indexOf("="))return t.match(_)}else o=Number(i[0])%360/360,a=Number(i[1])/100,l=Number(i[2])/100,r=.5>=l?l*(a+1):l+a-l*a,n=2*l-r,i.length>3&&(i[3]=Number(t[3])),i[0]=ht(o+1/3,n,r),i[1]=ht(o,n,r),i[2]=ht(o-1/3,n,r);else i=t.match(g)||lt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=lt.black;return e&&!p&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,h=Math.max(n,r,s),u=Math.min(n,r,s),l=(h+u)/2,h===u?o=a=0:(c=h-u,a=l>.5?c/(2-h-u):c/(h+u),o=h===n?(r-s)/c+(s>r?6:0):h===r?(s-n)/c+2:(n-r)/c+4,o*=60),i[0]=o+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},ct=function(t,e){var i,n,r,s=t.match(pt)||[],o=0,a=s.length?"":t;for(i=0;i<s.length;i++)n=s[i],r=t.substr(o,t.indexOf(n,o)-o),o+=r.length+n.length,n=ut(n,e),3===n.length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a},pt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(u in lt)pt+="|"+u+"\\b";pt=new RegExp(pt+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];pt.lastIndex=0,pt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=ct(t[0],e),t[1]=ct(t[1],e))},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var dt=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(pt)||[""])[0]:"",o=t.split(s).join("").match(y)||[],a=t.substr(0,t.indexOf(o[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",u=o.length,c=u>0?o[0].replace(g,""):"";return u?r=e?function(t){var e,p,d,f;if("number"==typeof t)t+=c;else if(n&&k.test(t)){for(f=t.replace(k,"|").split("|"),d=0;d<f.length;d++)f[d]=r(f[d]);return f.join(",")}if(e=(t.match(pt)||[s])[0],p=t.split(e).join("").match(y)||[],d=p.length,u>d--)for(;++d<u;)p[d]=i?p[(d-1)/2|0]:o[d];return a+p.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,p;if("number"==typeof t)t+=c;else if(n&&k.test(t)){for(s=t.replace(k,"|").split("|"),p=0;p<s.length;p++)s[p]=r(s[p]);return s.join(",")}if(e=t.match(y)||[],p=e.length,u>p--)for(;++p<u;)e[p]=i?e[(p-1)/2|0]:o[p];return a+e.join(h)+l}:function(t){return t}},ft=function(t){return t=t.split(","),function(e,i,n,r,s,o,a){var l,h=(i+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return r.parse(e,a,s,o)}},mt=(U._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s=this.data,o=s.proxy,a=s.firstMPT,l=1e-6;a;)e=o[a.v],a.r?e=Math.round(e):l>e&&e>-l&&(e=0),a.t[a.p]=e,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===t)for(a=s.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),vt=(U._parseToProxy=function(t,e,i,n,r,s){var o,a,l,h,u,c=n,p={},d={},f=i._transform,m=N;for(i._transform=null,N=e,n=u=i.parse(t,e,n,r),N=m,s&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(a=n.p,d[a]=n.s+n.c,p[a]=n.s,s||(h=new mt(n,"s",a,h,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,a=n.p+"_"+l,d[a]=n.data[l],p[a]=n[l],s||(h=new mt(n,l,a,h,n.rxp[l]));n=n._next}return{proxy:p,end:d,firstMPT:h,pt:u}},U.CSSPropTween=function(t,e,i,r,s,a,l,h,u,c,p){this.t=t,this.p=e,this.s=i,this.c=r,this.n=l||e,t instanceof vt||o.push(this.n),this.r=h,this.type=a||0,u&&(this.pr=u,n=!0),this.b=void 0===c?i:c,this.e=void 0===p?i+r:p,s&&(this._next=s,s._prev=this)}),gt=function(t,e,i,n,r,s){var o=new vt(t,e,i,n-i,r,-1,s);return o.b=i,o.e=o.xs0=n,o},_t=a.parseComplex=function(t,e,i,n,r,s,o,a,l,h){i=i||s||"",o=new vt(t,e,0,0,o,h?2:1,null,!1,a,i,n),n+="";var u,p,d,f,m,v,y,x,b,w,T,E,S,C=i.split(", ").join(",").split(" "),A=n.split(", ").join(",").split(" "),P=C.length,R=c!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(C=C.join(" ").replace(k,", ").split(" "),A=A.join(" ").replace(k,", ").split(" "),P=C.length),P!==A.length&&(C=(s||"").split(" "),P=C.length),o.plugin=l,o.setRatio=h,pt.lastIndex=0,u=0;P>u;u++)if(f=C[u],m=A[u],x=parseFloat(f),x||0===x)o.appendXtra("",x,st(m,x),m.replace(_,""),R&&-1!==m.indexOf("px"),!0);else if(r&&pt.test(f))E=","===m.charAt(m.length-1)?"),":")",S=-1!==m.indexOf("hsl")&&X,f=ut(f,S),m=ut(m,S),b=f.length+m.length>6,b&&!X&&0===m[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(A[u]).join("transparent")):(X||(b=!1),S?o.appendXtra(b?"hsla(":"hsl(",f[0],st(m[0],f[0]),",",!1,!0).appendXtra("",f[1],st(m[1],f[1]),"%,",!1).appendXtra("",f[2],st(m[2],f[2]),b?"%,":"%"+E,!1):o.appendXtra(b?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],b?",":E,!0),b&&(f=f.length<4?1:f[3],o.appendXtra("",f,(m.length<4?1:m[3])-f,E,!1))),pt.lastIndex=0;else if(v=f.match(g)){if(y=m.match(_),!y||y.length!==v.length)return o;for(d=0,p=0;p<v.length;p++)T=v[p],w=f.indexOf(T,d),o.appendXtra(f.substr(d,w-d),Number(T),st(y[p],T),"",R&&"px"===f.substr(w+T.length,2),0===p),d=w+T.length;o["xs"+o.l]+=f.substr(d)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==n.indexOf("=")&&o.data){for(E=o.xs0+o.data.s,u=1;u<o.l;u++)E+=o["xs"+u]+o.data["xn"+u];o.e=E+o["xs"+u]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},yt=9;for(u=vt.prototype,u.l=u.pr=0;--yt>0;)u["xn"+yt]=0,u["xs"+yt]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(t,e,i,n,r,s){var o=this,a=o.l;return o["xs"+a]+=s&&a?" "+t:t||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",a>0?(o.data["xn"+a]=e+i,o.rxp["xn"+a]=r,o["xn"+a]=e,o.plugin||(o.xfirst=new vt(o,"xn"+a,e,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=r,o)):(o["xs"+a]+=e+(n||""),o)};var xt=function(t,e){e=e||{},this.p=e.prefix?V(t)||t:t,h[t]=h[this.p]=this,this.format=e.formatter||dt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},bt=U._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,s=t.split(","),o=e.defaultValue;for(i=i||[o],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||o,r=new xt(s[n],e)},wt=function(t){if(!h[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";bt(t,{parser:function(t,i,n,r,s,o,a){var u=l.com.greensock.plugins[e];return u?(u._cssRegister(),h[n].parse(t,i,n,r,s,o,a)):(W("Error: "+e+" js file not loaded."),s)}})}};u=xt.prototype,u.parseComplex=function(t,e,i,n,r,s){var o,a,l,h,u,c,p=this.keyword;if(this.multi&&(k.test(i)||k.test(e)?(a=e.replace(k,"|").split("|"),l=i.replace(k,"|").split("|")):p&&(a=[e],l=[i])),l){for(h=l.length>a.length?l.length:a.length,o=0;h>o;o++)e=a[o]=a[o]||this.dflt,i=l[o]=l[o]||this.dflt,p&&(u=e.indexOf(p),c=i.indexOf(p),u!==c&&(-1===c?a[o]=a[o].split(p).join(""):-1===u&&(a[o]+=" "+p)));e=a.join(", "),i=l.join(", ")}return _t(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},u.parse=function(t,e,i,n,r,o,a){return this.parseComplex(t.style,this.format(K(t,this.p,s,!1,this.dflt)),this.format(e),r,o)},a.registerSpecialProp=function(t,e,i){bt(t,{parser:function(t,n,r,s,o,a,l){var h=new vt(t,r,0,0,o,2,r,!1,i);return h.plugin=a,h.setRatio=e(t,n,s._tween,r),h},priority:i})},a.useSVGTransformAttr=d||f;var Tt,Et="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),St=V("transform"),Ct=Y+"transform",At=V("transformOrigin"),Pt=null!==V("perspective"),Rt=U.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Pt?a.defaultForce3D||"auto":!1},Ot=window.SVGElement,Mt=function(t,e,i){var n,r=B.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Dt=B.documentElement,kt=function(){var t,e,i,n=v||/Android/i.test(z)&&!window.chrome;return B.createElementNS&&!n&&(t=Mt("svg",Dt),e=Mt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[At]="50% 50%",e.style[St]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(f&&Pt),Dt.removeChild(t)),n}(),Ft=function(t,e,i,n,r){var s,o,l,h,u,c,p,d,f,m,v,g,_,y,x=t._gsTransform,b=Bt(t,!0);x&&(_=x.xOrigin,y=x.yOrigin),(!n||(s=n.split(" ")).length<2)&&(p=t.getBBox(),e=rt(e).split(" "),s=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),
i.xOrigin=h=parseFloat(s[0]),i.yOrigin=u=parseFloat(s[1]),n&&b!==Nt&&(c=b[0],p=b[1],d=b[2],f=b[3],m=b[4],v=b[5],g=c*f-p*d,o=h*(f/g)+u*(-d/g)+(d*v-f*m)/g,l=h*(-p/g)+u*(c/g)-(c*v-p*m)/g,h=i.xOrigin=s[0]=o,u=i.yOrigin=s[1]=l),x&&(r||r!==!1&&a.defaultSmoothOrigin!==!1?(o=h-_,l=u-y,x.xOffset+=o*b[0]+l*b[2]-o,x.yOffset+=o*b[1]+l*b[3]-l):x.xOffset=x.yOffset=0),t.setAttribute("data-svg-origin",s.join(" "))},Lt=function(t){return!!(Ot&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Nt=[1,0,0,1,0,0],Bt=function(t,e){var i,n,r,s,o,a=t._gsTransform||new Rt,l=1e5;if(St?n=K(t,Ct,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(M),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),a.x||0,a.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(a.svg||t.getBBox&&Lt(t))&&(i&&-1!==(t.style[St]+"").indexOf("matrix")&&(n=t.style[St],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Nt;for(r=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],yt=r.length;--yt>-1;)s=Number(r[yt]),r[yt]=(o=s-(s|=0))?(o*l+(0>o?-.5:.5)|0)/l+s:s;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},It=U.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var o,l,h,u,c,p,d=n?t._gsTransform||new Rt:new Rt,f=d.scaleX<0,m=2e-5,v=1e5,g=Pt?parseFloat(K(t,At,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,_=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!Lt(t)),d.svg&&(Ft(t,K(t,At,s,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Tt=a.useSVGTransformAttr||kt),o=Bt(t),o!==Nt){if(16===o.length){var y,x,b,w,T,E=o[0],S=o[1],C=o[2],A=o[3],P=o[4],R=o[5],O=o[6],M=o[7],D=o[8],k=o[9],F=o[10],N=o[12],B=o[13],I=o[14],j=o[11],$=Math.atan2(O,F);d.zOrigin&&(I=-d.zOrigin,N=D*I-o[12],B=k*I-o[13],I=F*I+d.zOrigin-o[14]),d.rotationX=$*L,$&&(w=Math.cos(-$),T=Math.sin(-$),y=P*w+D*T,x=R*w+k*T,b=O*w+F*T,D=P*-T+D*w,k=R*-T+k*w,F=O*-T+F*w,j=M*-T+j*w,P=y,R=x,O=b),$=Math.atan2(D,F),d.rotationY=$*L,$&&(w=Math.cos(-$),T=Math.sin(-$),y=E*w-D*T,x=S*w-k*T,b=C*w-F*T,k=S*T+k*w,F=C*T+F*w,j=A*T+j*w,E=y,S=x,C=b),$=Math.atan2(S,E),d.rotation=$*L,$&&(w=Math.cos(-$),T=Math.sin(-$),E=E*w+P*T,x=S*w+R*T,R=S*-T+R*w,O=C*-T+O*w,S=x),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY+=180),d.scaleX=(Math.sqrt(E*E+S*S)*v+.5|0)/v,d.scaleY=(Math.sqrt(R*R+k*k)*v+.5|0)/v,d.scaleZ=(Math.sqrt(O*O+F*F)*v+.5|0)/v,d.skewX=0,d.perspective=j?1/(0>j?-j:j):0,d.x=N,d.y=B,d.z=I,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*E-d.yOrigin*P),d.y-=d.yOrigin-(d.yOrigin*S-d.xOrigin*R))}else if((!Pt||r||!o.length||d.x!==o[4]||d.y!==o[5]||!d.rotationX&&!d.rotationY)&&(void 0===d.x||"none"!==K(t,"display",i))){var U=o.length>=6,z=U?o[0]:1,X=o[1]||0,H=o[2]||0,W=U?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,h=Math.sqrt(z*z+X*X),u=Math.sqrt(W*W+H*H),c=z||X?Math.atan2(X,z)*L:d.rotation||0,p=H||W?Math.atan2(H,W)*L+c:d.skewX||0,Math.abs(p)>90&&Math.abs(p)<270&&(f?(h*=-1,p+=0>=c?180:-180,c+=0>=c?180:-180):(u*=-1,p+=0>=p?180:-180)),d.scaleX=h,d.scaleY=u,d.rotation=c,d.skewX=p,Pt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=_,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*z+d.yOrigin*H),d.y-=d.yOrigin-(d.xOrigin*X+d.yOrigin*W))}d.zOrigin=g;for(l in d)d[l]<m&&d[l]>-m&&(d[l]=0)}return n&&(t._gsTransform=d,d.svg&&(Tt&&t.style[St]?e.delayedCall(.001,function(){zt(t.style,St)}):!Tt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},jt=function(t){var e,i,n=this.data,r=-n.rotation*F,s=r+n.skewX*F,o=1e5,a=(Math.cos(r)*n.scaleX*o|0)/o,l=(Math.sin(r)*n.scaleX*o|0)/o,h=(Math.sin(s)*-n.scaleY*o|0)/o,u=(Math.cos(s)*n.scaleY*o|0)/o,c=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-h,h=-i,e=p.filter,c.filter="";var d,f,m=this.t.offsetWidth,g=this.t.offsetHeight,_="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+h+", M22="+u,x=n.x+m*n.xPercent/100,T=n.y+g*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?m*n.ox*.01:n.ox)-m/2,f=(n.oyp?g*n.oy*.01:n.oy)-g/2,x+=d-(d*a+f*l),T+=f-(d*h+f*u)),_?(d=m/2,f=g/2,y+=", Dx="+(d-(d*a+f*l)+x)+", Dy="+(f-(d*h+f*u)+T)+")"):y+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(D,y):c.filter=y+" "+e,(0===t||1===t)&&1===a&&0===l&&0===h&&1===u&&(_&&-1===y.indexOf("Dx=0, Dy=0")||w.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!_){var E,S,C,A=8>v?1:-1;for(d=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((0>a?-a:a)*m+(0>l?-l:l)*g))/2+x),n.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>h?-h:h)*m))/2+T),yt=0;4>yt;yt++)S=it[yt],E=p[S],i=-1!==E.indexOf("px")?parseFloat(E):Z(this.t,S,parseFloat(E),E.replace(b,""))||0,C=i!==n[S]?2>yt?-n.ieOffsetX:-n.ieOffsetY:2>yt?d-n.ieOffsetX:f-n.ieOffsetY,c[S]=(n[S]=Math.round(i-C*(0===yt||2===yt?1:A)))+"px"}}},$t=U.set3DTransformRatio=U.setTransformRatio=function(t){var e,i,n,r,s,o,a,l,h,u,c,p,d,m,v,g,_,y,x,b,w,T,E,S=this.data,C=this.t.style,A=S.rotation,P=S.rotationX,R=S.rotationY,O=S.scaleX,M=S.scaleY,D=S.scaleZ,k=S.x,L=S.y,N=S.z,B=S.svg,I=S.perspective,j=S.force3D;if(((1===t||0===t)&&"auto"===j&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!j)&&!N&&!I&&!R&&!P||Tt&&B||!Pt)return void(A||S.skewX||B?(A*=F,T=S.skewX*F,E=1e5,e=Math.cos(A)*O,r=Math.sin(A)*O,i=Math.sin(A-T)*-M,s=Math.cos(A-T)*M,T&&"simple"===S.skewType&&(_=Math.tan(T),_=Math.sqrt(1+_*_),i*=_,s*=_,S.skewY&&(e*=_,r*=_)),B&&(k+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,L+=S.yOrigin-(S.xOrigin*r+S.yOrigin*s)+S.yOffset,Tt&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),k+=.01*S.xPercent*m.width,L+=.01*S.yPercent*m.height),m=1e-6,m>k&&k>-m&&(k=0),m>L&&L>-m&&(L=0)),x=(e*E|0)/E+","+(r*E|0)/E+","+(i*E|0)/E+","+(s*E|0)/E+","+k+","+L+")",B&&Tt?this.t.setAttribute("transform","matrix("+x):C[St]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):C[St]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+M+","+k+","+L+")");if(f&&(m=1e-4,m>O&&O>-m&&(O=D=2e-5),m>M&&M>-m&&(M=D=2e-5),!I||S.z||S.rotationX||S.rotationY||(I=0)),A||S.skewX)A*=F,v=e=Math.cos(A),g=r=Math.sin(A),S.skewX&&(A-=S.skewX*F,v=Math.cos(A),g=Math.sin(A),"simple"===S.skewType&&(_=Math.tan(S.skewX*F),_=Math.sqrt(1+_*_),v*=_,g*=_,S.skewY&&(e*=_,r*=_))),i=-g,s=v;else{if(!(R||P||1!==D||I||B))return void(C[St]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+k+"px,"+L+"px,"+N+"px)"+(1!==O||1!==M?" scale("+O+","+M+")":""));e=s=1,i=r=0}h=1,n=o=a=l=u=c=0,p=I?-1/I:0,d=S.zOrigin,m=1e-6,b=",",w="0",A=R*F,A&&(v=Math.cos(A),g=Math.sin(A),a=-g,u=p*-g,n=e*g,o=r*g,h=v,p*=v,e*=v,r*=v),A=P*F,A&&(v=Math.cos(A),g=Math.sin(A),_=i*v+n*g,y=s*v+o*g,l=h*g,c=p*g,n=i*-g+n*v,o=s*-g+o*v,h*=v,p*=v,i=_,s=y),1!==D&&(n*=D,o*=D,h*=D,p*=D),1!==M&&(i*=M,s*=M,l*=M,c*=M),1!==O&&(e*=O,r*=O,a*=O,u*=O),(d||B)&&(d&&(k+=n*-d,L+=o*-d,N+=h*-d+d),B&&(k+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,L+=S.yOrigin-(S.xOrigin*r+S.yOrigin*s)+S.yOffset),m>k&&k>-m&&(k=w),m>L&&L>-m&&(L=w),m>N&&N>-m&&(N=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(m>e&&e>-m?w:e)+b+(m>r&&r>-m?w:r)+b+(m>a&&a>-m?w:a),x+=b+(m>u&&u>-m?w:u)+b+(m>i&&i>-m?w:i)+b+(m>s&&s>-m?w:s),P||R?(x+=b+(m>l&&l>-m?w:l)+b+(m>c&&c>-m?w:c)+b+(m>n&&n>-m?w:n),x+=b+(m>o&&o>-m?w:o)+b+(m>h&&h>-m?w:h)+b+(m>p&&p>-m?w:p)+b):x+=",0,0,0,0,1,0,",x+=k+b+L+b+N+b+(I?1+-N/I:1)+")",C[St]=x};u=Rt.prototype,u.x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,bt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,o,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var h,u,c,p,d,f,m,v,g,_,y=t._gsTransform,x=t.style,b=1e-6,w=Et.length,T=l,E={},S="transformOrigin";if(l.display?(p=K(t,"display"),x.display="block",h=It(t,s,!0,l.parseTransform),x.display=p):h=It(t,s,!0,l.parseTransform),n._transform=h,"string"==typeof T.transform&&St)p=j.style,p[St]=T.transform,p.display="block",p.position="absolute",B.body.appendChild(j),u=It(j,null,!1),B.body.removeChild(j),u.perspective||(u.perspective=h.perspective),null!=T.xPercent&&(u.xPercent=ot(T.xPercent,h.xPercent)),null!=T.yPercent&&(u.yPercent=ot(T.yPercent,h.yPercent));else if("object"==typeof T){if(u={scaleX:ot(null!=T.scaleX?T.scaleX:T.scale,h.scaleX),scaleY:ot(null!=T.scaleY?T.scaleY:T.scale,h.scaleY),scaleZ:ot(T.scaleZ,h.scaleZ),x:ot(T.x,h.x),y:ot(T.y,h.y),z:ot(T.z,h.z),xPercent:ot(T.xPercent,h.xPercent),yPercent:ot(T.yPercent,h.yPercent),perspective:ot(T.transformPerspective,h.perspective)},v=T.directionalRotation,null!=v)if("object"==typeof v)for(p in v)T[p]=v[p];else T.rotation=v;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(u.x=0,u.xPercent=ot(T.x,h.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(u.y=0,u.yPercent=ot(T.y,h.yPercent)),u.rotation=at("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:h.rotation,h.rotation,"rotation",E),Pt&&(u.rotationX=at("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":h.rotationX||0,h.rotationX,"rotationX",E),u.rotationY=at("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":h.rotationY||0,h.rotationY,"rotationY",E)),u.skewX=null==T.skewX?h.skewX:at(T.skewX,h.skewX),u.skewY=null==T.skewY?h.skewY:at(T.skewY,h.skewY),(c=u.skewY-h.skewY)&&(u.skewX+=c,u.rotation+=c)}for(Pt&&null!=T.force3D&&(h.force3D=T.force3D,m=!0),h.skewType=T.skewType||h.skewType||a.defaultSkewType,f=h.force3D||h.z||h.rotationX||h.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,f||null==T.scale||(u.scaleZ=1);--w>-1;)i=Et[w],d=u[i]-h[i],(d>b||-b>d||null!=T[i]||null!=N[i])&&(m=!0,r=new vt(h,i,h[i],d,r),i in E&&(r.e=E[i]),r.xs0=0,r.plugin=o,n._overwriteProps.push(r.n));return d=T.transformOrigin,h.svg&&(d||T.svgOrigin)&&(g=h.xOffset,_=h.yOffset,Ft(t,rt(d),u,T.svgOrigin,T.smoothOrigin),r=gt(h,"xOrigin",(y?h:u).xOrigin,u.xOrigin,r,S),r=gt(h,"yOrigin",(y?h:u).yOrigin,u.yOrigin,r,S),(g!==h.xOffset||_!==h.yOffset)&&(r=gt(h,"xOffset",y?g:h.xOffset,h.xOffset,r,S),r=gt(h,"yOffset",y?_:h.yOffset,h.yOffset,r,S)),d=Tt?null:"0px 0px"),(d||Pt&&f&&h.zOrigin)&&(St?(m=!0,i=At,d=(d||K(t,i,s,!1,"50% 50%"))+"",r=new vt(x,i,0,0,r,-1,S),r.b=x[i],r.plugin=o,Pt?(p=h.zOrigin,d=d.split(" "),h.zOrigin=(d.length>2&&(0===p||"0px"!==d[2])?parseFloat(d[2]):p)||0,r.xs0=r.e=d[0]+" "+(d[1]||"50%")+" 0px",r=new vt(h,"zOrigin",0,0,r,-1,r.n),r.b=p,r.xs0=r.e=h.zOrigin):r.xs0=r.e=d):rt(d+"",h)),m&&(n._transformType=h.svg&&Tt||!f&&3!==this._transformType?2:3),r},prefix:!0}),bt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),bt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,o,a){e=this.format(e);var l,h,u,c,p,d,f,m,v,g,_,y,x,b,w,T,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(v=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),l=e.split(" "),h=0;h<E.length;h++)this.p.indexOf("border")&&(E[h]=V(E[h])),p=c=K(t,E[h],s,!1,"0px"),-1!==p.indexOf(" ")&&(c=p.split(" "),p=c[0],c=c[1]),d=u=l[h],f=parseFloat(p),y=p.substr((f+"").length),x="="===d.charAt(1),x?(m=parseInt(d.charAt(0)+"1",10),d=d.substr(2),m*=parseFloat(d),_=d.substr((m+"").length-(0>m?1:0))||""):(m=parseFloat(d),_=d.substr((m+"").length)),""===_&&(_=r[i]||y),_!==y&&(b=Z(t,"borderLeft",f,y),w=Z(t,"borderTop",f,y),"%"===_?(p=b/v*100+"%",c=w/g*100+"%"):"em"===_?(T=Z(t,"borderLeft",1,"em"),p=b/T+"em",c=w/T+"em"):(p=b+"px",c=w+"px"),x&&(d=parseFloat(p)+m+_,u=parseFloat(c)+m+_)),o=_t(S,E[h],p+" "+c,d+" "+u,!1,"0px",o);return o},prefix:!0,formatter:dt("0px 0px 0px 0px",!1,!0)}),bt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,o){var a,l,h,u,c,p,d="background-position",f=s||q(t,null),m=this.format((f?v?f.getPropertyValue(d+"-x")+" "+f.getPropertyValue(d+"-y"):f.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(p=K(t,"backgroundImage").replace(P,""),p&&"none"!==p)){for(a=m.split(" "),l=g.split(" "),$.setAttribute("src",p),h=2;--h>-1;)m=a[h],u=-1!==m.indexOf("%"),u!==(-1!==l[h].indexOf("%"))&&(c=0===h?t.offsetWidth-$.width:t.offsetHeight-$.height,a[h]=u?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,g,r,o)},formatter:rt}),bt("backgroundSize",{defaultValue:"0 0",formatter:rt}),bt("perspective",{defaultValue:"0px",prefix:!0}),bt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),bt("transformStyle",{prefix:!0}),bt("backfaceVisibility",{prefix:!0}),bt("userSelect",{prefix:!0}),bt("margin",{parser:ft("marginTop,marginRight,marginBottom,marginLeft")}),bt("padding",{parser:ft("paddingTop,paddingRight,paddingBottom,paddingLeft")}),bt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,o){var a,l,h;return 9>v?(l=t.currentStyle,h=8>v?" ":",",a="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(a=this.format(K(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,o)}}),bt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),bt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),bt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,o){return this.parseComplex(t.style,this.format(K(t,"borderTopWidth",s,!1,"0px")+" "+K(t,"borderTopStyle",s,!1,"solid")+" "+K(t,"borderTopColor",s,!1,"#000")),this.format(e),r,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(pt)||["#000"])[0]}}),bt("borderWidth",{parser:ft("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),bt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,s){var o=t.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new vt(o,a,0,0,r,-1,i,!1,0,o[a],e)}});var Ut=function(t){var e,i=this.t,n=i.filter||K(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!K(this.data,"filter")):(i.filter=n.replace(E,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(w,"opacity="+r))};bt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,o){var a=parseFloat(K(t,"opacity",s,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),h&&1===a&&"hidden"===K(t,"visibility",s)&&0!==e&&(a=0),X?r=new vt(l,"opacity",a,e-a,r):(r=new vt(l,"opacity",100*a,100*(e-a),r),r.xn1=h?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=o,r.setRatio=Ut),h&&(r=new vt(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var zt=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Xt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:zt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};bt("className",{parser:function(t,e,i,r,o,a,l){var h,u,c,p,d,f=t.getAttribute("class")||"",m=t.style.cssText;if(o=r._classNamePT=new vt(t,i,0,0,o,2),o.setRatio=Xt,o.pr=-11,n=!0,o.b=f,u=Q(t,s),c=t._gsClassPT){for(p={},d=c.data;d;)p[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:f.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),h=tt(t,u,Q(t),l,p),t.setAttribute("class",f),o.data=h.firstMPT,t.style.cssText=m,o=o.xfirst=r.parse(t,h.difs,o,a)}});var Ht=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s,o=this.t.style,a=h.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],h[i]&&(h[i].parse===a?r=!0:i="transformOrigin"===i?At:h[i].p),zt(o,i);r&&(zt(o,St),s=this.t._gsTransform,s&&(s.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(bt("clearProps",{parser:function(t,e,i,r,s){return s=new vt(t,i,0,0,s,2),s.setRatio=Ht,s.e=e,s.pr=-10,s.data=r._tween,n=!0,s}}),u="bezier,throwProps,physicsProps,physics2D".split(","),yt=u.length;yt--;)wt(u[yt]);u=a.prototype,u._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(t,e,i){if(!t.nodeType)return!1;this._target=t,this._tween=i,this._vars=e,c=e.autoRound,n=!1,r=e.suffixMap||a.suffixMap,s=q(t,""),o=this._overwriteProps;var l,u,f,v,g,_,y,x,b,w=t.style;if(p&&""===w.zIndex&&(l=K(t,"zIndex",s),("auto"===l||""===l)&&this._addLazySet(w,"zIndex",0)),"string"==typeof e&&(v=w.cssText,l=Q(t,s),w.cssText=v+";"+e,l=tt(t,l,Q(t)).difs,!X&&T.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,w.cssText=v),e.className?this._firstPT=u=h.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=u=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,St?d&&(p=!0,""===w.zIndex&&(y=K(t,"zIndex",s),("auto"===y||""===y)&&this._addLazySet(w,"zIndex",0)),m&&this._addLazySet(w,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):w.zoom=1,f=u;f&&f._next;)f=f._next;x=new vt(t,"transform",0,0,null,2),this._linkCSSP(x,null,f),x.setRatio=St?$t:jt,x.data=this._transform||It(t,s,!0),x.tween=i,x.pr=-1,o.pop()}if(n){for(;u;){for(_=u._next,f=v;f&&f.pr>u.pr;)f=f._next;(u._prev=f?f._prev:g)?u._prev._next=u:v=u,(u._next=f)?f._prev=u:g=u,u=_}this._firstPT=v}return!0},u.parse=function(t,e,i,n){var o,a,l,u,p,d,f,m,v,g,_=t.style;for(o in e)d=e[o],a=h[o],a?i=a.parse(t,d,o,this,i,n,e):(p=K(t,o,s)+"",v="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||v&&S.test(d)?(v||(d=ut(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=_t(_,o,p,d,!0,"transparent",i,0,n)):!v||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(l=parseFloat(p),f=l||0===l?p.substr((l+"").length):"",(""===p||"auto"===p)&&("width"===o||"height"===o?(l=nt(t,o,s),f="px"):"left"===o||"top"===o?(l=J(t,o,s),f="px"):(l="opacity"!==o?0:1,f="")),g=v&&"="===d.charAt(1),g?(u=parseInt(d.charAt(0)+"1",10),d=d.substr(2),u*=parseFloat(d),m=d.replace(b,"")):(u=parseFloat(d),m=v?d.replace(b,""):""),""===m&&(m=o in r?r[o]:f),d=u||0===u?(g?u+l:u)+m:e[o],f!==m&&""!==m&&(u||0===u)&&l&&(l=Z(t,o,l,f),"%"===m?(l/=Z(t,o,100,"%")/100,e.strictUnits!==!0&&(p=l+"%")):"em"===m||"rem"===m?l/=Z(t,o,1,m):"px"!==m&&(u=Z(t,o,u,m),m="px"),g&&(u||0===u)&&(d=u+l+m)),g&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==_[o]&&(d||d+""!="NaN"&&null!=d)?(i=new vt(_,o,u||l||0,0,i,-1,o,!1,0,p,d),i.xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:p):W("invalid "+o+" tween value: "+e[o]):(i=new vt(_,o,l,u-l,i,0,o,c!==!1&&("px"===m||"zIndex"===o),0,p,d),i.xs0=m)):i=_t(_,o,p,d,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},u.setRatio=function(t){var e,i,n,r=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):s>e&&e>-s&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},u._enableTransforms=function(t){this._transform=this._transform||It(this._target,s,!0),this._transformType=this._transform.svg&&Tt||!t&&3!==this._transformType?2:3};var Wt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(t,e,i){var n=this._firstPT=new vt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Wt,n.data=this},u._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},u._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var Yt=function(t,e,i){var n,r,s,o;if(t.slice)for(r=t.length;--r>-1;)Yt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)s=n[r],o=s.type,s.style&&(e.push(Q(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Yt(s,e,i)};return a.cascadeTo=function(t,i,n){var r,s,o,a,l=e.to(t,i,n),h=[l],u=[],c=[],p=[],d=e._internals.reservedProps;for(t=l._targets||l.target,Yt(t,u,p),l.render(i,!0,!0),Yt(t,c),l.render(0,!0,!0),l._enabled(!0),r=p.length;--r>-1;)if(s=tt(p[r],u[r],c[r]),s.firstMPT){s=s.difs;for(o in n)d[o]&&(s[o]=n[o]);a={};for(o in s)a[o]=u[r][o];h.push(e.fromTo(p[r],i,a,s))}return h},t.activate([a]),a},!0),function(){var t=i._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,i,n,r=this._tween,s=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),o=s.length,a={},l=r._propLookup.roundProps;--o>-1;)a[s[o]]=1;for(o=s.length;--o>-1;)for(t=s[o],i=r._firstPT;i;)n=i._next,i.pg?i.t._roundProps(a,!0):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=l)),i=n;return!1},n._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),function(){i._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,i){var n;if("function"!=typeof t.setAttribute)return!1;for(n in e)this._addTween(t,"setAttribute",t.getAttribute(n)+"",e[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),i._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,r,s,o,a,l,h=e.useRadians===!0?2*Math.PI:360,u=1e-6;for(n in e)"useRadians"!==n&&(l=(e[n]+"").split("_"),r=l[0],s=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),o=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?s+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,a=o-s,l.length&&(r=l.join("_"),-1!==r.indexOf("short")&&(a%=h,a!==a%(h/2)&&(a=0>a?a+h:a-h)),-1!==r.indexOf("_cw")&&0>a?a=(a+9999999999*h)%h-(a/h|0)*h:-1!==r.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(a/h|0)*h)),(a>u||-u>a)&&(this._addTween(t,n,s,s+a,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,i._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,s=i.GreenSockGlobals||i,o=s.com.greensock,a=2*Math.PI,l=Math.PI/2,h=o._class,u=function(e,i){var n=h("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},c=t.register||function(){},p=function(t,e,i,n,r){var s=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return c(s,t),s},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(e,i){var n=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},m=p("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=v.prototype=new t;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,i){return new v(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},n=h("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,o,a,l=e.taper||"none",h=[],u=0,c=0|(e.points||20),p=c,f=e.randomize!==!1,m=e.clamp===!0,v=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/c*p,n=v?v.getRatio(i):i,"none"===l?r=g:"out"===l?(s=1-i,r=s*s*g):"in"===l?r=i*i*g:.5>i?(s=2*i,r=s*s*.5*g):(s=2*(1-i),r=s*s*.5*g),f?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),h[u++]={x:i,y:n};for(h.sort(function(t,e){return t.x-e.x}),a=new d(1,1,null),p=c;--p>-1;)o=h[p],a=new d(o.x,o.y,a);this._prev=new d(0,0,0!==a.t?a:a.next)},!0),g=n.prototype=new t,g.constructor=n,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new n(t)},n.ease=new n,p("Bounce",u("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,i,n){var r=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},p("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",u("SineOut",function(t){return Math.sin(t*l)}),u("SineIn",function(t){return-Math.cos(t*l)+1}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(s.SlowMo,"SlowMo","ease,"),c(n,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),m},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(t,i){"use strict";var n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!n.TweenLite){var r,s,o,a,l,h=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},u=h("com.greensock"),c=1e-10,p=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},d=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),m={},v=function(r,s,o,a){this.sc=m[r]?m[r].sc:[],m[r]=this,this.gsClass=null,this.func=o;var l=[];this.check=function(u){for(var c,p,d,f,g,_=s.length,y=_;--_>-1;)(c=m[s[_]]||new v(s[_],[])).gsClass?(l[_]=c.gsClass,y--):u&&c.sc.push(this);if(0===y&&o)for(p=("com.greensock."+r).split("."),d=p.pop(),f=h(p.join("."))[d]=this.gsClass=o.apply(o,l),a&&(n[d]=f,g="undefined"!=typeof e&&e.exports,!g&&"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return f}):r===i&&g&&(e.exports=f)),_=0;_<this.sc.length;_++)this.sc[_].check()},this.check(!0)},g=t._gsDefine=function(t,e,i,n){return new v(t,e,i,n)},_=u._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=n;var y=[0,0,1,1],x=[],b=_("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?y.concat(e):y},!0),w=b.map={},T=b.register=function(t,e,i,n){for(var r,s,o,a,l=e.split(","),h=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(s=l[h],r=n?_("easing."+s,null,!0):u.easing[s]||{},o=c.length;--o>-1;)a=c[o],w[s+"."+a]=w[a+s]=r[a]=t.getRatio?t:t[a]||new t};for(o=b.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=r.length;--s>-1;)o=r[s]+",Power"+s,T(new b(null,null,1,s),o,"easeOut",!0),T(new b(null,null,2,s),o,"easeIn"+(0===s?",easeNone":"")),T(new b(null,null,3,s),o,"easeInOut");w.linear=u.easing.Linear.easeIn,w.swing=u.easing.Quad.easeInOut;var E=_("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=E.prototype,o.addEventListener=function(t,e,i,n,r){r=r||0;var s,o,h=this._listeners[t],u=0;for(null==h&&(this._listeners[t]=h=[]),o=h.length;--o>-1;)s=h[o],s.c===e&&s.s===i?h.splice(o,1):0===u&&s.pr<r&&(u=o+1);h.splice(u,0,{c:e,s:i,up:n,pr:r}),this!==a||l||a.wake()},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,
i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var S=t.requestAnimationFrame,C=t.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},P=A();for(r=["ms","moz","webkit","o"],s=r.length;--s>-1&&!S;)S=t[r[s]+"RequestAnimationFrame"],C=t[r[s]+"CancelAnimationFrame"]||t[r[s]+"CancelRequestAnimationFrame"];_("Ticker",function(t,e){var i,n,r,s,o,h=this,u=A(),p=e!==!1&&S,f=500,m=33,v="tick",g=function(t){var e,a,l=A()-P;l>f&&(u+=l-m),P+=l,h.time=(P-u)/1e3,e=h.time-o,(!i||e>0||t===!0)&&(h.frame++,o+=e+(e>=s?.004:s-e),a=!0),t!==!0&&(r=n(g)),a&&h.dispatchEvent(v)};E.call(h),h.time=h.frame=0,h.tick=function(){g(!0)},h.lagSmoothing=function(t,e){f=t||1/c,m=Math.min(e,f,0)},h.sleep=function(){null!=r&&(p&&C?C(r):clearTimeout(r),n=d,r=null,h===a&&(l=!1))},h.wake=function(){null!==r?h.sleep():h.frame>10&&(P=A()-f+5),n=0===i?d:p&&S?S:function(t){return setTimeout(t,1e3*(o-h.time)+1|0)},h===a&&(l=!0),g(2)},h.fps=function(t){return arguments.length?(i=t,s=1/(i||60),o=this.time+s,void h.wake()):i},h.useRAF=function(t){return arguments.length?(h.sleep(),p=t,void h.fps(i)):p},h.fps(t),setTimeout(function(){p&&h.frame<5&&h.useRAF(!1)},1500)}),o=u.Ticker.prototype=new u.events.EventDispatcher,o.constructor=u.Ticker;var R=_("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,V){l||a.wake();var i=this.vars.useFrames?G:V;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=R.ticker=new u.Ticker,o=R.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var O=function(){l&&A()-P>2e3&&a.wake(),setTimeout(O,2e3)};O(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},o._enabled=function(t,e){return l||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||x)},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(l||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(L.length&&K(),this.render(t,e,!1),L.length&&K())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||c,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(l||t||a.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var M=_("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=M.prototype=new R,o.constructor=M,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},o.rawTime=function(){return l||a.wake(),this._totalTime};var D=_("TweenLite",function(e,i,n){if(R.call(this,i,n),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,s,o,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Y[D.defaultOverwrite]:"number"==typeof l?l>>0:Y[l],(a||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=o=p(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)s=o[r],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(p(s))):(this._siblings[r]=Z(s,this,!1),1===l&&this._siblings[r].length>1&&Q(s,this,null,1,this._siblings[r])):(s=o[r--]=D.selector(s),"string"==typeof s&&o.splice(r+1,1)):o.splice(r--,1);else this._propLookup={},this._siblings=Z(e,this,!1),1===l&&this._siblings.length>1&&Q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-c,this.render(-this._delay))},!0),k=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},F=function(t,e){var i,n={};for(i in t)W[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!z[i]||z[i]&&z[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};o=D.prototype=new R,o.constructor=D,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,D.version="1.18.0",D.defaultEase=o._ease=new b(null,null,1,1),D.defaultOverwrite="auto",D.ticker=a,D.autoSleep=120,D.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},D.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(D.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var L=[],N={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,I=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},j=function(t,e,i,n){var r,s,o,a,l,h,u,c=[t,e],p=0,d="",f=0;for(c.start=t,i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(B)||[],s=e.match(B)||[],n&&(n._next=null,n.blob=1,c._firstPT=n),l=s.length,a=0;l>a;a++)u=s[a],h=e.substr(p,e.indexOf(u,p)-p),d+=h||!a?h:",",p+=h.length,f?f=(f+1)%5:"rgba("===h.substr(-5)&&(f=1),u===r[a]||r.length<=a?d+=u:(d&&(c.push(d),d=""),o=parseFloat(r[a]),c.push(o),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:o,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-o)||0,f:0,r:f&&4>f}),p+=u.length;return d+=e.substr(p),d&&c.push(d),c.setRatio=I,c},$=function(t,e,i,n,r,s,o,a){var l,h,u="get"===i?t[e]:i,c=typeof t[e],p="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:u,f:"function"===c,pg:0,n:r||e,r:s,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-u||0};return"number"!==c&&("function"===c&&"get"===i&&(h=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=u=o?t[h](o):t[h]()),"string"==typeof u&&(o||isNaN(u))?(d.fp=o,l=j(u,n,a||D.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):p||(d.c=parseFloat(n)-parseFloat(u)||0)),d.c?((d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d):void 0},U=D._internals={isArray:f,isSelector:k,lazyTweens:L,blobDif:j},z=D._plugins={},X=U.tweenLookup={},H=0,W=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},G=R._rootFramesTimeline=new M,V=R._rootTimeline=new M,q=30,K=U.lazyRender=function(){var t,e=L.length;for(N={};--e>-1;)t=L[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);L.length=0};V._startTime=a.time,G._startTime=a.frame,V._active=G._active=!0,setTimeout(K,1),R._updateRoot=D.render=function(){var t,e,i;if(L.length&&K(),V.render((a.time-V._startTime)*V._timeScale,!1,!1),G.render((a.frame-G._startTime)*G._timeScale,!1,!1),L.length&&K(),a.frame>=q){q=a.frame+(parseInt(D.autoSleep,10)||120);for(i in X){for(e=X[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete X[i]}if(i=V._first,(!i||i._paused)&&D.autoSleep&&!G._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",R._updateRoot);var Z=function(t,e,i){var n,r,s=t._gsTweenID;if(X[s||(t._gsTweenID=s="t"+H++)]||(X[s]={target:t,tweens:[]}),e&&(n=X[s].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return X[s].tweens},J=function(t,e,i,n){var r,s,o=t.vars.onOverwrite;return o&&(r=o(t,e,i,n)),o=D.onOverwrite,o&&(s=o(t,e,i,n)),r!==!1&&s!==!1},Q=function(t,e,i,n,r){var s,o,a,l;if(1===n||n>=4){for(l=r.length,s=0;l>s;s++)if((a=r[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===n)break;return o}var h,u=e._startTime+c,p=[],d=0,f=0===e._duration;for(s=r.length;--s>-1;)(a=r[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(h=h||tt(e,0,f),0===tt(a,h,f)&&(p[d++]=a)):a._startTime<=u&&a._startTime+a.totalDuration()/a._timeScale>u&&((f||!a._initted)&&u-a._startTime<=2e-10||(p[d++]=a)));for(s=d;--s>-1;)if(a=p[s],2===n&&a._kill(i,t,e)&&(o=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!J(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},tt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>e?s-e:i&&s===e||!t._initted&&2*c>s-e?c:(s+=t.totalDuration()/t._timeScale/r)>e+c?0:s-e-c};o._init=function(){var t,e,i,n,r,s=this.vars,o=this._overwrittenProps,a=this._duration,l=!!s.immediateRender,h=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in s.startAt)r[n]=s.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&s.lazy!==!1,r.startAt=r.delay=null,this._startAt=D.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in s)W[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&s.lazy!==!1,i.immediateRender=l,this._startAt=D.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof b?h:"function"==typeof h?new b(h,s.easeParams):w[h]||D.defaultEase:D.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&D._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},o._initProps=function(e,i,n,r){var s,o,a,l,h,u;if(null==e)return!1;N[e._gsTweenID]&&K(),this.vars.css||e.style&&e!==t&&e.nodeType&&z.css&&this.vars.autoCSS!==!1&&F(this.vars,e);for(s in this.vars)if(u=this.vars[s],W[s])u&&(u instanceof Array||u.push&&f(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(z[s]&&(l=new z[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:l._priority},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[s]=$.call(this,e,s,"get",u,s,0,null,this.vars.stringFilter);return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&Q(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(N[e._gsTweenID]=!0),a)},o.render=function(t,e,i){var n,r,s,o,a=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===c&&"isPause"!==this.data)&&h!==t&&(i=!0,h>c&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||h===t?t:c);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&h>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==c||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||h===t?t:c)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,p=this._easeType,d=this._easePower;(1===p||3===p&&u>=.5)&&(u=1-u),3===p&&(u*=2),1===d?u*=u:2===d?u*=u*u:3===d?u*=u*u*u:4===d&&(u*=u*u*u*u),1===p?this.ratio=1-u:2===p?this.ratio=u:.5>t/l?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=h,L.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===c&&o!==c&&(this._rawPrevTime=0))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var n,r,s,o,a,l,h,u,c,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((f(e)||k(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(h=t||a,u=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(s in h)a[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!J(this,i,e,c))return!1}for(s in h)(o=a[s])&&(p&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(h)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),u&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-c,this.render(-this._delay)),this},o._enabled=function(t,e){if(l||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=Z(n[i],this,!0);else this._siblings=Z(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new D(t,e,n)},D.delayedCall=function(t,e,i,n,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,n,r,s;if((f(t)||k(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(D.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=Z(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=D.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var et=_("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(o=et.prototype,et.version="1.18.0",et.API=2,o._firstPT=null,o._addTween=$,o.setRatio=I,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,n,r,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},et.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===et.API&&(z[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=_("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=o.prototype=new et(i);a.constructor=o,o.API=t.API;for(e in s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,et.activate([o]),o},r=t._gsQueue){for(s=0;s<r.length;s++)r[s]();for(o in m)m[o].func||t.console.log("GSAP encountered missing dependency: com.greensock."+o)}l=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(t,e,i){!function(t){if("function"==typeof define&&define.amd){var n="[history"+(new Date).getTime()+"]",r=requirejs.onError;t.toString=function(){return n},requirejs.onError=function(t){-1===t.message.indexOf(n)&&r.call(requirejs,t)},define([],t)}return"object"!=typeof i||"undefined"==typeof e?t():void(e.exports=t())}(function(){function t(){}function e(t,i,n){var r=/(?:(\w+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(null==t||""===t||i)t=i?t:T.href,(!P||n)&&(t=t.replace(/^[^#]*/,"")||"#",t=T.protocol.replace(/:.*$|$/,":")+"//"+T.host+j.basepath+t.replace(new RegExp("^#[/]?(?:"+j.type+")?"),""));else{var s=e(),o=y.getElementsByTagName("base")[0];!n&&o&&o.getAttribute("href")&&(o.href=o.href,s=e(o.href,null,!0));var a=s._pathname,l=s._protocol;t=""+t,t=/^(?:\w+\:)?\/\//.test(t)?0===t.indexOf("/")?l+t:t:l+"//"+s._host+(0===t.indexOf("/")?t:0===t.indexOf("?")?a+t:0===t.indexOf("#")?a+s._search+t:a.replace(/[^\/]+$/g,"")+t)}U.href=t;var h=r.exec(U.href),u=h[2]+(h[3]?":"+h[3]:""),c=h[4]||"/",p=h[5]||"",d="#"===h[6]?"":h[6]||"",f=c+p+d,m=c.replace(new RegExp("^"+j.basepath,"i"),j.type)+p;return{_href:h[1]+"//"+u+f,_protocol:h[1],_host:u,_hostname:h[2],_port:h[3]||"",_pathname:c,_search:p,_hash:d,_relative:f,_nohash:m,_special:m+d}}function i(){var t;try{t=g.sessionStorage,t.setItem($+"t","1"),t.removeItem($+"t")}catch(e){t={getItem:function(t){var e=y.cookie.split(t+"=");return e.length>1&&e.pop().split(";").shift()||"null"},setItem:function(t,e){var i={};(i[T.href]=S.state)&&(y.cookie=t+"="+w.stringify(i))}}}try{G=w.parse(t.getItem($))||{}}catch(e){G={}}N(D+"unload",function(){t.setItem($,w.stringify(G))},!1)}function n(e,i,n,r){var s=0;n||(n={set:t},s=1);var o=!n.set,a=!n.get,l={configurable:!0,set:function(){o=1},get:function(){a=1}};try{O(e,i,l),e[i]=e[i],O(e,i,n)}catch(h){}if(!(o&&a||(e.__defineGetter__&&(e.__defineGetter__(i,l.get),e.__defineSetter__(i,l.set),e[i]=e[i],n.get&&e.__defineGetter__(i,n.get),n.set&&e.__defineSetter__(i,n.set)),o&&a))){if(s)return!1;if(e===g){try{var u=e[i];e[i]=null}catch(h){}if("execScript"in g)g.execScript("Public "+i,"VBScript"),g.execScript("var "+i+";","JavaScript");else try{O(e,i,{value:t})}catch(h){"onpopstate"===i&&(N("popstate",n=function(){B("popstate",n,!1);var t=e.onpopstate;e.onpopstate=null,setTimeout(function(){e.onpopstate=t},1)},!1),H=0)}e[i]=u}else try{try{var c=b.create(e);O(b.getPrototypeOf(c)===e?c:e,i,n);for(var p in e)"function"==typeof e[p]&&(c[p]=e[p].bind(e));try{r.call(c,c,e)}catch(h){}e=c}catch(h){O(e.constructor.prototype,i,n)}}catch(h){return!1}}return e}function r(t,e,i){return i=i||{},t=t===Q?T:t,i.set=i.set||function(i){t[e]=i},i.get=i.get||function(){return t[e]},i}function s(t,e,i){t in V?V[t].push(e):arguments.length>3?N(t,e,i,arguments[3]):N(t,e,i)}function o(t,e,i){var n=V[t];if(n){for(var r=n.length;r--;)if(n[r]===e){n.splice(r,1);break}}else B(t,e,i)}function a(e,i){var r=(""+("string"==typeof e?e:e.type)).replace(/^on/,""),s=V[r];if(s){if(i="string"==typeof e?i:e,null==i.target)for(var o=["target","currentTarget","srcElement","type"];e=o.pop();)i=n(i,e,{get:"type"===e?function(){return r}:function(){return g}});H&&(("popstate"===r?g.onpopstate:g.onhashchange)||t).call(g,i);for(var a=0,l=s.length;l>a;a++)s[a].call(g,i);return!0}return I(e,i)}function l(){var t=y.createEvent?y.createEvent("Event"):y.createEventObject();t.initEvent?t.initEvent("popstate",!1,!1):t.type="popstate",t.state=S.state,a(t)}function h(){W&&(W=!1,l())}function u(t,i,n,r){if(P)z=T.href;else{0===Y&&(Y=2);var s=e(i,2===Y&&-1!==(""+i).indexOf("#"));s._relative!==e()._relative&&(z=r,n?T.replace("#"+s._special):T.hash=s._special)}!R&&t&&(G[T.href]=t),W=!1}function c(t){var i=z;if(z=T.href,i){X!==T.href&&l(),t=t||g.event;var n=e(i,!0),r=e();t.oldURL||(t.oldURL=n._href,t.newURL=r._href),n._hash!==r._hash&&a(t)}}function p(t){setTimeout(function(){N("popstate",function(t){X=T.href,R||(t=n(t,"state",{get:function(){return S.state}})),a(t)},!1)},0),!P&&t!==!0&&"location"in S&&(m(M.hash),h())}function d(t){for(;t;){if("A"===t.nodeName)return t;t=t.parentNode}}function f(t){var i=t||g.event,n=d(i.target||i.srcElement),r="defaultPrevented"in i?i.defaultPrevented:i.returnValue===!1;if(n&&"A"===n.nodeName&&!r){var s=e(),o=e(n.getAttribute("href",2)),a=s._href.split("#").shift()===o._href.split("#").shift();a&&o._hash&&(s._hash!==o._hash&&(M.hash=o._hash),m(o._hash),i.preventDefault?i.preventDefault():i.returnValue=!1)}}function m(t){var e=y.getElementById(t=(t||"").replace(/^#/,""));if(e&&e.id===t&&"A"===e.nodeName){var i=e.getBoundingClientRect();g.scrollTo(x.scrollLeft||0,i.top+(x.scrollTop||0)-(x.clientTop||0))}}function v(){var t=y.getElementsByTagName("script"),s=(t[t.length-1]||{}).src||"",o=-1!==s.indexOf("?")?s.split("?").pop():"";o.replace(/(\w+)(?:=([^&]*))?/g,function(t,e,i){j[e]=(i||"").replace(/^(0|false)$/,"")}),N(D+"hashchange",c,!1);var a=[Q,M,K,g,J,S];R&&delete J.state;for(var l=0;l<a.length;l+=2)for(var h in a[l])if(a[l].hasOwnProperty(h))if("object"!=typeof a[l][h])a[l+1][h]=a[l][h];else{var u=r(a[l],h,a[l][h]);if(!n(a[l+1],h,u,function(t,e){e===S&&(g.history=S=a[l+1]=t)}))return B(D+"hashchange",c,!1),!1;a[l+1]===g&&(V[h]=V[h.substr(2)]=[])}return S.setup(),j.redirect&&S.redirect(),j.init&&(Y=1),!R&&w&&i(),P||y[k](D+"click",f,!1),"complete"===y.readyState?p(!0):(P||e()._relative===j.basepath||(W=!0),N(D+"load",p,!1)),!0}var g=("object"==typeof window?window:this)||{};if(!g.history||"emulate"in g.history)return g.history;var _,y=g.document,x=y.documentElement,b=g.Object,w=g.JSON,T=g.location,E=g.history,S=E,C=E.pushState,A=E.replaceState,P=!!C,R="state"in E,O=b.defineProperty,M=n({},"t")?{}:y.createElement("a"),D="",k=g.addEventListener?"addEventListener":(D="on")&&"attachEvent",F=g.removeEventListener?"removeEventListener":"detachEvent",L=g.dispatchEvent?"dispatchEvent":"fireEvent",N=g[k],B=g[F],I=g[L],j={basepath:"/",redirect:0,type:"/",init:0},$="__historyAPI__",U=y.createElement("a"),z=T.href,X="",H=1,W=!1,Y=0,G={},V={},q=y.title,K={onhashchange:null,onpopstate:null},Z=function(t,e){var i=g.history!==E;i&&(g.history=E),t.apply(E,e),i&&(g.history=S)},J={setup:function(t,e,i){j.basepath=(""+(null==t?j.basepath:t)).replace(/(?:^|\/)[^\/]*$/,"/"),j.type=null==e?j.type:e,j.redirect=null==i?j.redirect:!!i},redirect:function(t,i){if(S.setup(i,t),i=j.basepath,g.top==g.self){var n=e(null,!1,!0)._relative,r=T.pathname+T.search;P?(r=r.replace(/([^\/])$/,"$1/"),n!=i&&new RegExp("^"+i+"$","i").test(r)&&T.replace(n)):r!=i&&(r=r.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+i,"i").test(r)&&T.replace(i+"#"+r.replace(new RegExp("^"+i,"i"),j.type)+T.hash))}},pushState:function(t,e,i){var n=y.title;null!=q&&(y.title=q),C&&Z(C,arguments),u(t,i),y.title=n,q=e},replaceState:function(t,e,i){var n=y.title;null!=q&&(y.title=q),delete G[T.href],A&&Z(A,arguments),u(t,i,!0),y.title=n,q=e},location:{set:function(t){0===Y&&(Y=1),g.location=t},get:function(){return 0===Y&&(Y=1),M}},state:{get:function(){return G[T.href]||null}}},Q={assign:function(t){P||0!==(""+t).indexOf("#")?T.assign(t):u(null,t)},reload:function(t){T.reload(t)},replace:function(t){P||0!==(""+t).indexOf("#")?T.replace(t):u(null,t,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==_?_:T.origin?T.origin:T.protocol+"//"+T.hostname+(T.port?":"+T.port:"")},set:function(t){_=t}},href:P?null:{get:function(){return e()._href}},protocol:null,host:null,hostname:null,port:null,pathname:P?null:{get:function(){return e()._pathname}},search:P?null:{get:function(){return e()._search}},hash:P?null:{set:function(t){u(null,(""+t).replace(/^(#|)/,"#"),!1,z)},get:function(){return e()._hash}}};return v()?(S.emulate=!P,g[k]=s,g[F]=o,g[L]=a,S):void 0})},{}],66:[function(t,e,i){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],67:[function(t,e,i){(function(t){(function(){function n(t,e){if(t!==e){var i=null===t,n=t===S,r=t===t,s=null===e,o=e===S,a=e===e;if(t>e&&!s||!r||i&&!o&&a||n&&a)return 1;if(e>t&&!i||!a||s&&!n&&r||o&&r)return-1;
}return 0}function r(t,e,i){for(var n=t.length,r=i?n:-1;i?r--:++r<n;)if(e(t[r],r,t))return r;return-1}function s(t,e,i){if(e!==e)return v(t,i);for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function o(t){return"function"==typeof t||!1}function a(t){return null==t?"":t+""}function l(t,e){for(var i=-1,n=t.length;++i<n&&e.indexOf(t.charAt(i))>-1;);return i}function h(t,e){for(var i=t.length;i--&&e.indexOf(t.charAt(i))>-1;);return i}function u(t,e){return n(t.criteria,e.criteria)||t.index-e.index}function c(t,e,i){for(var r=-1,s=t.criteria,o=e.criteria,a=s.length,l=i.length;++r<a;){var h=n(s[r],o[r]);if(h){if(r>=l)return h;var u=i[r];return h*("asc"===u||u===!0?1:-1)}}return t.index-e.index}function p(t){return Ht[t]}function d(t){return Wt[t]}function f(t,e,i){return e?t=Vt[t]:i&&(t=qt[t]),"\\"+t}function m(t){return"\\"+qt[t]}function v(t,e,i){for(var n=t.length,r=e+(i?0:-1);i?r--:++r<n;){var s=t[r];if(s!==s)return r}return-1}function g(t){return!!t&&"object"==typeof t}function _(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function y(t,e){for(var i=-1,n=t.length,r=-1,s=[];++i<n;)t[i]===e&&(t[i]=H,s[++r]=i);return s}function x(t,e){for(var i,n=-1,r=t.length,s=-1,o=[];++n<r;){var a=t[n],l=e?e(a,n,t):a;n&&i===l||(i=l,o[++s]=a)}return o}function b(t){for(var e=-1,i=t.length;++e<i&&_(t.charCodeAt(e)););return e}function w(t){for(var e=t.length;e--&&_(t.charCodeAt(e)););return e}function T(t){return Yt[t]}function E(t){function e(t){if(g(t)&&!Ra(t)&&!(t instanceof Z)){if(t instanceof _)return t;if(to.call(t,"__chain__")&&to.call(t,"__wrapped__"))return dn(t)}return new _(t)}function i(){}function _(t,e,i){this.__wrapped__=t,this.__actions__=i||[],this.__chain__=!!e}function Z(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Po,this.__views__=[]}function et(){var t=new Z(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function nt(){if(this.__filtered__){var t=new Z(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ht(){var t=this.__wrapped__.value(),e=this.__dir__,i=Ra(t),n=0>e,r=i?t.length:0,s=Wi(0,r,this.__views__),o=s.start,a=s.end,l=a-o,h=n?a:o-1,u=this.__iteratees__,c=u.length,p=0,d=To(l,this.__takeCount__);if(!i||$>r||r==l&&d==l)return ii(n&&i?t.reverse():t,this.__actions__);var f=[];t:for(;l--&&d>p;){h+=e;for(var m=-1,v=t[h];++m<c;){var g=u[m],_=g.iteratee,y=g.type,x=_(v);if(y==z)v=x;else if(!x){if(y==U)continue t;break t}}f[p++]=v}return f}function Wt(){this.__data__={}}function Yt(t){return this.has(t)&&delete this.__data__[t]}function Gt(t){return"__proto__"==t?S:this.__data__[t]}function Vt(t){return"__proto__"!=t&&to.call(this.__data__,t)}function qt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:go(null),set:new uo};e--;)this.push(t[e])}function Zt(t,e){var i=t.data,n="string"==typeof e||Fr(e)?i.set.has(e):i.hash[e];return n?0:-1}function Jt(t){var e=this.data;"string"==typeof t||Fr(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var i=-1,n=t.length,r=-1,s=e.length,o=$s(n+s);++i<n;)o[i]=t[i];for(;++r<s;)o[i++]=e[r];return o}function te(t,e){var i=-1,n=t.length;for(e||(e=$s(n));++i<n;)e[i]=t[i];return e}function ee(t,e){for(var i=-1,n=t.length;++i<n&&e(t[i],i,t)!==!1;);return t}function re(t,e){for(var i=t.length;i--&&e(t[i],i,t)!==!1;);return t}function se(t,e){for(var i=-1,n=t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function oe(t,e,i,n){for(var r=-1,s=t.length,o=n,a=o;++r<s;){var l=t[r],h=+e(l);i(h,o)&&(o=h,a=l)}return a}function ae(t,e){for(var i=-1,n=t.length,r=-1,s=[];++i<n;){var o=t[i];e(o,i,t)&&(s[++r]=o)}return s}function le(t,e){for(var i=-1,n=t.length,r=$s(n);++i<n;)r[i]=e(t[i],i,t);return r}function he(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function ue(t,e,i,n){var r=-1,s=t.length;for(n&&s&&(i=t[++r]);++r<s;)i=e(i,t[r],r,t);return i}function ce(t,e,i,n){var r=t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function pe(t,e){for(var i=-1,n=t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function de(t,e){for(var i=t.length,n=0;i--;)n+=+e(t[i])||0;return n}function fe(t,e){return t===S?e:t}function me(t,e,i,n){return t!==S&&to.call(n,i)?t:e}function ve(t,e,i){for(var n=-1,r=$a(e),s=r.length;++n<s;){var o=r[n],a=t[o],l=i(a,e[o],o,t,e);(l===l?l===a:a!==a)&&(a!==S||o in t)||(t[o]=l)}return t}function ge(t,e){return null==e?t:ye(e,$a(e),t)}function _e(t,e){for(var i=-1,n=null==t,r=!n&&Ki(t),s=r?t.length:0,o=e.length,a=$s(o);++i<o;){var l=e[i];r?a[i]=Zi(l,s)?t[l]:S:a[i]=n?S:t[l]}return a}function ye(t,e,i){i||(i={});for(var n=-1,r=e.length;++n<r;){var s=e[n];i[s]=t[s]}return i}function xe(t,e,i){var n=typeof t;return"function"==n?e===S?t:si(t,e,i):null==t?As:"object"==n?je(t):e===S?ks(t):$e(t,e)}function be(t,e,i,n,r,s,o){var a;if(i&&(a=r?i(t,n,r):i(t)),a!==S)return a;if(!Fr(t))return t;var l=Ra(t);if(l){if(a=Yi(t),!e)return te(t,a)}else{var h=io.call(t),u=h==K;if(h!=Q&&h!=W&&(!u||r))return Xt[h]?Vi(t,h,e):r?t:{};if(a=Gi(u?{}:t),!e)return ge(a,t)}s||(s=[]),o||(o=[]);for(var c=s.length;c--;)if(s[c]==t)return o[c];return s.push(t),o.push(a),(l?ee:Me)(t,function(n,r){a[r]=be(n,e,i,r,t,s,o)}),a}function we(t,e,i){if("function"!=typeof t)throw new qs(X);return co(function(){t.apply(S,i)},e)}function Te(t,e){var i=t?t.length:0,n=[];if(!i)return n;var r=-1,o=zi(),a=o==s,l=a&&e.length>=$?fi(e):null,h=e.length;l&&(o=Zt,a=!1,e=l);t:for(;++r<i;){var u=t[r];if(a&&u===u){for(var c=h;c--;)if(e[c]===u)continue t;n.push(u)}else o(e,u,0)<0&&n.push(u)}return n}function Ee(t,e){var i=!0;return No(t,function(t,n,r){return i=!!e(t,n,r)}),i}function Se(t,e,i,n){var r=n,s=r;return No(t,function(t,o,a){var l=+e(t,o,a);(i(l,r)||l===n&&l===s)&&(r=l,s=t)}),s}function Ce(t,e,i,n){var r=t.length;for(i=null==i?0:+i||0,0>i&&(i=-i>r?0:r+i),n=n===S||n>r?r:+n||0,0>n&&(n+=r),r=i>n?0:n>>>0,i>>>=0;r>i;)t[i++]=e;return t}function Ae(t,e){var i=[];return No(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}function Pe(t,e,i,n){var r;return i(t,function(t,i,s){return e(t,i,s)?(r=n?i:t,!1):void 0}),r}function Re(t,e,i,n){n||(n=[]);for(var r=-1,s=t.length;++r<s;){var o=t[r];g(o)&&Ki(o)&&(i||Ra(o)||Sr(o))?e?Re(o,e,i,n):he(n,o):i||(n[n.length]=o)}return n}function Oe(t,e){return Io(t,e,ts)}function Me(t,e){return Io(t,e,$a)}function De(t,e){return jo(t,e,$a)}function ke(t,e){for(var i=-1,n=e.length,r=-1,s=[];++i<n;){var o=e[i];kr(t[o])&&(s[++r]=o)}return s}function Fe(t,e,i){if(null!=t){i!==S&&i in cn(t)&&(e=[i]);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:S}}function Le(t,e,i,n,r,s){return t===e?!0:null==t||null==e||!Fr(t)&&!g(e)?t!==t&&e!==e:Ne(t,e,Le,i,n,r,s)}function Ne(t,e,i,n,r,s,o){var a=Ra(t),l=Ra(e),h=Y,u=Y;a||(h=io.call(t),h==W?h=Q:h!=Q&&(a=Xr(t))),l||(u=io.call(e),u==W?u=Q:u!=Q&&(l=Xr(e)));var c=h==Q,p=u==Q,d=h==u;if(d&&!a&&!c)return Ii(t,e,h);if(!r){var f=c&&to.call(t,"__wrapped__"),m=p&&to.call(e,"__wrapped__");if(f||m)return i(f?t.value():t,m?e.value():e,n,r,s,o)}if(!d)return!1;s||(s=[]),o||(o=[]);for(var v=s.length;v--;)if(s[v]==t)return o[v]==e;s.push(t),o.push(e);var g=(a?Bi:ji)(t,e,i,n,r,s,o);return s.pop(),o.pop(),g}function Be(t,e,i){var n=e.length,r=n,s=!i;if(null==t)return!r;for(t=cn(t);n--;){var o=e[n];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<r;){o=e[n];var a=o[0],l=t[a],h=o[1];if(s&&o[2]){if(l===S&&!(a in t))return!1}else{var u=i?i(l,h,a):S;if(!(u===S?Le(h,l,i,!0):u))return!1}}return!0}function Ie(t,e){var i=-1,n=Ki(t)?$s(t.length):[];return No(t,function(t,r,s){n[++i]=e(t,r,s)}),n}function je(t){var e=Xi(t);if(1==e.length&&e[0][2]){var i=e[0][0],n=e[0][1];return function(t){return null==t?!1:t[i]===n&&(n!==S||i in cn(t))}}return function(t){return Be(t,e)}}function $e(t,e){var i=Ra(t),n=Qi(t)&&nn(e),r=t+"";return t=pn(t),function(s){if(null==s)return!1;var o=r;if(s=cn(s),(i||!n)&&!(o in s)){if(s=1==t.length?s:Fe(s,Ve(t,0,-1)),null==s)return!1;o=Cn(t),s=cn(s)}return s[o]===e?e!==S||o in s:Le(e,s[o],S,!0)}}function Ue(t,e,i,n,r){if(!Fr(t))return t;var s=Ki(e)&&(Ra(e)||Xr(e)),o=s?S:$a(e);return ee(o||e,function(a,l){if(o&&(l=a,a=e[l]),g(a))n||(n=[]),r||(r=[]),ze(t,e,l,Ue,i,n,r);else{var h=t[l],u=i?i(h,a,l,t,e):S,c=u===S;c&&(u=a),u===S&&(!s||l in t)||!c&&(u===u?u===h:h!==h)||(t[l]=u)}}),t}function ze(t,e,i,n,r,s,o){for(var a=s.length,l=e[i];a--;)if(s[a]==l)return void(t[i]=o[a]);var h=t[i],u=r?r(h,l,i,t,e):S,c=u===S;c&&(u=l,Ki(l)&&(Ra(l)||Xr(l))?u=Ra(h)?h:Ki(h)?te(h):[]:$r(l)||Sr(l)?u=Sr(h)?Vr(h):$r(h)?h:{}:c=!1),s.push(l),o.push(u),c?t[i]=n(u,l,r,s,o):(u===u?u!==h:h===h)&&(t[i]=u)}function Xe(t){return function(e){return null==e?S:e[t]}}function He(t){var e=t+"";return t=pn(t),function(i){return Fe(i,t,e)}}function We(t,e){for(var i=t?e.length:0;i--;){var n=e[i];if(n!=r&&Zi(n)){var r=n;po.call(t,n,1)}}return t}function Ye(t,e){return t+_o(Co()*(e-t+1))}function Ge(t,e,i,n,r){return r(t,function(t,r,s){i=n?(n=!1,t):e(i,t,r,s)}),i}function Ve(t,e,i){var n=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),i=i===S||i>r?r:+i||0,0>i&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var s=$s(r);++n<r;)s[n]=t[n+e];return s}function qe(t,e){var i;return No(t,function(t,n,r){return i=e(t,n,r),!i}),!!i}function Ke(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function Ze(t,e,i){var n=$i(),r=-1;e=le(e,function(t){return n(t)});var s=Ie(t,function(t){var i=le(e,function(e){return e(t)});return{criteria:i,index:++r,value:t}});return Ke(s,function(t,e){return c(t,e,i)})}function Je(t,e){var i=0;return No(t,function(t,n,r){i+=+e(t,n,r)||0}),i}function Qe(t,e){var i=-1,n=zi(),r=t.length,o=n==s,a=o&&r>=$,l=a?fi():null,h=[];l?(n=Zt,o=!1):(a=!1,l=e?[]:h);t:for(;++i<r;){var u=t[i],c=e?e(u,i,t):u;if(o&&u===u){for(var p=l.length;p--;)if(l[p]===c)continue t;e&&l.push(c),h.push(u)}else n(l,c,0)<0&&((e||a)&&l.push(c),h.push(u))}return h}function ti(t,e){for(var i=-1,n=e.length,r=$s(n);++i<n;)r[i]=t[e[i]];return r}function ei(t,e,i,n){for(var r=t.length,s=n?r:-1;(n?s--:++s<r)&&e(t[s],s,t););return i?Ve(t,n?0:s,n?s+1:r):Ve(t,n?s+1:0,n?r:s)}function ii(t,e){var i=t;i instanceof Z&&(i=i.value());for(var n=-1,r=e.length;++n<r;){var s=e[n];i=s.func.apply(s.thisArg,he([i],s.args))}return i}function ni(t,e,i){var n=0,r=t?t.length:n;if("number"==typeof e&&e===e&&Mo>=r){for(;r>n;){var s=n+r>>>1,o=t[s];(i?e>=o:e>o)&&null!==o?n=s+1:r=s}return r}return ri(t,e,As,i)}function ri(t,e,i,n){e=i(e);for(var r=0,s=t?t.length:0,o=e!==e,a=null===e,l=e===S;s>r;){var h=_o((r+s)/2),u=i(t[h]),c=u!==S,p=u===u;if(o)var d=p||n;else d=a?p&&c&&(n||null!=u):l?p&&(n||c):null==u?!1:n?e>=u:e>u;d?r=h+1:s=h}return To(s,Oo)}function si(t,e,i){if("function"!=typeof t)return As;if(e===S)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)};case 5:return function(i,n,r,s,o){return t.call(e,i,n,r,s,o)}}return function(){return t.apply(e,arguments)}}function oi(t){var e=new so(t.byteLength),i=new fo(e);return i.set(new fo(t)),e}function ai(t,e,i){for(var n=i.length,r=-1,s=wo(t.length-n,0),o=-1,a=e.length,l=$s(a+s);++o<a;)l[o]=e[o];for(;++r<n;)l[i[r]]=t[r];for(;s--;)l[o++]=t[r++];return l}function li(t,e,i){for(var n=-1,r=i.length,s=-1,o=wo(t.length-r,0),a=-1,l=e.length,h=$s(o+l);++s<o;)h[s]=t[s];for(var u=s;++a<l;)h[u+a]=e[a];for(;++n<r;)h[u+i[n]]=t[s++];return h}function hi(t,e){return function(i,n,r){var s=e?e():{};if(n=$i(n,r,3),Ra(i))for(var o=-1,a=i.length;++o<a;){var l=i[o];t(s,l,n(l,o,i),i)}else No(i,function(e,i,r){t(s,e,n(e,i,r),r)});return s}}function ui(t){return gr(function(e,i){var n=-1,r=null==e?0:i.length,s=r>2?i[r-2]:S,o=r>2?i[2]:S,a=r>1?i[r-1]:S;for("function"==typeof s?(s=si(s,a,5),r-=2):(s="function"==typeof a?a:S,r-=s?1:0),o&&Ji(i[0],i[1],o)&&(s=3>r?S:s,r=1);++n<r;){var l=i[n];l&&t(e,l,s)}return e})}function ci(t,e){return function(i,n){var r=i?zo(i):0;if(!en(r))return t(i,n);for(var s=e?r:-1,o=cn(i);(e?s--:++s<r)&&n(o[s],s,o)!==!1;);return i}}function pi(t){return function(e,i,n){for(var r=cn(e),s=n(e),o=s.length,a=t?o:-1;t?a--:++a<o;){var l=s[a];if(i(r[l],l,r)===!1)break}return e}}function di(t,e){function i(){var r=this&&this!==ie&&this instanceof i?n:t;return r.apply(e,arguments)}var n=vi(t);return i}function fi(t){return go&&uo?new Kt(t):null}function mi(t){return function(e){for(var i=-1,n=Es(us(e)),r=n.length,s="";++i<r;)s=t(s,n[i],i);return s}}function vi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Lo(t.prototype),n=t.apply(i,e);return Fr(n)?n:i}}function gi(t){function e(i,n,r){r&&Ji(i,n,r)&&(n=S);var s=Ni(i,t,S,S,S,S,S,n);return s.placeholder=e.placeholder,s}return e}function _i(t,e){return gr(function(i){var n=i[0];return null==n?n:(i.push(e),t.apply(S,i))})}function yi(t,e){return function(i,n,r){if(r&&Ji(i,n,r)&&(n=S),n=$i(n,r,3),1==n.length){i=Ra(i)?i:un(i);var s=oe(i,n,t,e);if(!i.length||s!==e)return s}return Se(i,n,t,e)}}function xi(t,e){return function(i,n,s){if(n=$i(n,s,3),Ra(i)){var o=r(i,n,e);return o>-1?i[o]:S}return Pe(i,n,t)}}function bi(t){return function(e,i,n){return e&&e.length?(i=$i(i,n,3),r(e,i,t)):-1}}function wi(t){return function(e,i,n){return i=$i(i,n,3),Pe(e,i,t,!0)}}function Ti(t){return function(){for(var e,i=arguments.length,n=t?i:-1,r=0,s=$s(i);t?n--:++n<i;){var o=s[r++]=arguments[n];if("function"!=typeof o)throw new qs(X);!e&&_.prototype.thru&&"wrapper"==Ui(o)&&(e=new _([],!0))}for(n=e?-1:i;++n<i;){o=s[n];var a=Ui(o),l="wrapper"==a?Uo(o):S;e=l&&tn(l[0])&&l[1]==(F|O|D|L)&&!l[4].length&&1==l[9]?e[Ui(l[0])].apply(e,l[3]):1==o.length&&tn(o)?e[a]():e.thru(o)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Ra(n)&&n.length>=$)return e.plant(n).value();for(var r=0,o=i?s[r].apply(this,t):n;++r<i;)o=s[r].call(this,o);return o}}}function Ei(t,e){return function(i,n,r){return"function"==typeof n&&r===S&&Ra(i)?t(i,n):e(i,si(n,r,3))}}function Si(t){return function(e,i,n){return("function"!=typeof i||n!==S)&&(i=si(i,n,3)),t(e,i,ts)}}function Ci(t){return function(e,i,n){return("function"!=typeof i||n!==S)&&(i=si(i,n,3)),t(e,i)}}function Ai(t){return function(e,i,n){var r={};return i=$i(i,n,3),Me(e,function(e,n,s){var o=i(e,n,s);n=t?o:n,e=t?e:o,r[n]=e}),r}}function Pi(t){return function(e,i,n){return e=a(e),(t?e:"")+Di(e,i,n)+(t?"":e)}}function Ri(t){var e=gr(function(i,n){var r=y(n,e.placeholder);return Ni(i,t,S,n,r)});return e}function Oi(t,e){return function(i,n,r,s){var o=arguments.length<3;return"function"==typeof n&&s===S&&Ra(i)?t(i,n,r,o):Ge(i,$i(n,s,4),r,o,e)}}function Mi(t,e,i,n,r,s,o,a,l,h){function u(){for(var _=arguments.length,x=_,b=$s(_);x--;)b[x]=arguments[x];if(n&&(b=ai(b,n,r)),s&&(b=li(b,s,o)),f||v){var w=u.placeholder,T=y(b,w);if(_-=T.length,h>_){var E=a?te(a):S,C=wo(h-_,0),R=f?T:S,O=f?S:T,M=f?b:S,F=f?S:b;e|=f?D:k,e&=~(f?k:D),m||(e&=~(A|P));var L=[t,e,i,M,R,F,O,E,l,C],N=Mi.apply(S,L);return tn(t)&&Xo(N,L),N.placeholder=w,N}}var B=p?i:this,I=d?B[t]:t;return a&&(b=ln(b,a)),c&&l<b.length&&(b.length=l),this&&this!==ie&&this instanceof u&&(I=g||vi(t)),I.apply(B,b)}var c=e&F,p=e&A,d=e&P,f=e&O,m=e&R,v=e&M,g=d?S:vi(t);return u}function Di(t,e,i){var n=t.length;if(e=+e,n>=e||!xo(e))return"";var r=e-n;return i=null==i?" ":i+"",vs(i,vo(r/i.length)).slice(0,r)}function ki(t,e,i,n){function r(){for(var e=-1,a=arguments.length,l=-1,h=n.length,u=$s(h+a);++l<h;)u[l]=n[l];for(;a--;)u[l++]=arguments[++e];var c=this&&this!==ie&&this instanceof r?o:t;return c.apply(s?i:this,u)}var s=e&A,o=vi(t);return r}function Fi(t){var e=Hs[t];return function(t,i){return i=i===S?0:+i||0,i?(i=lo(10,i),e(t*i)/i):e(t)}}function Li(t){return function(e,i,n,r){var s=$i(n);return null==n&&s===xe?ni(e,i,t):ri(e,i,s(n,r,1),t)}}function Ni(t,e,i,n,r,s,o,a){var l=e&P;if(!l&&"function"!=typeof t)throw new qs(X);var h=n?n.length:0;if(h||(e&=~(D|k),n=r=S),h-=r?r.length:0,e&k){var u=n,c=r;n=r=S}var p=l?S:Uo(t),d=[t,e,i,n,r,u,c,s,o,a];if(p&&(rn(d,p),e=d[1],a=d[9]),d[9]=null==a?l?0:t.length:wo(a-h,0)||0,e==A)var f=di(d[0],d[2]);else f=e!=D&&e!=(A|D)||d[4].length?Mi.apply(S,d):ki.apply(S,d);var m=p?$o:Xo;return m(f,d)}function Bi(t,e,i,n,r,s,o){var a=-1,l=t.length,h=e.length;if(l!=h&&!(r&&h>l))return!1;for(;++a<l;){var u=t[a],c=e[a],p=n?n(r?c:u,r?u:c,a):S;if(p!==S){if(p)continue;return!1}if(r){if(!pe(e,function(t){return u===t||i(u,t,n,r,s,o)}))return!1}else if(u!==c&&!i(u,c,n,r,s,o))return!1}return!0}function Ii(t,e,i){switch(i){case G:case V:return+t==+e;case q:return t.name==e.name&&t.message==e.message;case J:return t!=+t?e!=+e:t==+e;case tt:case it:return t==e+""}return!1}function ji(t,e,i,n,r,s,o){var a=$a(t),l=a.length,h=$a(e),u=h.length;if(l!=u&&!r)return!1;for(var c=l;c--;){var p=a[c];if(!(r?p in e:to.call(e,p)))return!1}for(var d=r;++c<l;){p=a[c];var f=t[p],m=e[p],v=n?n(r?m:f,r?f:m,p):S;if(!(v===S?i(f,m,n,r,s,o):v))return!1;d||(d="constructor"==p)}if(!d){var g=t.constructor,_=e.constructor;if(g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _))return!1}return!0}function $i(t,i,n){var r=e.callback||Ss;return r=r===Ss?xe:r,n?r(t,i,n):r}function Ui(t){for(var e=t.name,i=Fo[e],n=i?i.length:0;n--;){var r=i[n],s=r.func;if(null==s||s==t)return r.name}return e}function zi(t,i,n){var r=e.indexOf||En;return r=r===En?s:r,t?r(t,i,n):r}function Xi(t){for(var e=es(t),i=e.length;i--;)e[i][2]=nn(e[i][1]);return e}function Hi(t,e){var i=null==t?S:t[e];return Br(i)?i:S}function Wi(t,e,i){for(var n=-1,r=i.length;++n<r;){var s=i[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=To(e,t+o);break;case"takeRight":t=wo(t,e-o)}}return{start:t,end:e}}function Yi(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&to.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function Gi(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ys),new e}function Vi(t,e,i){var n=t.constructor;switch(e){case rt:return oi(t);case G:case V:return new n(+t);case st:case ot:case at:case lt:case ht:case ut:case ct:case pt:case dt:var r=t.buffer;return new n(i?oi(r):r,t.byteOffset,t.length);case J:case it:return new n(t);case tt:var s=new n(t.source,Dt.exec(t));s.lastIndex=t.lastIndex}return s}function qi(t,e,i){null==t||Qi(e,t)||(e=pn(e),t=1==e.length?t:Fe(t,Ve(e,0,-1)),e=Cn(e));var n=null==t?t:t[e];return null==n?S:n.apply(t,i)}function Ki(t){return null!=t&&en(zo(t))}function Zi(t,e){return t="number"==typeof t||Lt.test(t)?+t:-1,e=null==e?Do:e,t>-1&&t%1==0&&e>t}function Ji(t,e,i){if(!Fr(i))return!1;var n=typeof e;if("number"==n?Ki(i)&&Zi(e,i.length):"string"==n&&e in i){var r=i[e];return t===t?t===r:r!==r}return!1}function Qi(t,e){var i=typeof t;if("string"==i&&St.test(t)||"number"==i)return!0;if(Ra(t))return!1;var n=!Et.test(t);return n||null!=e&&t in cn(e)}function tn(t){var i=Ui(t);if(!(i in Z.prototype))return!1;var n=e[i];if(t===n)return!0;var r=Uo(n);return!!r&&t===r[0]}function en(t){return"number"==typeof t&&t>-1&&t%1==0&&Do>=t}function nn(t){return t===t&&!Fr(t)}function rn(t,e){var i=t[1],n=e[1],r=i|n,s=F>r,o=n==F&&i==O||n==F&&i==L&&t[7].length<=e[8]||n==(F|L)&&i==O;if(!s&&!o)return t;n&A&&(t[2]=e[2],r|=i&A?0:R);var a=e[3];if(a){var l=t[3];t[3]=l?ai(l,a,e[4]):te(a),t[4]=l?y(t[3],H):te(e[4])}return a=e[5],a&&(l=t[5],t[5]=l?li(l,a,e[6]):te(a),t[6]=l?y(t[5],H):te(e[6])),a=e[7],a&&(t[7]=te(a)),n&F&&(t[8]=null==t[8]?e[8]:To(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function sn(t,e){return t===S?e:Oa(t,e,sn)}function on(t,e){t=cn(t);for(var i=-1,n=e.length,r={};++i<n;){var s=e[i];s in t&&(r[s]=t[s])}return r}function an(t,e){var i={};return Oe(t,function(t,n,r){e(t,n,r)&&(i[n]=t)}),i}function ln(t,e){for(var i=t.length,n=To(e.length,i),r=te(t);n--;){var s=e[n];t[n]=Zi(s,i)?r[s]:S}return t}function hn(t){for(var e=ts(t),i=e.length,n=i&&t.length,r=!!n&&en(n)&&(Ra(t)||Sr(t)),s=-1,o=[];++s<i;){var a=e[s];(r&&Zi(a,n)||to.call(t,a))&&o.push(a)}return o}function un(t){return null==t?[]:Ki(t)?Fr(t)?t:Ys(t):ss(t)}function cn(t){return Fr(t)?t:Ys(t)}function pn(t){if(Ra(t))return t;var e=[];return a(t).replace(Ct,function(t,i,n,r){e.push(n?r.replace(Ot,"$1"):i||t)}),e}function dn(t){return t instanceof Z?t.clone():new _(t.__wrapped__,t.__chain__,te(t.__actions__))}function fn(t,e,i){e=(i?Ji(t,e,i):null==e)?1:wo(_o(e)||1,1);for(var n=0,r=t?t.length:0,s=-1,o=$s(vo(r/e));r>n;)o[++s]=Ve(t,n,n+=e);return o}function mn(t){for(var e=-1,i=t?t.length:0,n=-1,r=[];++e<i;){var s=t[e];s&&(r[++n]=s)}return r}function vn(t,e,i){var n=t?t.length:0;return n?((i?Ji(t,e,i):null==e)&&(e=1),Ve(t,0>e?0:e)):[]}function gn(t,e,i){var n=t?t.length:0;return n?((i?Ji(t,e,i):null==e)&&(e=1),e=n-(+e||0),Ve(t,0,0>e?0:e)):[]}function _n(t,e,i){return t&&t.length?ei(t,$i(e,i,3),!0,!0):[]}function yn(t,e,i){return t&&t.length?ei(t,$i(e,i,3),!0):[]}function xn(t,e,i,n){var r=t?t.length:0;return r?(i&&"number"!=typeof i&&Ji(t,e,i)&&(i=0,n=r),Ce(t,e,i,n)):[]}function bn(t){return t?t[0]:S}function wn(t,e,i){var n=t?t.length:0;return i&&Ji(t,e,i)&&(e=!1),n?Re(t,e):[]}function Tn(t){var e=t?t.length:0;return e?Re(t,!0):[]}function En(t,e,i){var n=t?t.length:0;if(!n)return-1;if("number"==typeof i)i=0>i?wo(n+i,0):i;else if(i){var r=ni(t,e);return n>r&&(e===e?e===t[r]:t[r]!==t[r])?r:-1}return s(t,e,i||0)}function Sn(t){return gn(t,1)}function Cn(t){var e=t?t.length:0;return e?t[e-1]:S}function An(t,e,i){var n=t?t.length:0;if(!n)return-1;var r=n;if("number"==typeof i)r=(0>i?wo(n+i,0):To(i||0,n-1))+1;else if(i){r=ni(t,e,!0)-1;var s=t[r];return(e===e?e===s:s!==s)?r:-1}if(e!==e)return v(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Pn(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var i=0,n=zi(),r=t.length;++i<r;)for(var s=0,o=t[i];(s=n(e,o,s))>-1;)po.call(e,s,1);return e}function Rn(t,e,i){var n=[];if(!t||!t.length)return n;var r=-1,s=[],o=t.length;for(e=$i(e,i,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),s.push(r))}return We(t,s),n}function On(t){return vn(t,1)}function Mn(t,e,i){var n=t?t.length:0;return n?(i&&"number"!=typeof i&&Ji(t,e,i)&&(e=0,i=n),Ve(t,e,i)):[]}function Dn(t,e,i){var n=t?t.length:0;return n?((i?Ji(t,e,i):null==e)&&(e=1),Ve(t,0,0>e?0:e)):[]}function kn(t,e,i){var n=t?t.length:0;return n?((i?Ji(t,e,i):null==e)&&(e=1),e=n-(+e||0),Ve(t,0>e?0:e)):[]}function Fn(t,e,i){return t&&t.length?ei(t,$i(e,i,3),!1,!0):[]}function Ln(t,e,i){return t&&t.length?ei(t,$i(e,i,3)):[]}function Nn(t,e,i,n){var r=t?t.length:0;if(!r)return[];null!=e&&"boolean"!=typeof e&&(n=i,i=Ji(t,e,n)?S:e,e=!1);var o=$i();return(null!=i||o!==xe)&&(i=o(i,n,3)),e&&zi()==s?x(t,i):Qe(t,i)}function Bn(t){if(!t||!t.length)return[];var e=-1,i=0;t=ae(t,function(t){return Ki(t)?(i=wo(t.length,i),!0):void 0});for(var n=$s(i);++e<i;)n[e]=le(t,Xe(e));return n}function In(t,e,i){var n=t?t.length:0;if(!n)return[];var r=Bn(t);return null==e?r:(e=si(e,i,4),le(r,function(t){return ue(t,e,S,!0)}))}function jn(){for(var t=-1,e=arguments.length;++t<e;){var i=arguments[t];if(Ki(i))var n=n?he(Te(n,i),Te(i,n)):i}return n?Qe(n):[]}function $n(t,e){var i=-1,n=t?t.length:0,r={};for(!n||e||Ra(t[0])||(e=[]);++i<n;){var s=t[i];e?r[s]=e[i]:s&&(r[s[0]]=s[1])}return r}function Un(t){var i=e(t);return i.__chain__=!0,i}function zn(t,e,i){return e.call(i,t),t}function Xn(t,e,i){return e.call(i,t)}function Hn(){return Un(this)}function Wn(){return new _(this.value(),this.__chain__)}function Yn(t){for(var e,n=this;n instanceof i;){var r=dn(n);e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e}function Gn(){var t=this.__wrapped__,e=function(t){return i&&i.__dir__<0?t:t.reverse()};if(t instanceof Z){var i=t;return this.__actions__.length&&(i=new Z(this)),i=i.reverse(),i.__actions__.push({func:Xn,args:[e],thisArg:S}),new _(i,this.__chain__)}return this.thru(e)}function Vn(){return this.value()+""}function qn(){return ii(this.__wrapped__,this.__actions__)}function Kn(t,e,i){var n=Ra(t)?se:Ee;return i&&Ji(t,e,i)&&(e=S),("function"!=typeof e||i!==S)&&(e=$i(e,i,3)),n(t,e)}function Zn(t,e,i){var n=Ra(t)?ae:Ae;return e=$i(e,i,3),n(t,e)}function Jn(t,e){return ra(t,je(e))}function Qn(t,e,i,n){var r=t?zo(t):0;return en(r)||(t=ss(t),r=t.length),i="number"!=typeof i||n&&Ji(e,i,n)?0:0>i?wo(r+i,0):i||0,"string"==typeof t||!Ra(t)&&zr(t)?r>=i&&t.indexOf(e,i)>-1:!!r&&zi(t,e,i)>-1}function tr(t,e,i){var n=Ra(t)?le:Ie;return e=$i(e,i,3),n(t,e)}function er(t,e){return tr(t,ks(e))}function ir(t,e,i){var n=Ra(t)?ae:Ae;return e=$i(e,i,3),n(t,function(t,i,n){return!e(t,i,n)})}function nr(t,e,i){if(i?Ji(t,e,i):null==e){t=un(t);var n=t.length;return n>0?t[Ye(0,n-1)]:S}var r=-1,s=Gr(t),n=s.length,o=n-1;for(e=To(0>e?0:+e||0,n);++r<e;){var a=Ye(r,o),l=s[a];s[a]=s[r],s[r]=l}return s.length=e,s}function rr(t){return nr(t,Po)}function sr(t){var e=t?zo(t):0;return en(e)?e:$a(t).length}function or(t,e,i){var n=Ra(t)?pe:qe;return i&&Ji(t,e,i)&&(e=S),("function"!=typeof e||i!==S)&&(e=$i(e,i,3)),n(t,e)}function ar(t,e,i){if(null==t)return[];i&&Ji(t,e,i)&&(e=S);var n=-1;e=$i(e,i,3);var r=Ie(t,function(t,i,r){return{criteria:e(t,i,r),index:++n,value:t}});return Ke(r,u)}function lr(t,e,i,n){return null==t?[]:(n&&Ji(e,i,n)&&(i=S),Ra(e)||(e=null==e?[]:[e]),Ra(i)||(i=null==i?[]:[i]),Ze(t,e,i))}function hr(t,e){return Zn(t,je(e))}function ur(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new qs(X);var i=t;t=e,e=i}return t=xo(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function cr(t,e,i){return i&&Ji(t,e,i)&&(e=S),e=t&&null==e?t.length:wo(+e||0,0),Ni(t,F,S,S,S,S,e)}function pr(t,e){var i;if("function"!=typeof e){if("function"!=typeof t)throw new qs(X);var n=t;t=e,e=n}return function(){return--t>0&&(i=e.apply(this,arguments)),1>=t&&(e=S),i}}function dr(t,e,i){function n(){d&&oo(d),h&&oo(h),m=0,h=d=f=S}function r(e,i){i&&oo(i),h=d=f=S,e&&(m=ma(),u=t.apply(p,l),d||h||(l=p=S))}function s(){var t=e-(ma()-c);0>=t||t>e?r(f,h):d=co(s,t)}function o(){r(g,d)}function a(){if(l=arguments,c=ma(),p=this,f=g&&(d||!_),v===!1)var i=_&&!d;else{h||_||(m=c);var n=v-(c-m),r=0>=n||n>v;r?(h&&(h=oo(h)),m=c,u=t.apply(p,l)):h||(h=co(o,n))}return r&&d?d=oo(d):d||e===v||(d=co(s,e)),i&&(r=!0,u=t.apply(p,l)),!r||d||h||(l=p=S),u}var l,h,u,c,p,d,f,m=0,v=!1,g=!0;if("function"!=typeof t)throw new qs(X);if(e=0>e?0:+e||0,i===!0){var _=!0;g=!1}else Fr(i)&&(_=!!i.leading,v="maxWait"in i&&wo(+i.maxWait||0,e),g="trailing"in i?!!i.trailing:g);return a.cancel=n,a}function fr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new qs(X);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=t.apply(this,n);return i.cache=s.set(r,o),o};return i.cache=new fr.Cache,i}function mr(t){if("function"!=typeof t)throw new qs(X);return function(){return!t.apply(this,arguments)}}function vr(t){return pr(2,t)}function gr(t,e){if("function"!=typeof t)throw new qs(X);return e=wo(e===S?t.length-1:+e||0,0),function(){for(var i=arguments,n=-1,r=wo(i.length-e,0),s=$s(r);++n<r;)s[n]=i[e+n];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var o=$s(e+1);for(n=-1;++n<e;)o[n]=i[n];return o[e]=s,t.apply(this,o)}}function _r(t){if("function"!=typeof t)throw new qs(X);return function(e){return t.apply(this,e)}}function yr(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new qs(X);return i===!1?n=!1:Fr(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),dr(t,e,{leading:n,maxWait:+e,trailing:r})}function xr(t,e){return e=null==e?As:e,Ni(e,D,S,[t],[])}function br(t,e,i,n){return e&&"boolean"!=typeof e&&Ji(t,e,i)?e=!1:"function"==typeof e&&(n=i,i=e,e=!1),"function"==typeof i?be(t,e,si(i,n,1)):be(t,e)}function wr(t,e,i){return"function"==typeof e?be(t,!0,si(e,i,1)):be(t,!0)}function Tr(t,e){return t>e}function Er(t,e){return t>=e}function Sr(t){return g(t)&&Ki(t)&&to.call(t,"callee")&&!ho.call(t,"callee")}function Cr(t){return t===!0||t===!1||g(t)&&io.call(t)==G}function Ar(t){return g(t)&&io.call(t)==V}function Pr(t){return!!t&&1===t.nodeType&&g(t)&&!$r(t)}function Rr(t){return null==t?!0:Ki(t)&&(Ra(t)||zr(t)||Sr(t)||g(t)&&kr(t.splice))?!t.length:!$a(t).length}function Or(t,e,i,n){i="function"==typeof i?si(i,n,3):S;var r=i?i(t,e):S;return r===S?Le(t,e,i):!!r}function Mr(t){return g(t)&&"string"==typeof t.message&&io.call(t)==q}function Dr(t){return"number"==typeof t&&xo(t)}function kr(t){return Fr(t)&&io.call(t)==K}function Fr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Lr(t,e,i,n){return i="function"==typeof i?si(i,n,3):S,Be(t,Xi(e),i)}function Nr(t){return jr(t)&&t!=+t}function Br(t){return null==t?!1:kr(t)?ro.test(Qs.call(t)):g(t)&&Ft.test(t)}function Ir(t){return null===t}function jr(t){return"number"==typeof t||g(t)&&io.call(t)==J}function $r(t){var e;if(!g(t)||io.call(t)!=Q||Sr(t)||!to.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var i;return Oe(t,function(t,e){i=e}),i===S||to.call(t,i)}function Ur(t){return Fr(t)&&io.call(t)==tt}function zr(t){return"string"==typeof t||g(t)&&io.call(t)==it}function Xr(t){return g(t)&&en(t.length)&&!!zt[io.call(t)]}function Hr(t){return t===S}function Wr(t,e){return e>t}function Yr(t,e){return e>=t}function Gr(t){var e=t?zo(t):0;return en(e)?e?te(t):[]:ss(t)}function Vr(t){return ye(t,ts(t))}function qr(t,e,i){var n=Lo(t);return i&&Ji(t,e,i)&&(e=S),e?ge(n,e):n}function Kr(t){return ke(t,ts(t))}function Zr(t,e,i){var n=null==t?S:Fe(t,pn(e),e+"");return n===S?i:n}function Jr(t,e){if(null==t)return!1;var i=to.call(t,e);if(!i&&!Qi(e)){if(e=pn(e),t=1==e.length?t:Fe(t,Ve(e,0,-1)),null==t)return!1;e=Cn(e),i=to.call(t,e)}return i||en(t.length)&&Zi(e,t.length)&&(Ra(t)||Sr(t))}function Qr(t,e,i){i&&Ji(t,e,i)&&(e=S);for(var n=-1,r=$a(t),s=r.length,o={};++n<s;){var a=r[n],l=t[a];e?to.call(o,l)?o[l].push(a):o[l]=[a]:o[l]=a}return o}function ts(t){if(null==t)return[];Fr(t)||(t=Ys(t));var e=t.length;e=e&&en(e)&&(Ra(t)||Sr(t))&&e||0;for(var i=t.constructor,n=-1,r="function"==typeof i&&i.prototype===t,s=$s(e),o=e>0;++n<e;)s[n]=n+"";for(var a in t)o&&Zi(a,e)||"constructor"==a&&(r||!to.call(t,a))||s.push(a);return s}function es(t){t=cn(t);for(var e=-1,i=$a(t),n=i.length,r=$s(n);++e<n;){var s=i[e];r[e]=[s,t[s]]}return r}function is(t,e,i){var n=null==t?S:t[e];return n===S&&(null==t||Qi(e,t)||(e=pn(e),t=1==e.length?t:Fe(t,Ve(e,0,-1)),n=null==t?S:t[Cn(e)]),n=n===S?i:n),kr(n)?n.call(t):n}function ns(t,e,i){if(null==t)return t;var n=e+"";e=null!=t[n]||Qi(e,t)?[n]:pn(e);for(var r=-1,s=e.length,o=s-1,a=t;null!=a&&++r<s;){var l=e[r];Fr(a)&&(r==o?a[l]=i:null==a[l]&&(a[l]=Zi(e[r+1])?[]:{})),a=a[l]}return t}function rs(t,e,i,n){var r=Ra(t)||Xr(t);if(e=$i(e,n,4),null==i)if(r||Fr(t)){var s=t.constructor;i=r?Ra(t)?new s:[]:Lo(kr(s)?s.prototype:S)}else i={};return(r?ee:Me)(t,function(t,n,r){return e(i,t,n,r)}),i}function ss(t){return ti(t,$a(t))}function os(t){return ti(t,ts(t))}function as(t,e,i){return e=+e||0,i===S?(i=e,e=0):i=+i||0,t>=To(e,i)&&t<wo(e,i)}function ls(t,e,i){i&&Ji(t,e,i)&&(e=i=S);var n=null==t,r=null==e;if(null==i&&(r&&"boolean"==typeof t?(i=t,t=1):"boolean"==typeof e&&(i=e,r=!0)),n&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,i||t%1||e%1){var s=Co();return To(t+s*(e-t+ao("1e-"+((s+"").length-1))),e)}return Ye(t,e)}function hs(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function us(t){return t=a(t),t&&t.replace(Nt,p).replace(Rt,"")}function cs(t,e,i){t=a(t),e+="";var n=t.length;return i=i===S?n:To(0>i?0:+i||0,n),i-=e.length,i>=0&&t.indexOf(e,i)==i}function ps(t){return t=a(t),
t&&xt.test(t)?t.replace(_t,d):t}function ds(t){return t=a(t),t&&Pt.test(t)?t.replace(At,f):t||"(?:)"}function fs(t,e,i){t=a(t),e=+e;var n=t.length;if(n>=e||!xo(e))return t;var r=(e-n)/2,s=_o(r),o=vo(r);return i=Di("",o,i),i.slice(0,s)+t+i}function ms(t,e,i){return(i?Ji(t,e,i):null==e)?e=0:e&&(e=+e),t=ys(t),So(t,e||(kt.test(t)?16:10))}function vs(t,e){var i="";if(t=a(t),e=+e,1>e||!t||!xo(e))return i;do e%2&&(i+=t),e=_o(e/2),t+=t;while(e);return i}function gs(t,e,i){return t=a(t),i=null==i?0:To(0>i?0:+i||0,t.length),t.lastIndexOf(e,i)==i}function _s(t,i,n){var r=e.templateSettings;n&&Ji(t,i,n)&&(i=n=S),t=a(t),i=ve(ge({},n||i),r,me);var s,o,l=ve(ge({},i.imports),r.imports,me),h=$a(l),u=ti(l,h),c=0,p=i.interpolate||Bt,d="__p += '",f=Gs((i.escape||Bt).source+"|"+p.source+"|"+(p===Tt?Mt:Bt).source+"|"+(i.evaluate||Bt).source+"|$","g"),v="//# sourceURL="+("sourceURL"in i?i.sourceURL:"lodash.templateSources["+ ++Ut+"]")+"\n";t.replace(f,function(e,i,n,r,a,l){return n||(n=r),d+=t.slice(c,l).replace(It,m),i&&(s=!0,d+="' +\n__e("+i+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),d+="';\n";var g=i.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ft,""):d).replace(mt,"$1").replace(vt,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var _=Za(function(){return Xs(h,v+"return "+d).apply(S,u)});if(_.source=d,Mr(_))throw _;return _}function ys(t,e,i){var n=t;return(t=a(t))?(i?Ji(n,e,i):null==e)?t.slice(b(t),w(t)+1):(e+="",t.slice(l(t,e),h(t,e)+1)):t}function xs(t,e,i){var n=t;return t=a(t),t?(i?Ji(n,e,i):null==e)?t.slice(b(t)):t.slice(l(t,e+"")):t}function bs(t,e,i){var n=t;return t=a(t),t?(i?Ji(n,e,i):null==e)?t.slice(0,w(t)+1):t.slice(0,h(t,e+"")+1):t}function ws(t,e,i){i&&Ji(t,e,i)&&(e=S);var n=N,r=B;if(null!=e)if(Fr(e)){var s="separator"in e?e.separator:s;n="length"in e?+e.length||0:n,r="omission"in e?a(e.omission):r}else n=+e||0;if(t=a(t),n>=t.length)return t;var o=n-r.length;if(1>o)return r;var l=t.slice(0,o);if(null==s)return l+r;if(Ur(s)){if(t.slice(o).search(s)){var h,u,c=t.slice(0,o);for(s.global||(s=Gs(s.source,(Dt.exec(s)||"")+"g")),s.lastIndex=0;h=s.exec(c);)u=h.index;l=l.slice(0,null==u?o:u)}}else if(t.indexOf(s,o)!=o){var p=l.lastIndexOf(s);p>-1&&(l=l.slice(0,p))}return l+r}function Ts(t){return t=a(t),t&&yt.test(t)?t.replace(gt,T):t}function Es(t,e,i){return i&&Ji(t,e,i)&&(e=S),t=a(t),t.match(e||jt)||[]}function Ss(t,e,i){return i&&Ji(t,e,i)&&(e=S),g(t)?Ps(t):xe(t,e)}function Cs(t){return function(){return t}}function As(t){return t}function Ps(t){return je(be(t,!0))}function Rs(t,e){return $e(t,be(e,!0))}function Os(t,e,i){if(null==i){var n=Fr(e),r=n?$a(e):S,s=r&&r.length?ke(e,r):S;(s?s.length:n)||(s=!1,i=e,e=t,t=this)}s||(s=ke(e,$a(e)));var o=!0,a=-1,l=kr(t),h=s.length;i===!1?o=!1:Fr(i)&&"chain"in i&&(o=i.chain);for(;++a<h;){var u=s[a],c=e[u];t[u]=c,l&&(t.prototype[u]=function(e){return function(){var i=this.__chain__;if(o||i){var n=t(this.__wrapped__),r=n.__actions__=te(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),n.__chain__=i,n}return e.apply(t,he([this.value()],arguments))}}(c))}return t}function Ms(){return ie._=no,this}function Ds(){}function ks(t){return Qi(t)?Xe(t):He(t)}function Fs(t){return function(e){return Fe(t,pn(e),e+"")}}function Ls(t,e,i){i&&Ji(t,e,i)&&(e=i=S),t=+t||0,i=null==i?1:+i||0,null==e?(e=t,t=0):e=+e||0;for(var n=-1,r=wo(vo((e-t)/(i||1)),0),s=$s(r);++n<r;)s[n]=t,t+=i;return s}function Ns(t,e,i){if(t=_o(t),1>t||!xo(t))return[];var n=-1,r=$s(To(t,Ro));for(e=si(e,i,1);++n<t;)Ro>n?r[n]=e(n):e(n);return r}function Bs(t){var e=++eo;return a(t)+e}function Is(t,e){return(+t||0)+(+e||0)}function js(t,e,i){return i&&Ji(t,e,i)&&(e=S),e=$i(e,i,3),1==e.length?de(Ra(t)?t:un(t),e):Je(t,e)}t=t?ne.defaults(ie.Object(),t,ne.pick(ie,$t)):ie;var $s=t.Array,Us=t.Date,zs=t.Error,Xs=t.Function,Hs=t.Math,Ws=t.Number,Ys=t.Object,Gs=t.RegExp,Vs=t.String,qs=t.TypeError,Ks=$s.prototype,Zs=Ys.prototype,Js=Vs.prototype,Qs=Xs.prototype.toString,to=Zs.hasOwnProperty,eo=0,io=Zs.toString,no=ie._,ro=Gs("^"+Qs.call(to).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=t.ArrayBuffer,oo=t.clearTimeout,ao=t.parseFloat,lo=Hs.pow,ho=Zs.propertyIsEnumerable,uo=Hi(t,"Set"),co=t.setTimeout,po=Ks.splice,fo=t.Uint8Array,mo=Hi(t,"WeakMap"),vo=Hs.ceil,go=Hi(Ys,"create"),_o=Hs.floor,yo=Hi($s,"isArray"),xo=t.isFinite,bo=Hi(Ys,"keys"),wo=Hs.max,To=Hs.min,Eo=Hi(Us,"now"),So=t.parseInt,Co=Hs.random,Ao=Ws.NEGATIVE_INFINITY,Po=Ws.POSITIVE_INFINITY,Ro=4294967295,Oo=Ro-1,Mo=Ro>>>1,Do=9007199254740991,ko=mo&&new mo,Fo={};e.support={};e.templateSettings={escape:bt,evaluate:wt,interpolate:Tt,variable:"",imports:{_:e}};var Lo=function(){function t(){}return function(e){if(Fr(e)){t.prototype=e;var i=new t;t.prototype=S}return i||{}}}(),No=ci(Me),Bo=ci(De,!0),Io=pi(),jo=pi(!0),$o=ko?function(t,e){return ko.set(t,e),t}:As,Uo=ko?function(t){return ko.get(t)}:Ds,zo=Xe("length"),Xo=function(){var t=0,e=0;return function(i,n){var r=ma(),s=j-(r-e);if(e=r,s>0){if(++t>=I)return i}else t=0;return $o(i,n)}}(),Ho=gr(function(t,e){return g(t)&&Ki(t)?Te(t,Re(e,!1,!0)):[]}),Wo=bi(),Yo=bi(!0),Go=gr(function(t){for(var e=t.length,i=e,n=$s(c),r=zi(),o=r==s,a=[];i--;){var l=t[i]=Ki(l=t[i])?l:[];n[i]=o&&l.length>=120?fi(i&&l):null}var h=t[0],u=-1,c=h?h.length:0,p=n[0];t:for(;++u<c;)if(l=h[u],(p?Zt(p,l):r(a,l,0))<0){for(var i=e;--i;){var d=n[i];if((d?Zt(d,l):r(t[i],l,0))<0)continue t}p&&p.push(l),a.push(l)}return a}),Vo=gr(function(t,e){e=Re(e);var i=_e(t,e);return We(t,e.sort(n)),i}),qo=Li(),Ko=Li(!0),Zo=gr(function(t){return Qe(Re(t,!1,!0))}),Jo=gr(function(t,e){return Ki(t)?Te(t,e):[]}),Qo=gr(Bn),ta=gr(function(t){var e=t.length,i=e>2?t[e-2]:S,n=e>1?t[e-1]:S;return e>2&&"function"==typeof i?e-=2:(i=e>1&&"function"==typeof n?(--e,n):S,n=S),t.length=e,In(t,i,n)}),ea=gr(function(t){return t=Re(t),this.thru(function(e){return Qt(Ra(e)?e:[cn(e)],t)})}),ia=gr(function(t,e){return _e(t,Re(e))}),na=hi(function(t,e,i){to.call(t,i)?++t[i]:t[i]=1}),ra=xi(No),sa=xi(Bo,!0),oa=Ei(ee,No),aa=Ei(re,Bo),la=hi(function(t,e,i){to.call(t,i)?t[i].push(e):t[i]=[e]}),ha=hi(function(t,e,i){t[i]=e}),ua=gr(function(t,e,i){var n=-1,r="function"==typeof e,s=Qi(e),o=Ki(t)?$s(t.length):[];return No(t,function(t){var a=r?e:s&&null!=t?t[e]:S;o[++n]=a?a.apply(t,i):qi(t,e,i)}),o}),ca=hi(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]}),pa=Oi(ue,No),da=Oi(ce,Bo),fa=gr(function(t,e){if(null==t)return[];var i=e[2];return i&&Ji(e[0],e[1],i)&&(e.length=1),Ze(t,Re(e),[])}),ma=Eo||function(){return(new Us).getTime()},va=gr(function(t,e,i){var n=A;if(i.length){var r=y(i,va.placeholder);n|=D}return Ni(t,n,e,i,r)}),ga=gr(function(t,e){e=e.length?Re(e):Kr(t);for(var i=-1,n=e.length;++i<n;){var r=e[i];t[r]=Ni(t[r],A,t)}return t}),_a=gr(function(t,e,i){var n=A|P;if(i.length){var r=y(i,_a.placeholder);n|=D}return Ni(e,n,t,i,r)}),ya=gi(O),xa=gi(M),ba=gr(function(t,e){return we(t,1,e)}),wa=gr(function(t,e,i){return we(t,e,i)}),Ta=Ti(),Ea=Ti(!0),Sa=gr(function(t,e){if(e=Re(e),"function"!=typeof t||!se(e,o))throw new qs(X);var i=e.length;return gr(function(n){for(var r=To(n.length,i);r--;)n[r]=e[r](n[r]);return t.apply(this,n)})}),Ca=Ri(D),Aa=Ri(k),Pa=gr(function(t,e){return Ni(t,L,S,S,S,Re(e))}),Ra=yo||function(t){return g(t)&&en(t.length)&&io.call(t)==Y},Oa=ui(Ue),Ma=ui(function(t,e,i){return i?ve(t,e,i):ge(t,e)}),Da=_i(Ma,fe),ka=_i(Oa,sn),Fa=wi(Me),La=wi(De),Na=Si(Io),Ba=Si(jo),Ia=Ci(Me),ja=Ci(De),$a=bo?function(t){var e=null==t?S:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Ki(t)?hn(t):Fr(t)?bo(t):[]}:hn,Ua=Ai(!0),za=Ai(),Xa=gr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(Re(e),Vs);return on(t,Te(ts(t),e))}var i=si(e[0],e[1],3);return an(t,function(t,e,n){return!i(t,e,n)})}),Ha=gr(function(t,e){return null==t?{}:"function"==typeof e[0]?an(t,si(e[0],e[1],3)):on(t,Re(e))}),Wa=mi(function(t,e,i){return e=e.toLowerCase(),t+(i?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ya=mi(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),Ga=Pi(),Va=Pi(!0),qa=mi(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}),Ka=mi(function(t,e,i){return t+(i?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Za=gr(function(t,e){try{return t.apply(S,e)}catch(i){return Mr(i)?i:new zs(i)}}),Ja=gr(function(t,e){return function(i){return qi(i,t,e)}}),Qa=gr(function(t,e){return function(i){return qi(t,i,e)}}),tl=Fi("ceil"),el=Fi("floor"),il=yi(Tr,Ao),nl=yi(Wr,Po),rl=Fi("round");return e.prototype=i.prototype,_.prototype=Lo(i.prototype),_.prototype.constructor=_,Z.prototype=Lo(i.prototype),Z.prototype.constructor=Z,Wt.prototype["delete"]=Yt,Wt.prototype.get=Gt,Wt.prototype.has=Vt,Wt.prototype.set=qt,Kt.prototype.push=Jt,fr.Cache=Wt,e.after=ur,e.ary=cr,e.assign=Ma,e.at=ia,e.before=pr,e.bind=va,e.bindAll=ga,e.bindKey=_a,e.callback=Ss,e.chain=Un,e.chunk=fn,e.compact=mn,e.constant=Cs,e.countBy=na,e.create=qr,e.curry=ya,e.curryRight=xa,e.debounce=dr,e.defaults=Da,e.defaultsDeep=ka,e.defer=ba,e.delay=wa,e.difference=Ho,e.drop=vn,e.dropRight=gn,e.dropRightWhile=_n,e.dropWhile=yn,e.fill=xn,e.filter=Zn,e.flatten=wn,e.flattenDeep=Tn,e.flow=Ta,e.flowRight=Ea,e.forEach=oa,e.forEachRight=aa,e.forIn=Na,e.forInRight=Ba,e.forOwn=Ia,e.forOwnRight=ja,e.functions=Kr,e.groupBy=la,e.indexBy=ha,e.initial=Sn,e.intersection=Go,e.invert=Qr,e.invoke=ua,e.keys=$a,e.keysIn=ts,e.map=tr,e.mapKeys=Ua,e.mapValues=za,e.matches=Ps,e.matchesProperty=Rs,e.memoize=fr,e.merge=Oa,e.method=Ja,e.methodOf=Qa,e.mixin=Os,e.modArgs=Sa,e.negate=mr,e.omit=Xa,e.once=vr,e.pairs=es,e.partial=Ca,e.partialRight=Aa,e.partition=ca,e.pick=Ha,e.pluck=er,e.property=ks,e.propertyOf=Fs,e.pull=Pn,e.pullAt=Vo,e.range=Ls,e.rearg=Pa,e.reject=ir,e.remove=Rn,e.rest=On,e.restParam=gr,e.set=ns,e.shuffle=rr,e.slice=Mn,e.sortBy=ar,e.sortByAll=fa,e.sortByOrder=lr,e.spread=_r,e.take=Dn,e.takeRight=kn,e.takeRightWhile=Fn,e.takeWhile=Ln,e.tap=zn,e.throttle=yr,e.thru=Xn,e.times=Ns,e.toArray=Gr,e.toPlainObject=Vr,e.transform=rs,e.union=Zo,e.uniq=Nn,e.unzip=Bn,e.unzipWith=In,e.values=ss,e.valuesIn=os,e.where=hr,e.without=Jo,e.wrap=xr,e.xor=jn,e.zip=Qo,e.zipObject=$n,e.zipWith=ta,e.backflow=Ea,e.collect=tr,e.compose=Ea,e.each=oa,e.eachRight=aa,e.extend=Ma,e.iteratee=Ss,e.methods=Kr,e.object=$n,e.select=Zn,e.tail=On,e.unique=Nn,Os(e,e),e.add=Is,e.attempt=Za,e.camelCase=Wa,e.capitalize=hs,e.ceil=tl,e.clone=br,e.cloneDeep=wr,e.deburr=us,e.endsWith=cs,e.escape=ps,e.escapeRegExp=ds,e.every=Kn,e.find=ra,e.findIndex=Wo,e.findKey=Fa,e.findLast=sa,e.findLastIndex=Yo,e.findLastKey=La,e.findWhere=Jn,e.first=bn,e.floor=el,e.get=Zr,e.gt=Tr,e.gte=Er,e.has=Jr,e.identity=As,e.includes=Qn,e.indexOf=En,e.inRange=as,e.isArguments=Sr,e.isArray=Ra,e.isBoolean=Cr,e.isDate=Ar,e.isElement=Pr,e.isEmpty=Rr,e.isEqual=Or,e.isError=Mr,e.isFinite=Dr,e.isFunction=kr,e.isMatch=Lr,e.isNaN=Nr,e.isNative=Br,e.isNull=Ir,e.isNumber=jr,e.isObject=Fr,e.isPlainObject=$r,e.isRegExp=Ur,e.isString=zr,e.isTypedArray=Xr,e.isUndefined=Hr,e.kebabCase=Ya,e.last=Cn,e.lastIndexOf=An,e.lt=Wr,e.lte=Yr,e.max=il,e.min=nl,e.noConflict=Ms,e.noop=Ds,e.now=ma,e.pad=fs,e.padLeft=Ga,e.padRight=Va,e.parseInt=ms,e.random=ls,e.reduce=pa,e.reduceRight=da,e.repeat=vs,e.result=is,e.round=rl,e.runInContext=E,e.size=sr,e.snakeCase=qa,e.some=or,e.sortedIndex=qo,e.sortedLastIndex=Ko,e.startCase=Ka,e.startsWith=gs,e.sum=js,e.template=_s,e.trim=ys,e.trimLeft=xs,e.trimRight=bs,e.trunc=ws,e.unescape=Ts,e.uniqueId=Bs,e.words=Es,e.all=Kn,e.any=or,e.contains=Qn,e.eq=Or,e.detect=ra,e.foldl=pa,e.foldr=da,e.head=bn,e.include=Qn,e.inject=pa,Os(e,function(){var t={};return Me(e,function(i,n){e.prototype[n]||(t[n]=i)}),t}(),!1),e.sample=nr,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return nr(e,t)}):nr(this.value())},e.VERSION=C,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){Z.prototype[t]=function(i){var n=this.__filtered__;if(n&&!e)return new Z(this);i=null==i?1:wo(_o(i)||0,0);var r=this.clone();return n?r.__takeCount__=To(r.__takeCount__,i):r.__views__.push({size:i,type:t+(r.__dir__<0?"Right":"")}),r},Z.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var i=e+1,n=i!=z;Z.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:$i(t,e,1),type:i}),r.__filtered__=r.__filtered__||n,r}}),ee(["first","last"],function(t,e){var i="take"+(e?"Right":"");Z.prototype[t]=function(){return this[i](1).value()[0]}}),ee(["initial","rest"],function(t,e){var i="drop"+(e?"":"Right");Z.prototype[t]=function(){return this.__filtered__?new Z(this):this[i](1)}}),ee(["pluck","where"],function(t,e){var i=e?"filter":"map",n=e?je:ks;Z.prototype[t]=function(t){return this[i](n(t))}}),Z.prototype.compact=function(){return this.filter(As)},Z.prototype.reject=function(t,e){return t=$i(t,e,1),this.filter(function(e){return!t(e)})},Z.prototype.slice=function(t,e){t=null==t?0:+t||0;var i=this;return i.__filtered__&&(t>0||0>e)?new Z(i):(0>t?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==S&&(e=+e||0,i=0>e?i.dropRight(-e):i.take(e-t)),i)},Z.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Z.prototype.toArray=function(){return this.take(Po)},Me(Z.prototype,function(t,i){var n=/^(?:filter|map|reject)|While$/.test(i),r=/^(?:first|last)$/.test(i),s=e[r?"take"+("last"==i?"Right":""):i];s&&(e.prototype[i]=function(){var e=r?[1]:arguments,i=this.__chain__,o=this.__wrapped__,a=!!this.__actions__.length,l=o instanceof Z,h=e[0],u=l||Ra(o);u&&n&&"function"==typeof h&&1!=h.length&&(l=u=!1);var c=function(t){return r&&i?s(t,1)[0]:s.apply(S,he([t],e))},p={func:Xn,args:[c],thisArg:S},d=l&&!a;if(r&&!i)return d?(o=o.clone(),o.__actions__.push(p),t.call(o)):s.call(S,this.value())[0];if(!r&&u){o=d?o:new Z(this);var f=t.apply(o,e);return f.__actions__.push(p),new _(f,i)}return this.thru(c)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var i=(/^(?:replace|split)$/.test(t)?Js:Ks)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?i.apply(this.value(),t):this[n](function(e){return i.apply(e,t)})}}),Me(Z.prototype,function(t,i){var n=e[i];if(n){var r=n.name,s=Fo[r]||(Fo[r]=[]);s.push({name:i,func:n})}}),Fo[Mi(S,P).name]=[{name:"wrapper",func:S}],Z.prototype.clone=et,Z.prototype.reverse=nt,Z.prototype.value=Ht,e.prototype.chain=Hn,e.prototype.commit=Wn,e.prototype.concat=ea,e.prototype.plant=Yn,e.prototype.reverse=Gn,e.prototype.toString=Vn,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=qn,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var S,C="3.10.1",A=1,P=2,R=4,O=8,M=16,D=32,k=64,F=128,L=256,N=30,B="...",I=150,j=16,$=200,U=1,z=2,X="Expected a function",H="__lodash_placeholder__",W="[object Arguments]",Y="[object Array]",G="[object Boolean]",V="[object Date]",q="[object Error]",K="[object Function]",Z="[object Map]",J="[object Number]",Q="[object Object]",tt="[object RegExp]",et="[object Set]",it="[object String]",nt="[object WeakMap]",rt="[object ArrayBuffer]",st="[object Float32Array]",ot="[object Float64Array]",at="[object Int8Array]",lt="[object Int16Array]",ht="[object Int32Array]",ut="[object Uint8Array]",ct="[object Uint8ClampedArray]",pt="[object Uint16Array]",dt="[object Uint32Array]",ft=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,vt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,_t=/[&<>"'`]/g,yt=RegExp(gt.source),xt=RegExp(_t.source),bt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,St=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,At=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Pt=RegExp(At.source),Rt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ot=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,kt=/^0[xX]/,Ft=/^\[object .+?Constructor\]$/,Lt=/^\d+$/,Nt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Bt=/($^)/,It=/['\n\r\u2028\u2029\\]/g,jt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),$t=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ut=-1,zt={};zt[st]=zt[ot]=zt[at]=zt[lt]=zt[ht]=zt[ut]=zt[ct]=zt[pt]=zt[dt]=!0,zt[W]=zt[Y]=zt[rt]=zt[G]=zt[V]=zt[q]=zt[K]=zt[Z]=zt[J]=zt[Q]=zt[tt]=zt[et]=zt[it]=zt[nt]=!1;var Xt={};Xt[W]=Xt[Y]=Xt[rt]=Xt[G]=Xt[V]=Xt[st]=Xt[ot]=Xt[at]=Xt[lt]=Xt[ht]=Xt[J]=Xt[Q]=Xt[tt]=Xt[it]=Xt[ut]=Xt[ct]=Xt[pt]=Xt[dt]=!0,Xt[q]=Xt[K]=Xt[Z]=Xt[et]=Xt[nt]=!1;var Ht={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Yt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Gt={"function":!0,object:!0},Vt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kt=Gt[typeof i]&&i&&!i.nodeType&&i,Zt=Gt[typeof e]&&e&&!e.nodeType&&e,Jt=Kt&&Zt&&"object"==typeof t&&t&&t.Object&&t,Qt=Gt[typeof self]&&self&&self.Object&&self,te=Gt[typeof window]&&window&&window.Object&&window,ee=Zt&&Zt.exports===Kt&&Kt,ie=Jt||te!==(this&&this.window)&&te||Qt||this,ne=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ie._=ne,define(function(){return ne})):Kt&&Zt?ee?(Zt.exports=ne)._=ne:Kt._=ne:ie._=ne}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var i,o,a=n(t),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var h in i)r.call(i,h)&&(a[h]=i[h]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(i);for(var u=0;u<o.length;u++)s.call(i,o[u])&&(a[o[u]]=i[o[u]])}}return a}},{}],69:[function(t,e,i){(function(i){"use strict";function n(t,e){if("function"==typeof t)return n("*",t);if("function"==typeof e)for(var i=new a(t),r=1;r<arguments.length;++r)n.callbacks.push(i.middleware(arguments[r]));else"string"==typeof t?n["string"==typeof e?"redirect":"show"](t,e):n.start(t)}function r(t){if(!t.handled){var e;e=y?_+m.hash.replace("#!",""):m.pathname+m.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,m.href=t.canonicalPath)}}function s(t){return"string"!=typeof t?t:g?decodeURIComponent(t.replace(/\+/g," ")):t}function o(t,e){"/"===t[0]&&0!==t.indexOf(_)&&(t=_+(y?"#!":"")+t);var i=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(_,"")||"/",y&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~i?s(t.slice(i+1)):"",this.pathname=s(~i?t.slice(0,i):t),this.params={},this.hash="",!y){if(!~this.path.indexOf("#"))return;var n=this.path.split("#");this.path=n[0],this.hash=s(n[1])||"",this.querystring=this.querystring.split("#")[0]}}function a(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=c(this.path,this.keys=[],e.sensitive,e.strict)}function l(t){if(1===h(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!==e.nodeName;)e=e.parentNode;if(e&&"A"===e.nodeName&&!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var r=e.getAttribute("href");if((y||e.pathname!==m.pathname||!e.hash&&"#"!==r)&&!(r&&r.indexOf("mailto:")>-1)&&!e.target&&u(e.href)){var s=e.pathname+e.search+(e.hash||"");"undefined"!=typeof i&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var o=s;0===s.indexOf(_)&&(s=s.substr(_.length)),y&&(s=s.replace("#!","")),_&&o===s||(t.preventDefault(),n.show(o))}}}}function h(t){return t=t||window.event,null===t.which?t.button:t.which}function u(t){var e=m.protocol+"//"+m.hostname;return m.port&&(e+=":"+m.port),t&&0===t.indexOf(e)}var c=t("path-to-regexp");e.exports=n;var p,d,f="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",m="undefined"!=typeof window&&(window.history.location||window.location),v=!0,g=!0,_="",y=!1;n.callbacks=[],n.exits=[],n.current="",n.len=0,n.base=function(t){return 0===arguments.length?_:void(_=t)},n.start=function(t){if(t=t||{},!p&&(p=!0,!1===t.dispatch&&(v=!1),!1===t.decodeURLComponents&&(g=!1),!1!==t.popstate&&window.addEventListener("popstate",x,!1),!1!==t.click&&document.addEventListener(f,l,!1),!0===t.hashbang&&(y=!0),v)){var e=y&&~m.hash.indexOf("#!")?m.hash.substr(2)+m.search:m.pathname+m.search+m.hash;n.replace(e,null,!0,v)}},n.stop=function(){p&&(n.current="",n.len=0,p=!1,document.removeEventListener(f,l,!1),window.removeEventListener("popstate",x,!1))},n.show=function(t,e,i,r){var s=new o(t,e);return n.current=s.path,!1!==i&&n.dispatch(s),!1!==s.handled&&!1!==r&&s.pushState(),s},n.back=function(t,e){n.len>0?(history.back(),n.len--):t?setTimeout(function(){n.show(t,e)}):setTimeout(function(){n.show(_,e)})},n.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&n(t,function(t){setTimeout(function(){n.replace(e)},0)}),"string"==typeof t&&"undefined"==typeof e&&setTimeout(function(){n.replace(t)},0)},n.replace=function(t,e,i,r){var s=new o(t,e);return n.current=s.path,s.init=i,s.save(),!1!==r&&n.dispatch(s),s},n.dispatch=function(t){function e(){var t=n.exits[a++];return t?void t(s,e):i()}function i(){var e=n.callbacks[o++];return t.path!==n.current?void(t.handled=!1):e?void e(t,i):r(t)}var s=d,o=0,a=0;d=t,s?e():i()},n.exit=function(t,e){if("function"==typeof t)return n.exit("*",t);for(var i=new a(t),r=1;r<arguments.length;++r)n.exits.push(i.middleware(arguments[r]))},n.Context=o,o.prototype.pushState=function(){n.len++,history.pushState(this.state,this.title,y&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},o.prototype.save=function(){history.replaceState(this.state,this.title,y&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},n.Route=a,a.prototype.middleware=function(t){var e=this;return function(i,n){return e.match(i.path,i.params)?t(i,n):void n()}},a.prototype.match=function(t,e){var i=this.keys,n=t.indexOf("?"),r=~n?t.slice(0,n):t,o=this.regexp.exec(decodeURIComponent(r));if(!o)return!1;for(var a=1,l=o.length;l>a;++a){var h=i[a-1],u=s(o[a]);void 0===u&&hasOwnProperty.call(e,h.name)||(e[h.name]=u)}return!0};var x=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(e){if(t)if(e.state){var i=e.state.path;n.replace(i,e.state)}else n.show(m.pathname+m.hash,void 0,void 0,!1)}}();n.sameOrigin=u}).call(this,t("_process"))},{_process:184,"path-to-regexp":71}],70:[function(t,e,i){(function(t){function e(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return r.exec(t).slice(1)};i.resolve=function(){for(var i="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var o=s>=0?arguments[s]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(i=o+"/"+i,r="/"===o.charAt(0))}return i=e(n(i.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+i||"."},i.normalize=function(t){var r=i.isAbsolute(t),s="/"===o(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},i.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=i.resolve(t).substr(1),e=i.resolve(e).substr(1);for(var r=n(t.split("/")),s=n(e.split("/")),o=Math.min(r.length,s.length),a=o,l=0;o>l;l++)if(r[l]!==s[l]){a=l;break}for(var h=[],l=a;l<r.length;l++)h.push("..");return h=h.concat(s.slice(a)),h.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){var e=s(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},i.basename=function(t,e){var i=s(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},i.extname=function(t){return s(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return 0>e&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:184}],71:[function(t,e,i){function n(t){for(var e,i=[],n=0,r=0,s="";null!=(e=v.exec(t));){var o=e[0],l=e[1],h=e.index;if(s+=t.slice(r,h),r=h+o.length,l)s+=l[1];else{s&&(i.push(s),s="");var u=e[2],c=e[3],p=e[4],d=e[5],f=e[6],m=e[7],g="+"===f||"*"===f,_="?"===f||"*"===f,y=u||"/",x=p||d||(m?".*":"[^"+y+"]+?");i.push({name:c||n++,prefix:u||"",delimiter:y,optional:_,repeat:g,pattern:a(x)})}}return r<t.length&&(s+=t.substr(r)),s&&i.push(s),i}function r(t){return s(n(t))}function s(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(e[i]=new RegExp("^"+t[i].pattern+"$"));return function(i){for(var n="",r=i||{},s=0;s<t.length;s++){var o=t[s];if("string"!=typeof o){var a,l=r[o.name];if(null==l){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to be defined')}if(m(l)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received "'+l+'"');if(0===l.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(a=encodeURIComponent(l[h]),!e[s].test(a))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received "'+a+'"');n+=(0===h?o.prefix:o.delimiter)+a}}else{if(a=encodeURIComponent(l),!e[s].test(a))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+a+'"');n+=o.prefix+a}}else n+=o}return n}}function o(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function a(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t.sensitive?"":"i"}function u(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(t,e)}function c(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(f(t[r],e,i).source);var s=new RegExp("(?:"+n.join("|")+")",h(i));return l(s,e)}function p(t,e,i){for(var r=n(t),s=d(r,i),o=0;o<r.length;o++)"string"!=typeof r[o]&&e.push(r[o]);return l(s,e)}function d(t,e){e=e||{};for(var i=e.strict,n=e.end!==!1,r="",s=t[t.length-1],a="string"==typeof s&&/\/$/.test(s),l=0;l<t.length;l++){var u=t[l];if("string"==typeof u)r+=o(u);else{var c=o(u.prefix),p=u.pattern;u.repeat&&(p+="(?:"+c+p+")*"),p=u.optional?c?"(?:"+c+"("+p+"))?":"("+p+")?":c+"("+p+")",r+=p}}return i||(r=(a?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=n?"$":i&&a?"":"(?=\\/|$)",new RegExp("^"+r,h(e))}function f(t,e,i){return e=e||[],m(e)?i||(i={}):(i=e,e=[]),t instanceof RegExp?u(t,e,i):m(t)?c(t,e,i):p(t,e,i)}var m=t("isarray");e.exports=f,e.exports.parse=n,e.exports.compile=r,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:66}],72:[function(t,e,i){e.exports={_args:[["pixi.js@^3.0.7","/Users/niko/Documents/_REDCORNER/le-dernier-gaulois"]],_from:"pixi.js@>=3.0.7 <4.0.0",_id:"pixi.js@3.0.8",_inCache:!0,_installable:!0,_location:"/pixi.js",_nodeVersion:"0.12.4",_npmUser:{email:"englercj@live.com",name:"englercj"},_npmVersion:"2.7.1",_phantomChildren:{},_requested:{name:"pixi.js",raw:"pixi.js@^3.0.7",rawSpec:"^3.0.7",scope:null,spec:">=3.0.7 <4.0.0",type:"range"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/pixi.js/-/pixi.js-3.0.8.tgz",_shasum:"259dbe9739957587f160417dce7df9e1c5e47521",_shrinkwrap:null,_spec:"pixi.js@^3.0.7",_where:"/Users/niko/Documents/_REDCORNER/le-dernier-gaulois",author:{name:"Mat Groves"},browserify:{transform:["brfs"]},bugs:{url:"https://github.com/pixijs/pixi.js/issues"},contributors:[{name:"Chad Engler",email:"chad@pantherdev.com"},{name:"Richard Davey",email:"rdavey@gmail.com"}],dependencies:{async:"^1.4.2",brfs:"^1.4.1",earcut:"^2.0.2",eventemitter3:"^1.1.1","gulp-header":"^1.7.1","object-assign":"^4.0.1","resource-loader":"^1.6.2"},description:"Pixi.js is a fast lightweight 2D library that works across all devices.",devDependencies:{browserify:"^11.1.0",chai:"^3.2.0",del:"^2.0.2",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.6.0","gulp-debug":"^2.1.0","gulp-jshint":"^1.11.2","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.2","jshint-summary":"^0.4.0",minimist:"^1.2.0",mocha:"^2.3.2","require-dir":"^0.3.0","run-sequence":"^1.1.2",testem:"^0.9.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.4.0"},directories:{},dist:{shasum:"259dbe9739957587f160417dce7df9e1c5e47521",tarball:"http://registry.npmjs.org/pixi.js/-/pixi.js-3.0.8.tgz"},files:["CONTRIBUTING.md","LICENSE","README.md","bin/","package.json","src/"],gitHead:"5d385885324e97369fd29b686e9e90eb4cefd14a",homepage:"http://goodboydigital.com/",license:"MIT",main:"./src/index.js",maintainers:[{name:"englercj",email:"englercj@live.com"}],name:"pixi.js",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/pixijs/pixi.js.git"},scripts:{build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md",start:"gulp && gulp watch",test:"gulp && testem ci"},version:"3.0.8"}},{}],73:[function(t,e,i){var n={VERSION:t("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,
resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=n},{"../../package.json":72}],74:[function(t,e,i){function n(){s.call(this),this.children=[]}var r=t("../math"),s=t("./DisplayObject"),o=t("../textures/RenderTexture"),a=new r.Matrix;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),n.prototype.onChildrenChange=function(){},n.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},n.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},n.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);if(0>i||0>n)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[i]=e,this.children[n]=t,this.onChildrenChange(n>i?i:n)}},n.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},n.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},n.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},n.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},n.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),this.onChildrenChange(t),e.emit("removed",this),e},n.prototype.removeChildren=function(t,e){var i,n,r=t||0,s="number"==typeof e?e:this.children.length,o=s-r;if(o>0&&s>=o){for(i=this.children.splice(r,o),n=0;n<i.length;++n)i[n].parent=null;for(this.onChildrenChange(t),n=0;n<i.length;++n)i[n].emit("removed",this);return i}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.generateTexture=function(t,e,i){var n=this.getLocalBounds(),r=new o(t,0|n.width,0|n.height,i,e);return a.tx=-n.x,a.ty=-n.y,r.render(this,a),r},n.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},n.prototype.containerUpdateTransform=n.prototype.updateTransform,n.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return r.Rectangle.EMPTY;for(var t,e,i,n=1/0,s=1/0,o=-(1/0),a=-(1/0),l=!1,h=0,u=this.children.length;u>h;++h){var c=this.children[h];c.visible&&(l=!0,t=this.children[h].getBounds(),n=n<t.x?n:t.x,s=s<t.y?s:t.y,e=t.width+t.x,i=t.height+t.y,o=o>e?o:e,a=a>i?a:i)}if(!l)return r.Rectangle.EMPTY;var p=this._bounds;p.x=n,p.y=s,p.width=o-n,p.height=a-s,this._currentBounds=p}return this._currentBounds},n.prototype.containerGetBounds=n.prototype.getBounds,n.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=r.Matrix.IDENTITY;for(var e=0,i=this.children.length;i>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(r.Matrix.IDENTITY)},n.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,i;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,i=this.children.length;i>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,i=this.children.length;i>e;++e)this.children[e].renderWebGL(t)}},n.prototype._renderWebGL=function(t){},n.prototype._renderCanvas=function(t){},n.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,i=this.children.length;i>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},n.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,i=this.children.length;i>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":83,"../textures/RenderTexture":121,"./DisplayObject":75}],75:[function(t,e,i){function n(){o.call(this),this.position=new r.Point,this.scale=new r.Point(1,1),this.pivot=new r.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new r.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new r.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var r=t("../math"),s=t("../textures/RenderTexture"),o=t("eventemitter3"),a=t("../const"),l=new r.Matrix,h={worldTransform:new r.Matrix,worldAlpha:1,children:[]};n.prototype=Object.create(o.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),n.prototype.updateTransform=function(){var t,e,i,n,r,s,o=this.parent.worldTransform,l=this.worldTransform;this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,i=-this._sr*this.scale.y,n=this._cr*this.scale.y,r=this.position.x,s=this.position.y,(this.pivot.x||this.pivot.y)&&(r-=this.pivot.x*t+this.pivot.y*i,s-=this.pivot.x*e+this.pivot.y*n),l.a=t*o.a+e*o.c,l.b=t*o.b+e*o.d,l.c=i*o.a+n*o.c,l.d=i*o.b+n*o.d,l.tx=r*o.a+s*o.c+o.tx,l.ty=r*o.b+s*o.d+o.ty):(t=this.scale.x,n=this.scale.y,r=this.position.x-this.pivot.x*t,s=this.position.y-this.pivot.y*n,l.a=t*o.a,l.b=t*o.b,l.c=n*o.c,l.d=n*o.d,l.tx=r*o.a+s*o.c+o.tx,l.ty=r*o.b+s*o.d+o.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},n.prototype.displayObjectUpdateTransform=n.prototype.updateTransform,n.prototype.getBounds=function(t){return r.Rectangle.EMPTY},n.prototype.getLocalBounds=function(){return this.getBounds(r.Matrix.IDENTITY)},n.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=h,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},n.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=h,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t)},n.prototype.renderWebGL=function(t){},n.prototype.renderCanvas=function(t){},n.prototype.generateTexture=function(t,e,i){var n=this.getLocalBounds(),r=new s(t,0|n.width,0|n.height,e,i);return l.tx=-n.x,l.ty=-n.y,r.render(this,l),r},n.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},n.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":73,"../math":83,"../textures/RenderTexture":121,eventemitter3:63}],76:[function(t,e,i){function n(){r.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=u.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new h.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var r=t("../display/Container"),s=t("../textures/Texture"),o=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),l=t("./GraphicsData"),h=t("../math"),u=t("../const"),c=new h.Point;n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){var t=new n;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},n.prototype.lineStyle=function(t,e,i){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===i?1:i,this.currentPath)if(this.currentPath.shape.points.length){var n=new h.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},n.prototype.moveTo=function(t,e){var i=new h.Polygon([t,e]);return i.closed=!1,this.drawShape(i),this},n.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},n.prototype.quadraticCurveTo=function(t,e,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r,s,o=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var l=a[a.length-2],h=a[a.length-1],u=0,c=1;o>=c;++c)u=c/o,r=l+(t-l)*u,s=h+(e-h)*u,a.push(r+(t+(i-t)*u-r)*u,s+(e+(n-e)*u-s)*u);return this.dirty=this.boundsDirty=!0,this},n.prototype.bezierCurveTo=function(t,e,i,n,r,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var o,a,l,h,u,c=20,p=this.currentPath.shape.points,d=p[p.length-2],f=p[p.length-1],m=0,v=1;c>=v;++v)m=v/c,o=1-m,a=o*o,l=a*o,h=m*m,u=h*m,p.push(l*d+3*a*m*t+3*o*h*i+u*r,l*f+3*a*m*e+3*o*h*n+u*s);return this.dirty=this.boundsDirty=!0,this},n.prototype.arcTo=function(t,e,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s=this.currentPath.shape.points,o=s[s.length-2],a=s[s.length-1],l=a-e,h=o-t,u=n-e,c=i-t,p=Math.abs(l*c-h*u);if(1e-8>p||0===r)(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e);else{var d=l*l+h*h,f=u*u+c*c,m=l*u+h*c,v=r*Math.sqrt(d)/p,g=r*Math.sqrt(f)/p,_=v*m/d,y=g*m/f,x=v*c+g*h,b=v*u+g*l,w=h*(g+_),T=l*(g+_),E=c*(v+y),S=u*(v+y),C=Math.atan2(T-b,w-x),A=Math.atan2(S-b,E-x);this.arc(x+t,b+e,r,C,A,h*u>c*l)}return this.dirty=this.boundsDirty=!0,this},n.prototype.arc=function(t,e,i,n,r,s){if(s=s||!1,n===r)return this;!s&&n>=r?r+=2*Math.PI:s&&r>=n&&(n+=2*Math.PI);var o=s?-1*(n-r):r-n,a=40*Math.ceil(Math.abs(o)/(2*Math.PI));if(0===o)return this;var l=t+Math.cos(n)*i,h=e+Math.sin(n)*i;this.currentPath?this.currentPath.shape.points.push(l,h):this.moveTo(l,h);for(var u=this.currentPath.shape.points,c=o/(2*a),p=2*c,d=Math.cos(c),f=Math.sin(c),m=a-1,v=m%1/m,g=0;m>=g;g++){var _=g+v*g,y=c+n+p*_,x=Math.cos(y),b=-Math.sin(y);u.push((d*x+f*b)*i+t,(d*-b+f*x)*i+e)}return this.dirty=this.boundsDirty=!0,this},n.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},n.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},n.prototype.drawRect=function(t,e,i,n){return this.drawShape(new h.Rectangle(t,e,i,n)),this},n.prototype.drawRoundedRect=function(t,e,i,n,r){return this.drawShape(new h.RoundedRectangle(t,e,i,n,r)),this},n.prototype.drawCircle=function(t,e,i){return this.drawShape(new h.Circle(t,e,i)),this},n.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new h.Ellipse(t,e,i,n)),this},n.prototype.drawPolygon=function(t){var e=t,i=!0;if(e instanceof h.Polygon&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var r=new h.Polygon(e);return r.closed=i,this.drawShape(r),this},n.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},n.prototype.generateTexture=function(t,e,i){e=e||1;var n=this.getLocalBounds(),r=new o(n.width*e,n.height*e),l=s.fromCanvas(r.canvas,i);return l.baseTexture.resolution=e,r.context.scale(e,e),r.context.translate(-n.x,-n.y),a.renderGraphics(this,r.context),l},n.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},n.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,i=this.worldTransform,n=t.blendModes[this.blendMode];n!==e.globalCompositeOperation&&(e.globalCompositeOperation=n);var r=t.resolution;e.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),a.renderGraphics(this,e)}},n.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return h.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,i=e.x,n=e.width+e.x,r=e.y,s=e.height+e.y,o=t||this.worldTransform,a=o.a,l=o.b,u=o.c,c=o.d,p=o.tx,d=o.ty,f=a*n+u*s+p,m=c*s+l*n+d,v=a*i+u*s+p,g=c*s+l*i+d,_=a*i+u*r+p,y=c*r+l*i+d,x=a*n+u*r+p,b=c*r+l*n+d,w=f,T=m,E=f,S=m;E=E>v?v:E,E=E>_?_:E,E=E>x?x:E,S=S>g?g:S,S=S>y?y:S,S=S>b?b:S,w=v>w?v:w,w=_>w?_:w,w=x>w?x:w,T=g>T?g:T,T=y>T?y:T,T=b>T?b:T,this._bounds.x=E,this._bounds.width=w-E,this._bounds.y=S,this._bounds.height=T-S,this._currentBounds=this._bounds}return this._currentBounds},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,i=0;i<e.length;i++){var n=e[i];if(n.fill&&n.shape&&n.shape.contains(c.x,c.y))return!0}return!1},n.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),i=1/0,n=-(1/0);if(this.graphicsData.length)for(var r,s,o,a,l,h,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(r=p.shape,d===u.SHAPES.RECT||d===u.SHAPES.RREC)o=r.x-f/2,a=r.y-f/2,l=r.width+f,h=r.height+f,t=t>o?o:t,e=o+l>e?o+l:e,i=i>a?a:i,n=a+h>n?a+h:n;else if(d===u.SHAPES.CIRC)o=r.x,a=r.y,l=r.radius+f/2,h=r.radius+f/2,t=t>o-l?o-l:t,e=o+l>e?o+l:e,i=i>a-h?a-h:i,n=a+h>n?a+h:n;else if(d===u.SHAPES.ELIP)o=r.x,a=r.y,l=r.width+f/2,h=r.height+f/2,t=t>o-l?o-l:t,e=o+l>e?o+l:e,i=i>a-h?a-h:i,n=a+h>n?a+h:n;else{s=r.points;for(var m=0;m<s.length;m+=2)o=s[m],a=s[m+1],t=t>o-f?o-f:t,e=o+f>e?o+f:e,i=i>a-f?a-f:i,n=a+f>n?a+f:n}}else t=0,e=0,i=0,n=0;var v=this.boundsPadding;this._localBounds.x=t-v,this._localBounds.width=e-t+2*v,this._localBounds.y=i-v,this._localBounds.height=n-i+2*v},n.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new l(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===u.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},n.prototype.destroy=function(){r.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var i=0;i<this._webgl[e].data.length;++i)this._webgl[e].data[i].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":73,"../display/Container":74,"../math":83,"../renderers/canvas/utils/CanvasBuffer":95,"../renderers/canvas/utils/CanvasGraphics":96,"../textures/Texture":122,"./GraphicsData":77}],77:[function(t,e,i){function n(t,e,i,n,r,s,o){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=n,this.fillAlpha=r,this._fillTint=n,this.fill=s,this.shape=o,this.type=o.type}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},{}],78:[function(t,e,i){function n(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var r=t("../../utils"),s=t("../../math"),o=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),l=t("../../renderers/webgl/WebGLRenderer"),h=t("./WebGLGraphicsData"),u=t("earcut");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,l.registerPlugin("graphics",n),n.prototype.onContextChange=function(){},n.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},n.prototype.render=function(t){var e,i=this.renderer,n=i.gl,s=i.shaderManager.plugins.primitiveShader;t.dirty&&this.updateGraphics(t);var o=t._webGL[n.id];i.blendModeManager.setBlendMode(t.blendMode);for(var a=0,l=o.data.length;l>a;a++)e=o.data[a],1===o.data[a].mode?(i.stencilManager.pushStencil(t,e),n.uniform1f(i.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),i.stencilManager.popStencil(t,e)):(s=i.shaderManager.primitiveShader,i.shaderManager.setShader(s),n.uniformMatrix3fv(s.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(s.uniforms.projectionMatrix._location,!1,i.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(s.uniforms.tint._location,r.hex2rgb(t.tint)),n.uniform1f(s.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(s.attributes.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(s.attributes.aColor,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0)),i.drawCount++},n.prototype.updateGraphics=function(t){var e=this.renderer.gl,i=t._webGL[e.id];i||(i=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var n;if(t.clearDirty){for(t.clearDirty=!1,n=0;n<i.data.length;n++){var r=i.data[n];r.reset(),this.graphicsDataPool.push(r)}i.data=[],i.lastIndex=0}var s;for(n=i.lastIndex;n<t.graphicsData.length;n++){var a=t.graphicsData[n];if(a.type===o.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){s=this.switchMode(i,0);var l=this.buildPoly(a,s);l||(s=this.switchMode(i,1),this.buildComplexPoly(a,s))}else s=this.switchMode(i,1),this.buildComplexPoly(a,s);a.lineWidth>0&&(s=this.switchMode(i,0),this.buildLine(a,s))}else s=this.switchMode(i,0),a.type===o.SHAPES.RECT?this.buildRectangle(a,s):a.type===o.SHAPES.CIRC||a.type===o.SHAPES.ELIP?this.buildCircle(a,s):a.type===o.SHAPES.RREC&&this.buildRoundedRectangle(a,s);i.lastIndex++}for(n=0;n<i.data.length;n++)s=i.data[n],s.dirty&&s.upload()},n.prototype.switchMode=function(t,e){var i;return t.data.length?(i=t.data[t.data.length-1],(i.points.length>32e4||i.mode!==e||1===e)&&(i=this.graphicsDataPool.pop()||new h(t.gl),i.mode=e,t.data.push(i))):(i=this.graphicsDataPool.pop()||new h(t.gl),i.mode=e,t.data.push(i)),i.dirty=!0,i},n.prototype.buildRectangle=function(t,e){var i=t.shape,n=i.x,s=i.y,o=i.width,a=i.height;if(t.fill){var l=r.hex2rgb(t.fillColor),h=t.fillAlpha,u=l[0]*h,c=l[1]*h,p=l[2]*h,d=e.points,f=e.indices,m=d.length/6;d.push(n,s),d.push(u,c,p,h),d.push(n+o,s),d.push(u,c,p,h),d.push(n,s+a),d.push(u,c,p,h),d.push(n+o,s+a),d.push(u,c,p,h),f.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var v=t.points;t.points=[n,s,n+o,s,n+o,s+a,n,s+a,n,s],this.buildLine(t,e),t.points=v}},n.prototype.buildRoundedRectangle=function(t,e){var i=t.shape,n=i.x,s=i.y,o=i.width,a=i.height,l=i.radius,h=[];if(h.push(n,s+l),this.quadraticBezierCurve(n,s+a-l,n,s+a,n+l,s+a,h),this.quadraticBezierCurve(n+o-l,s+a,n+o,s+a,n+o,s+a-l,h),this.quadraticBezierCurve(n+o,s+l,n+o,s,n+o-l,s,h),this.quadraticBezierCurve(n+l,s,n,s,n,s+l+1e-10,h),t.fill){var c=r.hex2rgb(t.fillColor),p=t.fillAlpha,d=c[0]*p,f=c[1]*p,m=c[2]*p,v=e.points,g=e.indices,_=v.length/6,y=u(h,null,2),x=0;for(x=0;x<y.length;x+=3)g.push(y[x]+_),g.push(y[x]+_),g.push(y[x+1]+_),g.push(y[x+2]+_),g.push(y[x+2]+_);for(x=0;x<h.length;x++)v.push(h[x],h[++x],d,f,m,p)}if(t.lineWidth){var b=t.points;t.points=h,this.buildLine(t,e),t.points=b}},n.prototype.quadraticBezierCurve=function(t,e,i,n,r,s,o){function a(t,e,i){var n=e-t;return t+n*i}for(var l,h,u,c,p,d,f=20,m=o||[],v=0,g=0;f>=g;g++)v=g/f,l=a(t,i,v),h=a(e,n,v),u=a(i,r,v),c=a(n,s,v),p=a(l,u,v),d=a(h,c,v),m.push(p,d);return m},n.prototype.buildCircle=function(t,e){var i,n,s=t.shape,a=s.x,l=s.y;t.type===o.SHAPES.CIRC?(i=s.radius,n=s.radius):(i=s.width,n=s.height);var h=Math.floor(30*Math.sqrt(s.radius))||Math.floor(15*Math.sqrt(s.width+s.height)),u=2*Math.PI/h,c=0;if(t.fill){var p=r.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,m=p[1]*d,v=p[2]*d,g=e.points,_=e.indices,y=g.length/6;for(_.push(y),c=0;h+1>c;c++)g.push(a,l,f,m,v,d),g.push(a+Math.sin(u*c)*i,l+Math.cos(u*c)*n,f,m,v,d),_.push(y++,y++);_.push(y-1)}if(t.lineWidth){var x=t.points;for(t.points=[],c=0;h+1>c;c++)t.points.push(a+Math.sin(u*c)*i,l+Math.cos(u*c)*n);this.buildLine(t,e),t.points=x}},n.prototype.buildLine=function(t,e){var i=0,n=t.points;if(0!==n.length){var o=new s.Point(n[0],n[1]),a=new s.Point(n[n.length-2],n[n.length-1]);if(o.x===a.x&&o.y===a.y){n=n.slice(),n.pop(),n.pop(),a=new s.Point(n[n.length-2],n[n.length-1]);var l=a.x+.5*(o.x-a.x),h=a.y+.5*(o.y-a.y);n.unshift(l,h),n.push(l,h)}var u,c,p,d,f,m,v,g,_,y,x,b,w,T,E,S,C,A,P,R,O,M,D,k=e.points,F=e.indices,L=n.length/2,N=n.length,B=k.length/6,I=t.lineWidth/2,j=r.hex2rgb(t.lineColor),$=t.lineAlpha,U=j[0]*$,z=j[1]*$,X=j[2]*$;for(p=n[0],d=n[1],f=n[2],m=n[3],_=-(d-m),y=p-f,D=Math.sqrt(_*_+y*y),_/=D,y/=D,_*=I,y*=I,k.push(p-_,d-y,U,z,X,$),k.push(p+_,d+y,U,z,X,$),i=1;L-1>i;i++)p=n[2*(i-1)],d=n[2*(i-1)+1],f=n[2*i],m=n[2*i+1],v=n[2*(i+1)],g=n[2*(i+1)+1],_=-(d-m),y=p-f,D=Math.sqrt(_*_+y*y),_/=D,y/=D,_*=I,y*=I,x=-(m-g),b=f-v,D=Math.sqrt(x*x+b*b),x/=D,b/=D,x*=I,b*=I,E=-y+d-(-y+m),S=-_+f-(-_+p),C=(-_+p)*(-y+m)-(-_+f)*(-y+d),A=-b+g-(-b+m),P=-x+f-(-x+v),R=(-x+v)*(-b+m)-(-x+f)*(-b+g),O=E*P-A*S,Math.abs(O)<.1?(O+=10.1,k.push(f-_,m-y,U,z,X,$),k.push(f+_,m+y,U,z,X,$)):(u=(S*R-P*C)/O,c=(A*C-E*R)/O,M=(u-f)*(u-f)+(c-m)+(c-m),M>19600?(w=_-x,T=y-b,D=Math.sqrt(w*w+T*T),w/=D,T/=D,w*=I,T*=I,k.push(f-w,m-T),k.push(U,z,X,$),k.push(f+w,m+T),k.push(U,z,X,$),k.push(f-w,m-T),k.push(U,z,X,$),N++):(k.push(u,c),k.push(U,z,X,$),k.push(f-(u-f),m-(c-m)),k.push(U,z,X,$)));for(p=n[2*(L-2)],d=n[2*(L-2)+1],f=n[2*(L-1)],m=n[2*(L-1)+1],_=-(d-m),y=p-f,D=Math.sqrt(_*_+y*y),_/=D,y/=D,_*=I,y*=I,k.push(f-_,m-y),k.push(U,z,X,$),k.push(f+_,m+y),k.push(U,z,X,$),F.push(B),i=0;N>i;i++)F.push(B++);F.push(B-1)}},n.prototype.buildComplexPoly=function(t,e){var i=t.points.slice();if(!(i.length<6)){var n=e.indices;e.points=i,e.alpha=t.fillAlpha,e.color=r.hex2rgb(t.fillColor);for(var s,o,a=1/0,l=-(1/0),h=1/0,u=-(1/0),c=0;c<i.length;c+=2)s=i[c],o=i[c+1],a=a>s?s:a,l=s>l?s:l,h=h>o?o:h,u=o>u?o:u;i.push(a,h,l,h,l,u,a,u);var p=i.length/2;for(c=0;p>c;c++)n.push(c)}},n.prototype.buildPoly=function(t,e){var i=t.points;if(!(i.length<6)){var n=e.points,s=e.indices,o=i.length/2,a=r.hex2rgb(t.fillColor),l=t.fillAlpha,h=a[0]*l,c=a[1]*l,p=a[2]*l,d=u(i,null,2);if(!d)return!1;var f=n.length/6,m=0;for(m=0;m<d.length;m+=3)s.push(d[m]+f),s.push(d[m]+f),s.push(d[m+1]+f),s.push(d[m+2]+f),s.push(d[m+2]+f);for(m=0;o>m;m++)n.push(i[2*m],i[2*m+1],h,c,p,l);return!0}}},{"../../const":73,"../../math":83,"../../renderers/webgl/WebGLRenderer":99,"../../renderers/webgl/utils/ObjectRenderer":113,"../../utils":127,"./WebGLGraphicsData":79,earcut:62}],79:[function(t,e,i){function n(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}n.prototype.constructor=n,e.exports=n,n.prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],80:[function(t,e,i){var n=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,i,r){return t=t||800,e=e||600,!r&&n.utils.isWebGLSupported()?new n.WebGLRenderer(t,e,i):new n.CanvasRenderer(t,e,i)}})},{"./const":73,"./display/Container":74,"./display/DisplayObject":75,"./graphics/Graphics":76,"./graphics/GraphicsData":77,"./graphics/webgl/GraphicsRenderer":78,"./math":83,"./particles/ParticleContainer":89,"./particles/webgl/ParticleRenderer":91,"./renderers/canvas/CanvasRenderer":94,"./renderers/canvas/utils/CanvasBuffer":95,"./renderers/canvas/utils/CanvasGraphics":96,"./renderers/webgl/WebGLRenderer":99,"./renderers/webgl/filters/AbstractFilter":100,"./renderers/webgl/filters/FXAAFilter":101,"./renderers/webgl/filters/SpriteMaskFilter":102,"./renderers/webgl/managers/ShaderManager":106,"./renderers/webgl/shaders/Shader":111,"./renderers/webgl/utils/ObjectRenderer":113,"./renderers/webgl/utils/RenderTarget":115,"./sprites/Sprite":117,"./sprites/webgl/SpriteRenderer":118,"./text/Text":119,"./textures/BaseTexture":120,"./textures/RenderTexture":121,"./textures/Texture":122,"./textures/TextureUvs":123,"./textures/VideoBaseTexture":124,"./ticker":126,"./utils":127}],81:[function(t,e,i){function n(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var r=t("./Point");n.prototype.constructor=n,e.exports=n,n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new r;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new r;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,s=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,s=t*n-e*i;return this.a=n/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-n*r)/s,this.ty=-(t*this.ty-e*r)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.IDENTITY=new n,n.TEMP_MATRIX=new n},{"./Point":82}],82:[function(t,e,i){function n(t,e){this.x=t||0,this.y=e||0}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],83:[function(t,e,i){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./Matrix":81,"./Point":82,"./shapes/Circle":84,"./shapes/Ellipse":85,"./shapes/Polygon":86,"./shapes/Rectangle":87,"./shapes/RoundedRectangle":88}],84:[function(t,e,i){function n(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0,this.type=s.SHAPES.CIRC;
}var r=t("./Rectangle"),s=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,n=this.y-e,r=this.radius*this.radius;return i*=i,n*=n,r>=i+n},n.prototype.getBounds=function(){return new r(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":73,"./Rectangle":87}],85:[function(t,e,i){function n(t,e,i,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.type=s.SHAPES.ELIP}var r=t("./Rectangle"),s=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,n=(e-this.y)/this.height;return i*=i,n*=n,1>=i+n},n.prototype.getBounds=function(){return new r(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":73,"./Rectangle":87}],86:[function(t,e,i){function n(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}if(e[0]instanceof r){for(var n=[],o=0,a=e.length;a>o;o++)n.push(e[o].x,e[o].y);e=n}this.closed=!0,this.points=e,this.type=s.SHAPES.POLY}var r=t("../Point"),s=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.points.slice())},n.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,r=0,s=n-1;n>r;s=r++){var o=this.points[2*r],a=this.points[2*r+1],l=this.points[2*s],h=this.points[2*s+1],u=a>e!=h>e&&(l-o)*(e-a)/(h-a)+o>t;u&&(i=!i)}return i}},{"../../const":73,"../Point":82}],87:[function(t,e,i){function n(t,e,i,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.type=r.SHAPES.RECT}var r=t("../../const");n.prototype.constructor=n,e.exports=n,n.EMPTY=new n(0,0,0,0),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},{"../../const":73}],88:[function(t,e,i){function n(t,e,i,n,s){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.radius=s||20,this.type=r.SHAPES.RREC}var r=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},{"../../const":73}],89:[function(t,e,i){function n(t,e,i){r.call(this),i=i||15e3,t=t||15e3;var n=16384;i>n&&(i=n),i>t&&(i=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=i,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=s.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var r=t("../display/Container"),s=t("../const");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},n.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},n.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},n.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},n.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,n=!0,r=0,s=0,o=0,a=0;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var u=h.texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)===0)n&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),n=!1),r=h.anchor.x*(-u.width*h.scale.x)+h.position.x+.5,s=h.anchor.y*(-u.height*h.scale.y)+h.position.y+.5,o=u.width*h.scale.x,a=u.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,0|c.tx,0|c.ty):e.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),r=h.anchor.x*-u.width+.5,s=h.anchor.y*-u.height+.5,o=u.width,a=u.height}e.drawImage(h.texture.baseTexture.source,u.x,u.y,u.width,u.height,r,s,o,a)}}}},n.prototype.destroy=function(){if(r.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":73,"../display/Container":74}],90:[function(t,e,i){function n(t,e,i,n){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;r++){var s=e[r];i[r]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}n.prototype.constructor=n,e.exports=n,n.prototype.initBuffers=function(){var t,e,i=this.gl,n=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=n,n+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferData(i.ARRAY_BUFFER,this.dynamicData,i.DYNAMIC_DRAW);var r=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=r,r+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferData(i.ARRAY_BUFFER,this.staticData,i.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(t,e,i){for(var n=this.gl,r=0;r<this.dynamicProperties.length;r++){var s=this.dynamicProperties[r];s.uploadFunction(t,e,i,this.dynamicData,this.dynamicStride,s.offset)}n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(t,e,i){for(var n=this.gl,r=0;r<this.staticProperties.length;r++){var s=this.staticProperties[r];s.uploadFunction(t,e,i,this.staticData,this.staticStride,s.offset)}n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var t,e,i=this.gl;for(i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],i.vertexAttribPointer(e.attribute,e.size,i.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],i.vertexAttribPointer(e.attribute,e.size,i.FLOAT,!1,4*this.staticStride,4*e.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],91:[function(t,e,i){function n(t){r.call(this,t);var e=98304;this.indices=new Uint16Array(e);for(var i=0,n=0;e>i;i+=6,n+=4)this.indices[i+0]=n+0,this.indices[i+1]=n+1,this.indices[i+2]=n+2,this.indices[i+3]=n+0,this.indices[i+4]=n+2,this.indices[i+5]=n+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new l.Matrix}var r=t("../../renderers/webgl/utils/ObjectRenderer"),s=t("../../renderers/webgl/WebGLRenderer"),o=t("./ParticleShader"),a=t("./ParticleBuffer"),l=t("../../math");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,s.registerPlugin("particle",n),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new o(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},n.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},n.prototype.render=function(t){var e=t.children,i=e.length,n=t._maxSize,r=t._batchSize;if(0!==i){i>n&&(i=n),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var s=this.renderer.gl,o=t.worldTransform.copy(this.tempMatrix);o.prepend(this.renderer.currentRenderTarget.projectionMatrix),s.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,o.toArray(!0)),s.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[s.id])s.bindTexture(s.TEXTURE_2D,a._glTextures[s.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var l=0,h=0;i>l;l+=r,h+=1){var u=i-l;u>r&&(u=r);var c=t._buffers[h];c.uploadDynamic(e,l,u),t._bufferToUpdate===h&&(c.uploadStatic(e,l,u),t._bufferToUpdate=h+1),c.bind(this.shader),s.drawElements(s.TRIANGLES,6*u,s.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},n.prototype.generateBuffers=function(t){var e,i=this.renderer.gl,n=[],r=t._maxSize,s=t._batchSize,o=t._properties;for(e=0;r>e;e+=s)n.push(new a(i,this.properties,o,s));return n},n.prototype.uploadVertices=function(t,e,i,n,r,s){for(var o,a,l,h,u,c,p,d,f,m=0;i>m;m++)o=t[e+m],a=o._texture,h=o.scale.x,u=o.scale.y,a.trim?(l=a.trim,p=l.x-o.anchor.x*l.width,c=p+a.crop.width,f=l.y-o.anchor.y*l.height,d=f+a.crop.height):(c=a._frame.width*(1-o.anchor.x),p=a._frame.width*-o.anchor.x,d=a._frame.height*(1-o.anchor.y),f=a._frame.height*-o.anchor.y),n[s]=p*h,n[s+1]=f*u,n[s+r]=c*h,n[s+r+1]=f*u,n[s+2*r]=c*h,n[s+2*r+1]=d*u,n[s+3*r]=p*h,n[s+3*r+1]=d*u,s+=4*r},n.prototype.uploadPosition=function(t,e,i,n,r,s){for(var o=0;i>o;o++){var a=t[e+o].position;n[s]=a.x,n[s+1]=a.y,n[s+r]=a.x,n[s+r+1]=a.y,n[s+2*r]=a.x,n[s+2*r+1]=a.y,n[s+3*r]=a.x,n[s+3*r+1]=a.y,s+=4*r}},n.prototype.uploadRotation=function(t,e,i,n,r,s){for(var o=0;i>o;o++){var a=t[e+o].rotation;n[s]=a,n[s+r]=a,n[s+2*r]=a,n[s+3*r]=a,s+=4*r}},n.prototype.uploadUvs=function(t,e,i,n,r,s){for(var o=0;i>o;o++){var a=t[e+o]._texture._uvs;a?(n[s]=a.x0,n[s+1]=a.y0,n[s+r]=a.x1,n[s+r+1]=a.y1,n[s+2*r]=a.x2,n[s+2*r+1]=a.y2,n[s+3*r]=a.x3,n[s+3*r+1]=a.y3,s+=4*r):(n[s]=0,n[s+1]=0,n[s+r]=0,n[s+r+1]=0,n[s+2*r]=0,n[s+2*r+1]=0,n[s+3*r]=0,n[s+3*r+1]=0,s+=4*r)}},n.prototype.uploadAlpha=function(t,e,i,n,r,s){for(var o=0;i>o;o++){var a=t[e+o].alpha;n[s]=a,n[s+r]=a,n[s+2*r]=a,n[s+3*r]=a,s+=4*r}},n.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),r.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":83,"../../renderers/webgl/WebGLRenderer":99,"../../renderers/webgl/utils/ObjectRenderer":113,"./ParticleBuffer":90,"./ParticleShader":92}],92:[function(t,e,i){function n(t){r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var r=t("../../renderers/webgl/shaders/TextureShader");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n},{"../../renderers/webgl/shaders/TextureShader":112}],93:[function(t,e,i){function n(t,e,i,n){if(a.call(this),r.sayHello(t),n)for(var l in o.DEFAULT_RENDER_OPTIONS)"undefined"==typeof n[l]&&(n[l]=o.DEFAULT_RENDER_OPTIONS[l]);else n=o.DEFAULT_RENDER_OPTIONS;this.type=o.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=i||600,this.view=n.view||document.createElement("canvas"),this.resolution=n.resolution,this.transparent=n.transparent,this.autoResize=n.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=n.preserveDrawingBuffer,this.clearBeforeRender=n.clearBeforeRender,this.roundPixels=n.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=n.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new s.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var r=t("../utils"),s=t("../math"),o=t("../const"),a=t("eventemitter3");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=r.hex2string(t),r.hex2rgb(t,this._backgroundColorRgb)}}}),n.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},n.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=o.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":73,"../math":83,"../utils":127,eventemitter3:63}],94:[function(t,e,i){function n(t,e,i){i=i||{},r.call(this,"Canvas",t,e,i),this.type=l.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new s,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var r=t("../SystemRenderer"),s=t("./utils/CanvasMaskManager"),o=t("../../utils"),a=t("../../math"),l=t("../../const");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,o.pluginTarget.mixin(n),n.prototype.render=function(t){var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[l.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context)},n.prototype.destroy=function(t){this.destroyPlugins(),r.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},n.prototype.renderDisplayObject=function(t,e){var i=this.context;this.context=e,t.renderCanvas(this),this.context=i},n.prototype.resize=function(t,e){r.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=l.SCALE_MODES.DEFAULT===l.SCALE_MODES.LINEAR)},n.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},o.canUseNewCanvasBlendModes()?(this.blendModes[l.BLEND_MODES.NORMAL]="source-over",this.blendModes[l.BLEND_MODES.ADD]="lighter",this.blendModes[l.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[l.BLEND_MODES.SCREEN]="screen",this.blendModes[l.BLEND_MODES.OVERLAY]="overlay",this.blendModes[l.BLEND_MODES.DARKEN]="darken",this.blendModes[l.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[l.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[l.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[l.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[l.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[l.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[l.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[l.BLEND_MODES.HUE]="hue",this.blendModes[l.BLEND_MODES.SATURATION]="saturate",this.blendModes[l.BLEND_MODES.COLOR]="color",this.blendModes[l.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[l.BLEND_MODES.NORMAL]="source-over",this.blendModes[l.BLEND_MODES.ADD]="lighter",this.blendModes[l.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[l.BLEND_MODES.SCREEN]="source-over",this.blendModes[l.BLEND_MODES.OVERLAY]="source-over",this.blendModes[l.BLEND_MODES.DARKEN]="source-over",this.blendModes[l.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[l.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[l.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[l.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[l.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[l.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[l.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[l.BLEND_MODES.HUE]="source-over",this.blendModes[l.BLEND_MODES.SATURATION]="source-over",this.blendModes[l.BLEND_MODES.COLOR]="source-over",this.blendModes[l.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":73,"../../math":83,"../../utils":127,"../SystemRenderer":93,"./utils/CanvasMaskManager":97}],95:[function(t,e,i){function n(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},n.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],96:[function(t,e,i){var n=t("../../../const"),r={};e.exports=r,r.renderGraphics=function(t,e){var i=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var r=0;r<t.graphicsData.length;r++){var s=t.graphicsData[r],o=s.shape,a=s._fillTint,l=s._lineTint;if(e.lineWidth=s.lineWidth,s.type===n.SHAPES.POLY){e.beginPath();var h=o.points;e.moveTo(h[0],h[1]);for(var u=1;u<h.length/2;u++)e.lineTo(h[2*u],h[2*u+1]);o.closed&&e.lineTo(h[0],h[1]),h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&e.closePath(),s.fill&&(e.globalAlpha=s.fillAlpha*i,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke())}else if(s.type===n.SHAPES.RECT)(s.fillColor||0===s.fillColor)&&(e.globalAlpha=s.fillAlpha*i,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(o.x,o.y,o.width,o.height)),s.lineWidth&&(e.globalAlpha=s.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.strokeRect(o.x,o.y,o.width,o.height));else if(s.type===n.SHAPES.CIRC)e.beginPath(),e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath(),s.fill&&(e.globalAlpha=s.fillAlpha*i,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke());else if(s.type===n.SHAPES.ELIP){var c=2*o.width,p=2*o.height,d=o.x-c/2,f=o.y-p/2;e.beginPath();var m=.5522848,v=c/2*m,g=p/2*m,_=d+c,y=f+p,x=d+c/2,b=f+p/2;e.moveTo(d,b),e.bezierCurveTo(d,b-g,x-v,f,x,f),e.bezierCurveTo(x+v,f,_,b-g,_,b),e.bezierCurveTo(_,b+g,x+v,y,x,y),e.bezierCurveTo(x-v,y,d,b+g,d,b),e.closePath(),s.fill&&(e.globalAlpha=s.fillAlpha*i,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke())}else if(s.type===n.SHAPES.RREC){var w=o.x,T=o.y,E=o.width,S=o.height,C=o.radius,A=Math.min(E,S)/2|0;C=C>A?A:C,e.beginPath(),e.moveTo(w,T+C),e.lineTo(w,T+S-C),e.quadraticCurveTo(w,T+S,w+C,T+S),e.lineTo(w+E-C,T+S),e.quadraticCurveTo(w+E,T+S,w+E,T+S-C),e.lineTo(w+E,T+C),e.quadraticCurveTo(w+E,T,w+E-C,T),e.lineTo(w+C,T),e.quadraticCurveTo(w,T,w,T+C),e.closePath(),(s.fillColor||0===s.fillColor)&&(e.globalAlpha=s.fillAlpha*i,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke())}}},r.renderGraphicsMask=function(t,e){var i=t.graphicsData.length;if(0!==i){e.beginPath();for(var r=0;i>r;r++){var s=t.graphicsData[r],o=s.shape;if(s.type===n.SHAPES.POLY){var a=o.points;e.moveTo(a[0],a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(a[2*l],a[2*l+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(s.type===n.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(s.type===n.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(s.type===n.SHAPES.ELIP){var h=2*o.width,u=2*o.height,c=o.x-h/2,p=o.y-u/2,d=.5522848,f=h/2*d,m=u/2*d,v=c+h,g=p+u,_=c+h/2,y=p+u/2;e.moveTo(c,y),e.bezierCurveTo(c,y-m,_-f,p,_,p),e.bezierCurveTo(_+f,p,v,y-m,v,y),e.bezierCurveTo(v,y+m,_+f,g,_,g),e.bezierCurveTo(_-f,g,c,y+m,c,y),e.closePath()}else if(s.type===n.SHAPES.RREC){var x=o.x,b=o.y,w=o.width,T=o.height,E=o.radius,S=Math.min(w,T)/2|0;E=E>S?S:E,e.moveTo(x,b+E),e.lineTo(x,b+T-E),e.quadraticCurveTo(x,b+T,x+E,b+T),e.lineTo(x+w-E,b+T),e.quadraticCurveTo(x+w,b+T,x+w,b+T-E),e.lineTo(x+w,b+E),e.quadraticCurveTo(x+w,b,x+w-E,b),e.lineTo(x+E,b),e.quadraticCurveTo(x,b,x,b+E),e.closePath()}}}},r.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,n=(255&t.tint)/255,r=0;r<t.graphicsData.length;r++){var s=t.graphicsData[r],o=0|s.fillColor,a=0|s.lineColor;s._fillTint=((o>>16&255)/255*e*255<<16)+((o>>8&255)/255*i*255<<8)+(255&o)/255*n*255,s._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*n*255}}}},{"../../../const":73}],97:[function(t,e,i){function n(){}var r=t("./CanvasGraphics");n.prototype.constructor=n,e.exports=n,n.prototype.pushMask=function(t,e){e.context.save();var i=t.alpha,n=t.worldTransform,s=e.resolution;e.context.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s),t.texture||(r.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=i},n.prototype.popMask=function(t){t.context.restore()},n.prototype.destroy=function(){}},{"./CanvasGraphics":96}],98:[function(t,e,i){var n=t("../../../utils"),r={};e.exports=r,r.getTintedTexture=function(t,e){var i=t.texture;e=r.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);if(i.tintCache=i.tintCache||{},i.tintCache[n])return i.tintCache[n];var s=r.canvas||document.createElement("canvas");if(r.tintMethod(i,e,s),r.convertTintToImage){var o=new Image;o.src=s.toDataURL(),i.tintCache[n]=o}else i.tintCache[n]=s,r.canvas=null;return s},r.tintWithMultiply=function(t,e,i){var n=i.getContext("2d"),r=t.baseTexture.resolution,s=t.crop.clone();s.x*=r,s.y*=r,s.width*=r,s.height*=r,i.width=s.width,i.height=s.height,n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,s.width,s.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height)},r.tintWithOverlay=function(t,e,i){var n=i.getContext("2d"),r=t.baseTexture.resolution,s=t.crop.clone();s.x*=r,s.y*=r,s.width*=r,s.height*=r,i.width=s.width,i.height=s.height,n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,s.width,s.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height)},r.tintWithPerPixel=function(t,e,i){var r=i.getContext("2d"),s=t.baseTexture.resolution,o=t.crop.clone();o.x*=s,o.y*=s,o.width*=s,o.height*=s,i.width=o.width,i.height=o.height,r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var a=n.hex2rgb(e),l=a[0],h=a[1],u=a[2],c=r.getImageData(0,0,o.width,o.height),p=c.data,d=0;d<p.length;d+=4)p[d+0]*=l,p[d+1]*=h,p[d+2]*=u;r.putImageData(c,0,0)},r.roundColor=function(t){var e=r.cacheStepsPerColorChannel,i=n.hex2rgb(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),n.rgb2hex(i)},r.cacheStepsPerColorChannel=8,r.convertTintToImage=!1,r.canUseMultiply=n.canUseNewCanvasBlendModes(),r.tintMethod=r.canUseMultiply?r.tintWithMultiply:r.tintWithPerPixel},{"../../../utils":127}],99:[function(t,e,i){function n(t,e,i){i=i||{},r.call(this,"WebGL",t,e,i),this.type=f.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!i.forceFXAA&&i.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new s(this),this.maskManager=new o(this),this.stencilManager=new a(this),this.filterManager=new l(this),this.blendModeManager=new h(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var r=t("../SystemRenderer"),s=t("./managers/ShaderManager"),o=t("./managers/MaskManager"),a=t("./managers/StencilManager"),l=t("./managers/FilterManager"),h=t("./managers/BlendModeManager"),u=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),p=t("./filters/FXAAFilter"),d=t("../../utils"),f=t("../../const");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,d.pluginTarget.mixin(n),n.glContextId=0,n.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=n.glContextId++,t.id=this.glContextId,t.renderer=this},n.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new u(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},n.prototype.render=function(t){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var i=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?i.clearColor(0,0,0,0):i.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),i.clear(i.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget)}},n.prototype.renderDisplayObject=function(t,e,i){this.setRenderTarget(e),i&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},n.prototype.resize=function(t,e){r.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},n.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},n.prototype.destroyTexture=function(t){t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&this.gl.deleteTexture(t._glTextures[this.gl.id])},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this._initContext();for(var t in d.BaseTextureCache)d.BaseTextureCache[t]._glTextures.length=0},n.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e in d.BaseTextureCache){var i=d.BaseTextureCache[e];i.off("update",this.updateTexture,this),
i.off("dispose",this.destroyTexture,this)}r.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},n.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[f.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[f.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[f.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[f.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[f.DRAW_MODES.LINES]=t.LINES,this.drawModes[f.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[f.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":73,"../../utils":127,"../SystemRenderer":93,"./filters/FXAAFilter":101,"./managers/BlendModeManager":103,"./managers/FilterManager":104,"./managers/MaskManager":105,"./managers/ShaderManager":106,"./managers/StencilManager":107,"./utils/ObjectRenderer":113,"./utils/RenderTarget":115}],100:[function(t,e,i){function n(t,e,i){this.shaders=[],this.padding=0,this.uniforms=i||{},this.vertexSrc=t||r.defaultVertexSrc,this.fragmentSrc=e||r.defaultFragmentSrc}var r=t("../shaders/TextureShader");n.prototype.constructor=n,e.exports=n,n.prototype.getShader=function(t){var e=t.gl,i=this.shaders[e.id];return i||(i=new r(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=i),i},n.prototype.applyFilter=function(t,e,i,n){var r=this.getShader(t);t.filterManager.applyFilter(r,e,i,n)},n.prototype.syncUniform=function(t){for(var e=0,i=this.shaders.length;i>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":112}],101:[function(t,e,i){function n(){r.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var r=t("./AbstractFilter");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager,r=this.getShader(t);n.applyFilter(r,e,i)}},{"./AbstractFilter":100}],102:[function(t,e,i){function n(t){var e=new s.Matrix;r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var r=t("./AbstractFilter"),s=t("../../../math");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,n.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var r=this.getShader(t);n.applyFilter(r,e,i)},Object.defineProperties(n.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":83,"./AbstractFilter":100}],103:[function(t,e,i){function n(t){r.call(this,t),this.currentBlendMode=99999}var r=t("./WebGLManager");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":108}],104:[function(t,e,i){function n(t){r.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new l.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var r=t("./WebGLManager"),s=t("../utils/RenderTarget"),o=t("../../../const"),a=t("../utils/Quad"),l=t("../../../math");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},n.prototype.setFilterStack=function(t){this.filterStack=t},n.prototype.pushFilter=function(t,e){var i=t.filterArea?t.filterArea.clone():t.getBounds();i.x=0|i.x,i.y=0|i.y,i.width=0|i.width,i.height=0|i.height;var n=0|e[0].padding;if(i.x-=n,i.y-=n,i.width+=2*n,i.height+=2*n,this.renderer.currentRenderTarget.transform){var r=this.renderer.currentRenderTarget.transform;i.x+=r.tx,i.y+=r.ty,this.capFilterArea(i),i.x-=r.tx,i.y-=r.ty}else this.capFilterArea(i);if(i.width>0&&i.height>0){this.currentFrame=i;var s=this.getRenderTarget();this.renderer.setRenderTarget(s),s.clear(),this.filterStack.push({renderTarget:s,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},n.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],i=t.renderTarget;if(t.renderTarget){var n=e.renderTarget,r=this.renderer.gl;this.currentFrame=i.frame,this.quad.map(this.textureSize,i.frame),r.bindBuffer(r.ARRAY_BUFFER,this.quad.vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var s=t.filter;if(r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,r.FLOAT,!1,0,32),r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,r.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(o.BLEND_MODES.NORMAL),1===s.length)s[0].uniforms.dimensions&&(s[0].uniforms.dimensions.value[0]=this.renderer.width,s[0].uniforms.dimensions.value[1]=this.renderer.height,s[0].uniforms.dimensions.value[2]=this.quad.vertices[0],s[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),s[0].applyFilter(this.renderer,i,n),this.returnRenderTarget(i);else{for(var a=i,l=this.getRenderTarget(!0),h=0;h<s.length-1;h++){var u=s[h];u.uniforms.dimensions&&(u.uniforms.dimensions.value[0]=this.renderer.width,u.uniforms.dimensions.value[1]=this.renderer.height,u.uniforms.dimensions.value[2]=this.quad.vertices[0],u.uniforms.dimensions.value[3]=this.quad.vertices[5]),u.applyFilter(this.renderer,a,l);var c=a;a=l,l=c}s[s.length-1].applyFilter(this.renderer,a,n),this.returnRenderTarget(a),this.returnRenderTarget(l)}return t.filter}},n.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new s(this.renderer.gl,this.textureSize.width,this.textureSize.height,o.SCALE_MODES.LINEAR,this.renderer.resolution*o.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},n.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},n.prototype.applyFilter=function(t,e,i,n){var r=this.renderer.gl;this.renderer.setRenderTarget(i),n&&i.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e.texture),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),this.renderer.drawCount++},n.prototype.calculateMappedMatrix=function(t,e,i){var n=e.worldTransform.copy(l.Matrix.TEMP_MATRIX),r=e._texture.baseTexture,s=i.identity(),o=this.textureSize.height/this.textureSize.width;s.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),s.scale(1,o);var a=this.textureSize.width/r.width,h=this.textureSize.height/r.height;return n.tx/=r.width*a,n.ty/=r.width*a,n.invert(),s.prepend(n),s.scale(1,1/o),s.scale(a,h),s.translate(e.anchor.x,e.anchor.y),s},n.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},n.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var i=0;i<this.texturePool.length;i++)this.texturePool[i].resize(t,e)},n.prototype.destroy=function(){this.quad.destroy(),r.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":73,"../../../math":83,"../utils/Quad":114,"../utils/RenderTarget":115,"./WebGLManager":108}],105:[function(t,e,i){function n(t){r.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var r=t("./WebGLManager"),s=t("../filters/SpriteMaskFilter");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},n.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},n.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool.pop();i||(i=[new s(e)]),i[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,i)},n.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},n.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},n.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":102,"./WebGLManager":108}],106:[function(t,e,i){function n(t){r.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var r=t("./WebGLManager"),s=t("../shaders/TextureShader"),o=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),l=t("../../../utils");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,l.pluginTarget.mixin(n),e.exports=n,n.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new s(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new o(this)},n.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var i in t)this.tempAttribState[t[i]]=!0;var n=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?n.enableVertexAttribArray(e):n.disableVertexAttribArray(e))},n.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},n.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),r.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":127,"../shaders/ComplexPrimitiveShader":109,"../shaders/PrimitiveShader":110,"../shaders/TextureShader":112,"./WebGLManager":108}],107:[function(t,e,i){function n(t){r.call(this,t),this.stencilMaskStack=null}var r=t("./WebGLManager"),s=t("../../../utils");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},n.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var i=this.renderer.gl,n=this.stencilMaskStack;this.bindGraphics(t,e),0===n.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),n.reverse=!0,n.count=0),n.stencilStack.push(e);var r=n.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===e.mode?(i.drawElements(i.TRIANGLE_FAN,e.indices.length-4,i.UNSIGNED_SHORT,0),n.reverse?(i.stencilFunc(i.EQUAL,255-r,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,r,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),n.reverse?i.stencilFunc(i.EQUAL,255-(r+1),255):i.stencilFunc(i.EQUAL,r+1,255),n.reverse=!n.reverse):(n.reverse?(i.stencilFunc(i.EQUAL,r,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-r,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0),n.reverse?i.stencilFunc(i.EQUAL,r+1,255):i.stencilFunc(i.EQUAL,255-(r+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),n.count++},n.prototype.bindGraphics=function(t,e){var i,n=this.renderer.gl;1===e.mode?(i=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(i),n.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(i.uniforms.tint._location,s.hex2rgb(t.tint)),n.uniform3fv(i.uniforms.color._location,e.color),n.uniform1f(i.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,8,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(i=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(i),n.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(i.uniforms.tint._location,s.hex2rgb(t.tint)),n.uniform1f(i.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(i.attributes.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(i.attributes.aColor,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},n.prototype.popStencil=function(t,e){var i=this.renderer.gl,n=this.stencilMaskStack;if(n.stencilStack.pop(),n.count--,0===n.stencilStack.length)i.disable(i.STENCIL_TEST);else{var r=n.count;this.bindGraphics(t,e),i.colorMask(!1,!1,!1,!1),1===e.mode?(n.reverse=!n.reverse,n.reverse?(i.stencilFunc(i.EQUAL,255-(r+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,r+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,e.indices.length-4,i.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,n.reverse?i.stencilFunc(i.EQUAL,r,255):i.stencilFunc(i.EQUAL,255-r,255)):(n.reverse?(i.stencilFunc(i.EQUAL,r+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(r+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0),this.renderer.drawCount++,n.reverse?i.stencilFunc(i.EQUAL,r,255):i.stencilFunc(i.EQUAL,255-r,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},n.prototype.destroy=function(){r.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},n.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},n.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":127,"./WebGLManager":108}],108:[function(t,e,i){function n(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}n.prototype.constructor=n,e.exports=n,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],109:[function(t,e,i){function n(t){r.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var r=t("./Shader");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n},{"./Shader":111}],110:[function(t,e,i){function n(t){r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var r=t("./Shader");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n},{"./Shader":111}],111:[function(t,e,i){function n(t,e,i,n,s){if(!e||!i)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=r.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=n||{},this.attributes=s||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=i,this.init()}var r=t("../../../utils");n.prototype.constructor=n,e.exports=n,n.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},n.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},n.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},n.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),i=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(n,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(n)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(n)),t.deleteProgram(n),n=null),t.deleteShader(e),t.deleteShader(i),this.program=n},n.prototype.syncUniform=function(t){var e,i,n=t._location,s=t.value,o=this.gl;switch(t.type){case"b":case"bool":case"boolean":o.uniform1i(n,s?1:0);break;case"i":case"1i":o.uniform1i(n,s);break;case"f":case"1f":o.uniform1f(n,s);break;case"2f":o.uniform2f(n,s[0],s[1]);break;case"3f":o.uniform3f(n,s[0],s[1],s[2]);break;case"4f":o.uniform4f(n,s[0],s[1],s[2],s[3]);break;case"v2":o.uniform2f(n,s.x,s.y);break;case"v3":o.uniform3f(n,s.x,s.y,s.z);break;case"v4":o.uniform4f(n,s.x,s.y,s.z,s.w);break;case"1iv":o.uniform1iv(n,s);break;case"2iv":o.uniform2iv(n,s);break;case"3iv":o.uniform3iv(n,s);break;case"4iv":o.uniform4iv(n,s);break;case"1fv":o.uniform1fv(n,s);break;case"2fv":o.uniform2fv(n,s);break;case"3fv":o.uniform3fv(n,s);break;case"4fv":o.uniform4fv(n,s);break;case"m2":case"mat2":case"Matrix2fv":o.uniformMatrix2fv(n,t.transpose,s);break;case"m3":case"mat3":case"Matrix3fv":o.uniformMatrix3fv(n,t.transpose,s);break;case"m4":case"mat4":case"Matrix4fv":o.uniformMatrix4fv(n,t.transpose,s);break;case"c":"number"==typeof s&&(s=r.hex2rgb(s)),o.uniform3f(n,s[0],s[1],s[2]);break;case"iv1":o.uniform1iv(n,s);break;case"iv":o.uniform3iv(n,s);break;case"fv1":o.uniform1fv(n,s);break;case"fv":o.uniform3fv(n,s);break;case"v2v":for(t._array||(t._array=new Float32Array(2*s.length)),e=0,i=s.length;i>e;++e)t._array[2*e]=s[e].x,t._array[2*e+1]=s[e].y;o.uniform2fv(n,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*s.length)),e=0,i=s.length;i>e;++e)t._array[3*e]=s[e].x,t._array[3*e+1]=s[e].y,t._array[3*e+2]=s[e].z;o.uniform3fv(n,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*s.length)),e=0,i=s.length;i>e;++e)t._array[4*e]=s[e].x,t._array[4*e+1]=s[e].y,t._array[4*e+2]=s[e].z,t._array[4*e+3]=s[e].w;o.uniform4fv(n,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;o.activeTexture(o["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[o.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[o.id]),o.bindTexture(o.TEXTURE_2D,a),o.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},n.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},n.prototype.initSampler2D=function(t){var e=this.gl,i=t.value.baseTexture;if(i.hasLoaded)if(t.textureData){var n=t.textureData;i._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,i._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,n.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n.magFilter?n.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n.wrapS?n.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n.wrapS?n.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n.wrapT?n.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(i)},n.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},n.prototype._glCompile=function(t,e){var i=this.gl.createShader(t);return this.gl.shaderSource(i,e),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.log(this.gl.getShaderInfoLog(i)),null)}},{"../../../utils":127}],112:[function(t,e,i){function n(t,e,i,s,o){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(s)for(var l in s)a[l]=s[l];var h={aVertexPosition:0,aTextureCoord:0,aColor:0};if(o)for(var u in o)h[u]=o[u];e=e||n.defaultVertexSrc,i=i||n.defaultFragmentSrc,r.call(this,t,e,i,a,h)}var r=t("./Shader");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),n.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":111}],113:[function(t,e,i){function n(t){r.call(this,t)}var r=t("../managers/WebGLManager");n.prototype=Object.create(r.prototype),
n.prototype.constructor=n,e.exports=n,n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.flush=function(){},n.prototype.render=function(t){}},{"../managers/WebGLManager":108}],114:[function(t,e,i){function n(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}n.prototype.constructor=n,n.prototype.map=function(t,e){var i=0,n=0;this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.upload()},n.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},n.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.exports=n},{}],115:[function(t,e,i){var n=t("../../../math"),r=t("../../../utils"),s=t("../../../const"),o=t("./StencilMaskStack"),a=function(t,e,i,a,l,h){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new n.Rectangle(0,0,1,1),this.resolution=l||s.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new o,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||s.SCALE_MODES.DEFAULT,this.root=h,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===s.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===s.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var u=r.isPowerOfTwo(e,i);u?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,i)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var i=this.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t*this.resolution,e*this.resolution,0,i.RGBA,i.UNSIGNED_BYTE,null),this.stencilBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencilBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var n=this.frame||this.size;this.calculateProjection(n)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":73,"../../../math":83,"../../../utils":127,"./StencilMaskStack":116}],116:[function(t,e,i){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}n.prototype.constructor=n,e.exports=n},{}],117:[function(t,e,i){function n(t){o.call(this),this.anchor=new r.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=h.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||s.EMPTY}var r=t("../math"),s=t("../textures/Texture"),o=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),l=t("../utils"),h=t("../const"),u=new r.Point;n.prototype=Object.create(o.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){this.scale.x=l.sign(this.scale.x)*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){this.scale.y=l.sign(this.scale.y)*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),n.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=l.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=l.sign(this.scale.y)*this._height/this.texture.frame.height)},n.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},n.prototype.getBounds=function(t){if(!this._currentBounds){var e,i,n,r,s=this._texture._frame.width,o=this._texture._frame.height,a=s*(1-this.anchor.x),l=s*-this.anchor.x,h=o*(1-this.anchor.y),u=o*-this.anchor.y,c=t||this.worldTransform,p=c.a,d=c.b,f=c.c,m=c.d,v=c.tx,g=c.ty;if(0===d&&0===f)0>p&&(p*=-1),0>m&&(m*=-1),e=p*l+v,i=p*a+v,n=m*u+g,r=m*h+g;else{var _=p*l+f*u+v,y=m*u+d*l+g,x=p*a+f*u+v,b=m*u+d*a+g,w=p*a+f*h+v,T=m*h+d*a+g,E=p*l+f*h+v,S=m*h+d*l+g;e=_,e=e>x?x:e,e=e>w?w:e,e=e>E?E:e,n=y,n=n>b?b:n,n=n>T?T:n,n=n>S?S:n,i=_,i=x>i?x:i,i=w>i?w:i,i=E>i?E:i,r=y,r=b>r?b:r,r=T>r?T:r,r=S>r?S:r}if(this.children.length){var C=this.containerGetBounds();a=C.x,l=C.x+C.width,h=C.y,u=C.y+C.height,e=a>e?e:a,n=h>n?n:h,i=i>l?i:l,r=r>u?r:u}var A=this._bounds;A.x=e,A.width=i-e,A.y=n,A.height=r-n,this._currentBounds=A}return this._currentBounds},n.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e,i=this._texture._frame.width,n=this._texture._frame.height,r=-i*this.anchor.x;return u.x>r&&u.x<r+i&&(e=-n*this.anchor.y,u.y>e&&u.y<e+n)?!0:!1},n.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var i,n,r,s,o=this._texture,l=this.worldTransform;t.context.globalAlpha=this.worldAlpha;var u=o.baseTexture.scaleMode===h.SCALE_MODES.LINEAR;if(t.smoothProperty&&t.context[t.smoothProperty]!==u&&(t.context[t.smoothProperty]=u),o.rotate){var c=l.a,p=l.b;l.a=-l.c,l.b=-l.d,l.c=c,l.d=p,r=o.crop.height,s=o.crop.width,i=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height,n=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width}else r=o.crop.width,s=o.crop.height,i=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width,n=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height;t.roundPixels?(t.context.setTransform(l.a,l.b,l.c,l.d,l.tx*t.resolution|0,l.ty*t.resolution|0),i=0|i,n=0|n):t.context.setTransform(l.a,l.b,l.c,l.d,l.tx*t.resolution,l.ty*t.resolution);var d=o.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,r*d,s*d,i*t.resolution,n*t.resolution,r*t.resolution,s*t.resolution)):t.context.drawImage(o.baseTexture.source,o.crop.x*d,o.crop.y*d,r*d,s*d,i*t.resolution,n*t.resolution,r*t.resolution,s*t.resolution)}}},n.prototype.destroy=function(t,e){o.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},n.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new n(e)},n.fromImage=function(t,e,i){return new n(s.fromImage(t,e,i))}},{"../const":73,"../display/Container":74,"../math":83,"../renderers/canvas/utils/CanvasTinter":98,"../textures/Texture":122,"../utils":127}],118:[function(t,e,i){function n(t){r.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=o.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,i=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(i);for(var n=0,s=0;i>n;n+=6,s+=4)this.indices[n+0]=s+0,this.indices[n+1]=s+1,this.indices[n+2]=s+2,this.indices[n+3]=s+0,this.indices[n+4]=s+2,this.indices[n+5]=s+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var r=t("../../renderers/webgl/utils/ObjectRenderer"),s=t("../../renderers/webgl/WebGLRenderer"),o=t("../../const");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,s.registerPlugin("sprite",n),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},n.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var i=e._uvs;if(i){var n,r,s,o,a=t.anchor.x,l=t.anchor.y;if(e.trim&&void 0===t.tileScale){var h=e.trim;r=h.x-a*h.width,n=r+e.crop.width,o=h.y-l*h.height,s=o+e.crop.height}else n=e._frame.width*(1-a),r=e._frame.width*-a,s=e._frame.height*(1-l),o=e._frame.height*-l;var u=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,p=c.a,d=c.b,f=c.c,m=c.d,v=c.tx,g=c.ty,_=this.colors,y=this.positions;this.renderer.roundPixels?(y[u]=p*r+f*o+v|0,y[u+1]=m*o+d*r+g|0,y[u+5]=p*n+f*o+v|0,y[u+6]=m*o+d*n+g|0,y[u+10]=p*n+f*s+v|0,y[u+11]=m*s+d*n+g|0,y[u+15]=p*r+f*s+v|0,y[u+16]=m*s+d*r+g|0):(y[u]=p*r+f*o+v,y[u+1]=m*o+d*r+g,y[u+5]=p*n+f*o+v,y[u+6]=m*o+d*n+g,y[u+10]=p*n+f*s+v,y[u+11]=m*s+d*n+g,y[u+15]=p*r+f*s+v,y[u+16]=m*s+d*r+g),y[u+2]=i.x0,y[u+3]=i.y0,y[u+7]=i.x1,y[u+8]=i.y1,y[u+12]=i.x2,y[u+13]=i.y2,y[u+17]=i.x3,y[u+18]=i.y3;var x=t.tint;_[u+4]=_[u+9]=_[u+14]=_[u+19]=(x>>16)+(65280&x)+((255&x)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},n.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var i=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,i)}for(var n,r,s,o,a=0,l=0,h=null,u=this.renderer.blendModeManager.currentBlendMode,c=null,p=!1,d=!1,f=0,m=this.currentBatchSize;m>f;f++)o=this.sprites[f],n=o._texture.baseTexture,r=o.blendMode,s=o.shader||this.shader,p=u!==r,d=c!==s,(h!==n||p||d)&&(this.renderBatch(h,a,l),l=f,a=0,h=n,p&&(u=r,this.renderer.blendModeManager.setBlendMode(u)),d&&(c=s,t=c.shaders?c.shaders[e.id]:c,t||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(h,a,l),this.currentBatchSize=0}},n.prototype.renderBatch=function(t,e,i){if(0!==e){var n=this.renderer.gl;t._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,t._glTextures[n.id]):this.renderer.updateTexture(t),n.drawElements(n.TRIANGLES,6*e,n.UNSIGNED_SHORT,6*i*2),this.renderer.drawCount++}},n.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},n.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),r.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":73,"../../renderers/webgl/WebGLRenderer":99,"../../renderers/webgl/utils/ObjectRenderer":113}],119:[function(t,e,i){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||l.RESOLUTION,this._text=null,this._style=null;var n=s.fromCanvas(this.canvas);n.trim=new o.Rectangle,r.call(this,n),this.text=t,this.style=e}var r=t("../sprites/Sprite"),s=t("../textures/Texture"),o=t("../math"),a=t("../utils"),l=t("../const");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.fontPropertiesCache={},n.fontPropertiesCanvas=document.createElement("canvas"),n.fontPropertiesContext=n.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(n.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),n.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,i=e.split(/(?:\r\n|\r|\n)/),n=new Array(i.length),r=0,s=this.determineFontProperties(t.font),o=0;o<i.length;o++){var a=this.context.measureText(i[o]).width;n[o]=a,r=Math.max(r,a)}var l=r+t.strokeThickness;t.dropShadow&&(l+=t.dropShadowDistance),this.canvas.width=(l+this.context.lineWidth)*this.resolution;var h=this.style.lineHeight||s.fontSize+t.strokeThickness,u=h*i.length;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.height=(u+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var c,p;if(t.dropShadow){this.context.fillStyle=t.dropShadowColor;var d=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(o=0;o<i.length;o++)c=t.strokeThickness/2,p=t.strokeThickness/2+o*h+s.ascent,"right"===t.align?c+=r-n[o]:"center"===t.align&&(c+=(r-n[o])/2),t.fill&&this.context.fillText(i[o],c+d,p+f+this._style.padding)}for(this.context.fillStyle=t.fill,o=0;o<i.length;o++)c=t.strokeThickness/2,p=t.strokeThickness/2+o*h+s.ascent,"right"===t.align?c+=r-n[o]:"center"===t.align&&(c+=(r-n[o])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(i[o],c,p+this._style.padding),t.fill&&this.context.fillText(i[o],c,p+this._style.padding);this.updateTexture()},n.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},n.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),r.prototype.renderWebGL.call(this,t)},n.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),r.prototype._renderCanvas.call(this,t)},n.prototype.determineFontProperties=function(t){var e=n.fontPropertiesCache[t];if(!e){e={};var i=n.fontPropertiesCanvas,r=n.fontPropertiesContext;r.font=t;var s=Math.ceil(r.measureText("|MÉq").width),o=Math.ceil(r.measureText("M").width),a=2*o;o=1.4*o|0,i.width=s,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÉq",0,o);var l,h,u=r.getImageData(0,0,s,a).data,c=u.length,p=4*s,d=0,f=!1;for(l=0;o>l;l++){for(h=0;p>h;h+=4)if(255!==u[d+h]){f=!0;break}if(f)break;d+=p}for(e.ascent=o-l,d=c-p,f=!1,l=a;l>o;l--){for(h=0;p>h;h+=4)if(255!==u[d+h]){f=!0;break}if(f)break;d-=p}e.descent=l-o,e.fontSize=e.ascent+e.descent,n.fontPropertiesCache[t]=e}return e},n.prototype.wordWrap=function(t){for(var e="",i=t.split("\n"),n=this._style.wordWrapWidth,r=0;r<i.length;r++){for(var s=n,o=i[r].split(" "),a=0;a<o.length;a++){var l=this.context.measureText(o[a]).width,h=l+this.context.measureText(" ").width;0===a||h>s?(a>0&&(e+="\n"),e+=o[a],s=n-l):(s-=h,e+=" "+o[a])}r<i.length-1&&(e+="\n")}return e},n.prototype.getBounds=function(t){return this.dirty&&this.updateText(),r.prototype.getBounds.call(this,t)},n.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},{"../const":73,"../math":83,"../sprites/Sprite":117,"../textures/Texture":122,"../utils":127}],120:[function(t,e,i){function n(t,e,i){o.call(this),this.uid=r.uid(),this.resolution=i||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||s.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],t&&this.loadSource(t)}var r=t("../utils"),s=t("../const"),o=t("eventemitter3");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=r.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},n.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var i=this;t.onload=function(){t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),i.emit("loaded",i))},t.onerror=function(){t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},n.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},n.prototype.destroy=function(){this.imageUrl?(delete r.BaseTextureCache[this.imageUrl],delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete r.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},n.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},n.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},n.fromImage=function(t,e,i){var s=r.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!s){var o=new Image;e&&(o.crossOrigin=""),s=new n(o,i),s.imageUrl=t,o.src=t,r.BaseTextureCache[t]=s,s.resolution=r.getResolutionOfUrl(t)}return s},n.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+r.uid());var i=r.BaseTextureCache[t._pixiId];return i||(i=new n(t,e),r.BaseTextureCache[t._pixiId]=i),i}},{"../const":73,"../utils":127,eventemitter3:63}],121:[function(t,e,i){function n(t,e,i,n,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,i=i||100,c=c||u.RESOLUTION;var p=new r;if(p.width=e,p.height=i,p.resolution=c,p.scaleMode=n||u.SCALE_MODES.DEFAULT,p.hasLoaded=!0,s.call(this,p,new h.Rectangle(0,0,e,i)),this.width=e,this.height=i,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===u.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new o(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,i),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new l(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var r=t("./BaseTexture"),s=t("./Texture"),o=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),l=t("../renderers/canvas/utils/CanvasBuffer"),h=t("../math"),u=t("../const"),c=new h.Matrix;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.resize=function(t,e,i){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,i&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},n.prototype.clear=function(){this.valid&&(this.renderer.type===u.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},n.prototype.renderWebGL=function(t,e,i,n){if(this.valid){if(n=void 0!==n?n:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,n){t.worldTransform.identity(),t.currentBounds=null;var r,s,o=t.children;for(r=0,s=o.length;s>r;++r)o[r].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,i),this.renderer.filterManager=a}},n.prototype.renderCanvas=function(t,e,i,n){if(this.valid){n=!!n;var r=c;r.identity(),e&&r.append(e),t.worldTransform=r;var s=t.worldTransform;t.worldAlpha=1;var o,a,l=t.children;for(o=0,a=l.length;a>o;++o)l[o].updateTransform();i&&this.textureBuffer.clear();var h=this.textureBuffer.context,u=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,h),this.renderer.resolution=u,t.worldTransform=s}},n.prototype.destroy=function(){s.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},n.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},n.prototype.getBase64=function(){return this.getCanvas().toDataURL()},n.prototype.getCanvas=function(){if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,i=this.textureBuffer.size.height,n=new Uint8Array(4*e*i);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,i,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null);var r=new l(e,i),s=r.context.getImageData(0,0,e,i);return s.data.set(n),r.context.putImageData(s,0,0),r.canvas}return this.textureBuffer.canvas},n.prototype.getPixels=function(){var t,e;if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var i=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var n=new Uint8Array(4*t*e);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(0,0,t,e,i.RGBA,i.UNSIGNED_BYTE,n),i.bindFramebuffer(i.FRAMEBUFFER,null),n}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},n.prototype.getPixel=function(t,e){if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var i=this.renderer.gl,n=new Uint8Array(4);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(t,e,1,1,i.RGBA,i.UNSIGNED_BYTE,n),i.bindFramebuffer(i.FRAMEBUFFER,null),n}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":73,"../math":83,"../renderers/canvas/utils/CanvasBuffer":95,"../renderers/webgl/managers/FilterManager":104,"../renderers/webgl/utils/RenderTarget":115,"./BaseTexture":120,"./Texture":122}],122:[function(t,e,i){function n(t,e,i,r,s){a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new l.Rectangle(0,0,1,1)),t instanceof n&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=r,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||e,this.rotate=!!s,t.hasLoaded?(this.noFrame&&(e=new l.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var r=t("./BaseTexture"),s=t("./VideoBaseTexture"),o=t("./TextureUvs"),a=t("eventemitter3"),l=t("../math"),h=t("../utils");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),n.prototype.update=function(){this.baseTexture.update()},n.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new l.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},n.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},n.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},n.prototype.clone=function(){return new n(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},n.prototype._updateUvs=function(){this._uvs||(this._uvs=new o),this._uvs.set(this.crop,this.baseTexture,this.rotate)},n.fromImage=function(t,e,i){var s=h.TextureCache[t];return s||(s=new n(r.fromImage(t,e,i)),h.TextureCache[t]=s),s},n.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},n.fromCanvas=function(t,e){return new n(r.fromCanvas(t,e))},n.fromVideo=function(t,e){return"string"==typeof t?n.fromVideoUrl(t,e):new n(s.fromVideo(t,e))},n.fromVideoUrl=function(t,e){return new n(s.fromUrl(t,e))},n.addTextureToCache=function(t,e){h.TextureCache[e]=t},n.removeTextureFromCache=function(t){var e=h.TextureCache[t];return delete h.TextureCache[t],delete h.BaseTextureCache[t],e},n.EMPTY=new n(new r)},{"../math":83,"../utils":127,"./BaseTexture":120,"./TextureUvs":123,"./VideoBaseTexture":124,eventemitter3:63}],123:[function(t,e,i){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=n,n.prototype.set=function(t,e,i){var n=e.width,r=e.height;i?(this.x0=(t.x+t.height)/n,this.y0=t.y/r,this.x1=(t.x+t.height)/n,this.y1=(t.y+t.width)/r,this.x2=t.x/n,this.y2=(t.y+t.width)/r,this.x3=t.x/n,this.y3=t.y/r):(this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r)}},{}],124:[function(t,e,i){function n(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),s.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function r(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=t,i.type=e,i}var s=t("./BaseTexture"),o=t("../utils");n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,n.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},n.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},n.prototype._onPlayStop=function(){this.autoUpdate=!1},n.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)));
},n.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete o.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),s.prototype.destroy.call(this)},n.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+o.uid());var i=o.BaseTextureCache[t._pixiId];return i||(i=new n(t,e),o.BaseTextureCache[t._pixiId]=i),i},n.fromUrl=function(t,e){var i=document.createElement("video");if(Array.isArray(t))for(var s=0;s<t.length;++s)i.appendChild(r(t[s].src||t[s],t[s].mime));else i.appendChild(r(t.src||t,t.mime));return i.load(),i.play(),n.fromVideo(i,e)},n.fromUrls=n.fromUrl},{"../utils":127,"./BaseTexture":120}],125:[function(t,e,i){function n(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(o,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new s,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/r.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var r=t("../const"),s=t("eventemitter3"),o="tick";Object.defineProperties(n.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,r.TARGET_FPMS);this._maxElapsedMS=1/e}}}),n.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(o,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e){return this._emitter.on(o,t,e),this._startIfPossible(),this},n.prototype.addOnce=function(t,e){return this._emitter.once(o,t,e),this._startIfPossible(),this},n.prototype.remove=function(t,e){return this._emitter.off(o,t,e),this._emitter.listeners(o,!0)||this._cancelIfNeeded(),this},n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*r.TARGET_FPMS*this.speed,this._emitter.emit(o,this.deltaTime),this.lastTime=t},e.exports=n},{"../const":73,eventemitter3:63}],126:[function(t,e,i){var n=t("./Ticker"),r=new n;r.autoStart=!0,e.exports={shared:r,Ticker:n}},{"./Ticker":125}],127:[function(t,e,i){var n=t("../const"),r=e.exports={_uid:0,_saidHello:!1,EventEmitter:t("eventemitter3"),pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++r._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;i.src=t+"AP804Oa6"+e;var n=new Image;n.src=t+"/wCKxvRF"+e;var r=document.createElement("canvas");r.width=6,r.height=1;var s=r.getContext("2d");s.globalCompositeOperation="multiply",s.drawImage(i,0,0),s.drawImage(n,2,0);var o=s.getImageData(2,0,1,1).data;return 255===o[0]&&0===o[1]&&0===o[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=n.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!r._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+n.VERSION+" - "+t+" - http://www.pixijs.com/");r._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!i||!i.getContextAttributes().stencil)}catch(n){return!1}},sign:function(t){return t?0>t?-1:1:0},TextureCache:{},BaseTextureCache:{}}},{"../const":73,"./pluginTarget":128,async:57,eventemitter3:63}],128:[function(t,e,i){function n(t){t.__plugins={},t.registerPlugin=function(e,i){t.__plugins[e]=i},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.exports={mixin:function(t){n(t)}}},{}],129:[function(t,e,i){var n=t("./core"),r=t("./mesh"),s=t("./extras"),o=t("./filters");n.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},n.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(n,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),n.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),n.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),r.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),r.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),s.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),s.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),s.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),n.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),n.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),n.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),n.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),n}}}),n.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},s.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},n.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},n.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},n.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(o,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),n.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),n.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),n.SpriteMaskFilter}}}),n.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),n.utils.uid()}},{"./core":80,"./extras":136,"./filters":153,"./mesh":177}],130:[function(t,e,i){function n(t,e){r.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var r=t("../core");n.prototype=Object.create(r.Container.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):n.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),n.prototype.updateText=function(){for(var t=n.fonts[this._font.name],e=new r.Point,i=null,s=[],o=0,a=0,l=[],h=0,u=this._font.size/t.size,c=-1,p=0,d=0;d<this.text.length;d++){var f=this.text.charCodeAt(d);if(c=/(\s)/.test(this.text.charAt(d))?d:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))l.push(o),a=Math.max(a,o),h++,e.x=0,e.y+=t.lineHeight,i=null;else if(-1!==c&&this.maxWidth>0&&e.x*u>this.maxWidth)s.splice(c,d-c),d=c,c=-1,l.push(o),a=Math.max(a,o),h++,e.x=0,e.y+=t.lineHeight,i=null;else{var m=t.chars[f];m&&(i&&m.kerning[i]&&(e.x+=m.kerning[i]),s.push({texture:m.texture,line:h,charCode:f,position:new r.Point(e.x+m.xOffset,e.y+m.yOffset)}),o=e.x+(m.texture.width+m.xOffset),e.x+=m.xAdvance,p=Math.max(p,m.yOffset+m.texture.height),i=f)}}l.push(o),a=Math.max(a,o);var v=[];for(d=0;h>=d;d++){var g=0;"right"===this._font.align?g=a-l[d]:"center"===this._font.align&&(g=(a-l[d])/2),v.push(g)}var _=s.length,y=this.tint;for(d=0;_>d;d++){var x=this._glyphs[d];x?x.texture=s[d].texture:(x=new r.Sprite(s[d].texture),this._glyphs.push(x)),x.position.x=(s[d].position.x+v[s[d].line])*u,x.position.y=s[d].position.y*u,x.scale.x=x.scale.y=u,x.tint=y,x.parent||this.addChild(x)}for(d=_;d<this._glyphs.length;++d)this.removeChild(this._glyphs[d]);this.textWidth=a*u,this.textHeight=(e.y+t.lineHeight)*u,this.maxLineHeight=p*u},n.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},n.prototype.getLocalBounds=function(){return this.validate(),r.Container.prototype.getLocalBounds.call(this)},n.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.fonts={}},{"../core":80}],131:[function(t,e,i){function n(t){r.Sprite.call(this,t[0]instanceof r.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var r=t("../core");n.prototype=Object.create(r.Sprite.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof r.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return 0>t&&(t+=this._textures.length),t}}}),n.prototype.stop=function(){this.playing&&(this.playing=!1,r.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,r.ticker.shared.add(this.update,this))},n.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},n.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},n.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;0>i;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},n.prototype.destroy=function(){this.stop(),r.Sprite.prototype.destroy.call(this)},n.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(new r.Texture.fromFrame(t[i]));return new n(e)},n.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(new r.Texture.fromImage(t[i]));return new n(e)}},{"../core":80}],132:[function(t,e,i){function n(t,e,i){r.Sprite.call(this,t),this.tileScale=new r.Point(1,1),this.tilePosition=new r.Point(0,0),this._width=e||100,this._height=i||100,this._uvs=new r.TextureUvs,this._canvasPattern=null,this.shader=new r.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var r=t("../core"),s=new r.Point,o=t("../core/renderers/canvas/utils/CanvasTinter");n.prototype=Object.create(r.Sprite.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),n.prototype._onTextureUpdate=function(){},n.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var i=e._uvs,n=e._frame.width,r=e._frame.height,s=e.baseTexture.width,o=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/s,this.shader.uniforms.uPixelSize.value[1]=1/o,this.shader.uniforms.uFrame.value[0]=i.x0,this.shader.uniforms.uFrame.value[1]=i.y0,this.shader.uniforms.uFrame.value[2]=i.x1-i.x0,this.shader.uniforms.uFrame.value[3]=i.y2-i.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(n*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(r*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=s/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=o/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=i,e._frame.width=n,e._frame.height=r}},n.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var i=t.context,n=this.worldTransform,s=t.resolution,a=e.baseTexture,l=this.tilePosition.x/this.tileScale.x%e._frame.width,h=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var u=new r.CanvasBuffer(e._frame.width,e._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=o.getTintedTexture(this,this.tint)),u.context.drawImage(this.tintedTexture,0,0)):u.context.drawImage(a.source,-e._frame.x,-e._frame.y),this._canvasPattern=u.context.createPattern(u.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s),i.scale(this.tileScale.x,this.tileScale.y),i.translate(l+this.anchor.x*-this._width,h+this.anchor.y*-this._height);var c=t.blendModes[this.blendMode];c!==t.context.globalCompositeOperation&&(i.globalCompositeOperation=c),i.fillStyle=this._canvasPattern,i.fillRect(-l,-h,this._width/this.tileScale.x,this._height/this.tileScale.y)}},n.prototype.getBounds=function(){var t,e,i,n,r=this._width,s=this._height,o=r*(1-this.anchor.x),a=r*-this.anchor.x,l=s*(1-this.anchor.y),h=s*-this.anchor.y,u=this.worldTransform,c=u.a,p=u.b,d=u.c,f=u.d,m=u.tx,v=u.ty,g=c*a+d*h+m,_=f*h+p*a+v,y=c*o+d*h+m,x=f*h+p*o+v,b=c*o+d*l+m,w=f*l+p*o+v,T=c*a+d*l+m,E=f*l+p*a+v;t=g,t=t>y?y:t,t=t>b?b:t,t=t>T?T:t,i=_,i=i>x?x:i,i=i>w?w:i,i=i>E?E:i,e=g,e=y>e?y:e,e=b>e?b:e,e=T>e?T:e,n=_,n=x>n?x:n,n=w>n?w:n,n=E>n?E:n;var S=this._bounds;return S.x=t,S.width=e-t,S.y=i,S.height=n-i,this._currentBounds=S,S},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e,i=this._width,n=this._height,r=-i*this.anchor.x;return s.x>r&&s.x<r+i&&(e=-n*this.anchor.y,s.y>e&&s.y<e+n)?!0:!1},n.prototype.destroy=function(){r.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},n.fromFrame=function(t,e,i){var s=r.utils.TextureCache[t];if(!s)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new n(s,e,i)},n.fromImage=function(t,e,i,s,o){return new n(r.Texture.fromImage(t,s,o),e,i)}},{"../core":80,"../core/renderers/canvas/utils/CanvasTinter":98}],133:[function(t,e,i){var n=t("../core"),r=n.DisplayObject,s=new n.Matrix;r.prototype._cacheAsBitmap=!1,r.prototype._originalRenderWebGL=null,r.prototype._originalRenderCanvas=null,r.prototype._originalUpdateTransform=null,r.prototype._originalHitTest=null,r.prototype._originalDestroy=null,r.prototype._cachedSprite=null,Object.defineProperties(r.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),r.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},r.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var i=this._filters[0].padding;e.x-=i,e.y-=i,e.width+=2*i,e.height+=2*i}var r=t.currentRenderTarget,o=t.filterManager.filterStack,a=new n.RenderTexture(t,0|e.width,0|e.height),l=s;l.tx=-e.x,l.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,l,!0,!0),t.setRenderTarget(r),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new n.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},r.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},r.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),i=t.context,r=new n.RenderTexture(t,0|e.width,0|e.height),o=s;o.tx=-e.x,o.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,r.render(this,o,!0),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new n.Sprite(r),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},r.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},r.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},r.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":80}],134:[function(t,e,i){var n=t("../core");n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":80}],135:[function(t,e,i){var n=t("../core");n.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new n.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":80}],136:[function(t,e,i){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":130,"./MovieClip":131,"./TilingSprite":132,"./cacheAsBitmap":133,"./getChildByName":134,"./getGlobalPosition":135}],137:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":80}],138:[function(t,e,i){function n(){r.AbstractFilter.call(this),this.blurXFilter=new s,this.blurYFilter=new o,this.defaultFilter=new r.AbstractFilter}var r=t("../../core"),s=t("../blur/BlurXFilter"),o=t("../blur/BlurYFilter");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,i),this.blurXFilter.applyFilter(t,e,n),t.blendModeManager.setBlendMode(r.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,n,i),t.blendModeManager.setBlendMode(r.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":80,"../blur/BlurXFilter":141,"../blur/BlurYFilter":142}],139:[function(t,e,i){function n(t,e){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new r.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i,n){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(r,e,i,n);else{var s=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(r,e,s,n);for(var o=0;o<this.passes-2;o++)t.filterManager.applyFilter(r,s,s,n);t.filterManager.applyFilter(r,s,i,n),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":80}],140:[function(t,e,i){function n(){r.AbstractFilter.call(this),this.blurXFilter=new s,this.blurYFilter=new o}var r=t("../../core"),s=t("./BlurXFilter"),o=t("./BlurYFilter");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,n),this.blurYFilter.applyFilter(t,n,i),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":80,"./BlurXFilter":141,"./BlurYFilter":142}],141:[function(t,e,i){function n(){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i,n){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(r,e,i,n);else{for(var s=t.filterManager.getRenderTarget(!0),o=e,a=s,l=0;l<this.passes-1;l++){t.filterManager.applyFilter(r,o,a,!0);var h=a;a=o,o=h}t.filterManager.applyFilter(r,o,i,n),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){
this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":80}],142:[function(t,e,i){function n(){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i,n){var r=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(r,e,i,n);else{for(var s=t.filterManager.getRenderTarget(!0),o=e,a=s,l=0;l<this.passes-1;l++){t.filterManager.applyFilter(r,o,a,!0);var h=a;a=o,o=h}t.filterManager.applyFilter(r,o,i,n),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":80}],143:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n},{"../../core":80}],144:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype._loadMatrix=function(t,e){e=!!e;var i=t;e&&(this._multiply(i,this.uniforms.m.value,t),i=this._colorMatrix(i)),this.uniforms.m.value=i},n.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19],t},n.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},n.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},n.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},n.prototype.grayscale=n.prototype.greyscale,n.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),n=Math.sin(t),r=.213,s=.715,o=.072,a=[r+i*(1-r)+n*-r,s+i*-s+n*-s,o+i*-o+n*(1-o),0,0,r+i*-r+.143*n,s+i*(1-s)+.14*n,o+i*-o+n*-.283,0,0,r+i*-r+n*-(1-r),s+i*-s+n*s,o+i*(1-o)+n*o,0,0,0,0,0,1,0];this._loadMatrix(a,e)},n.prototype.contrast=function(t,e){var i=(t||0)+1,n=-128*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.saturate=function(t,e){var i=2*(t||0)/3+1,n=(i-1)*-.5,r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.desaturate=function(t){this.saturate(-1)},n.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.colorTone=function(t,e,i,n,r){t=t||.2,e=e||.15,i=i||16770432,n=n||3375104;var s=(i>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,l=(n>>16&255)/255,h=(n>>8&255)/255,u=(255&n)/255,c=[.3,.59,.11,0,0,s,o,a,t,0,l,h,u,e,0,s-l,o-h,a-u,0,0];this._loadMatrix(c,r)},n.prototype.night=function(t,e){t=t||.1;var i=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},n.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},n.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},n.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":80}],145:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},{"../../core":80}],146:[function(t,e,i){function n(t,e,i){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/i}}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":80}],147:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n},{"../../core":80}],148:[function(t,e,i){function n(t,e){var i=new r.Matrix;t.renderable=!1,r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:i.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=i,(null===e||void 0===e)&&(e=20),this.scale=new r.Point(e,e)}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager;n.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var r=this.getShader(t);n.applyFilter(r,e,i)},Object.defineProperties(n.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":80}],149:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":80}],150:[function(t,e,i){function n(){r.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i,n){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(r,e,i,n);else{for(var s=t.filterManager.getRenderTarget(!0),o=e,a=s,l=0;l<this.passes-1;l++){t.filterManager.applyFilter(r,o,a,n);var h=a;a=o,o=h}t.filterManager.applyFilter(r,o,i,n),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":80}],151:[function(t,e,i){function n(){r.AbstractFilter.call(this),this.blurXFilter=new s,this.blurYTintFilter=new o,this.defaultFilter=new r.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=r.BLEND_MODES.MULTIPLY}var r=t("../../core"),s=t("../blur/BlurXFilter"),o=t("./BlurYTintFilter");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,n),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,n,i),t.blendModeManager.setBlendMode(r.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,i),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return r.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=r.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":80,"../blur/BlurXFilter":141,"./BlurYTintFilter":150}],152:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":80}],153:[function(t,e,i){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":137,"./bloom/BloomFilter":138,"./blur/BlurDirFilter":139,"./blur/BlurFilter":140,"./blur/BlurXFilter":141,"./blur/BlurYFilter":142,"./blur/SmartBlurFilter":143,"./color/ColorMatrixFilter":144,"./color/ColorStepFilter":145,"./convolution/ConvolutionFilter":146,"./crosshatch/CrossHatchFilter":147,"./displacement/DisplacementFilter":148,"./dot/DotScreenFilter":149,"./dropshadow/DropShadowFilter":151,"./gray/GrayFilter":152,"./invert/InvertFilter":154,"./noise/NoiseFilter":155,"./pixelate/PixelateFilter":156,"./rgb/RGBSplitFilter":157,"./sepia/SepiaFilter":158,"./shockwave/ShockwaveFilter":159,"./tiltshift/TiltShiftFilter":161,"./tiltshift/TiltShiftXFilter":162,"./tiltshift/TiltShiftYFilter":163,"./twist/TwistFilter":164}],154:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":80}],155:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":80}],156:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":80}],157:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":80}],158:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":80}],159:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":80}],160:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(n.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":80}],161:[function(t,e,i){function n(){r.AbstractFilter.call(this),this.tiltShiftXFilter=new s,this.tiltShiftYFilter=new o}var r=t("../../core"),s=t("./TiltShiftXFilter"),o=t("./TiltShiftYFilter");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,
e.exports=n,n.prototype.applyFilter=function(t,e,i){var n=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,n),this.tiltShiftYFilter.applyFilter(t,n,i),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":80,"./TiltShiftXFilter":162,"./TiltShiftYFilter":163}],162:[function(t,e,i){function n(){r.call(this)}var r=t("./TiltShiftAxisFilter");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,i=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/i,this.uniforms.delta.value.y=e/i}},{"./TiltShiftAxisFilter":160}],163:[function(t,e,i){function n(){r.call(this)}var r=t("./TiltShiftAxisFilter");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,i=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/i,this.uniforms.delta.value.y=t/i}},{"./TiltShiftAxisFilter":160}],164:[function(t,e,i){function n(){r.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var r=t("../../core");n.prototype=Object.create(r.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":80}],165:[function(t,e,i){(function(i){t("./polyfill");var n=e.exports=t("./core");n.extras=t("./extras"),n.filters=t("./filters"),n.interaction=t("./interaction"),n.loaders=t("./loaders"),n.mesh=t("./mesh"),n.loader=new n.loaders.Loader,Object.assign(n,t("./deprecation")),i.PIXI=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":80,"./deprecation":129,"./extras":136,"./filters":153,"./interaction":168,"./loaders":171,"./mesh":177,"./polyfill":182}],166:[function(t,e,i){function n(){this.global=new r.Point,this.target=null,this.originalEvent=null}var r=t("../core");n.prototype.constructor=n,e.exports=n,n.prototype.getLocalPosition=function(t,e,i){return t.toLocal(i?i:this.global,e)}},{"../core":80}],167:[function(t,e,i){function n(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new s,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new r.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var r=t("../core"),s=t("./InteractionData");Object.assign(r.DisplayObject.prototype,t("./interactiveTarget")),n.prototype.constructor=n,e.exports=n,n.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},n.prototype.addEvents=function(){this.interactionDOMElement&&(r.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},n.prototype.removeEvents=function(){this.interactionDOMElement&&(r.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},n.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},n.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.target=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},n.prototype.mapPositionToPoint=function(t,e,i){var n=this.interactionDOMElement.getBoundingClientRect();t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)/this.resolution,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)/this.resolution},n.prototype.processInteractive=function(t,e,i,n,r){if(!e||!e.visible)return!1;var s=e.children,o=!1;if(r=r||e.interactive,e.interactiveChildren)for(var a=s.length-1;a>=0;a--)!o&&n?o=this.processInteractive(t,s[a],i,!0,r):this.processInteractive(t,s[a],i,!1,!1);return r&&(n&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),o=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(o=e.containsPoint(t))),e.interactive&&i(e,o)),o},n.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},n.prototype.processMouseDown=function(t,e){var i=this.mouse.originalEvent,n=2===i.button||3===i.which;e&&(t[n?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,n?"rightdown":"mousedown",this.eventData))},n.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},n.prototype.processMouseUp=function(t,e){var i=this.mouse.originalEvent,n=2===i.button||3===i.which,r=n?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,n?"rightup":"mouseup",this.eventData),t[r]&&(t[r]=!1,this.dispatchEvent(t,n?"rightclick":"click",this.eventData))):t[r]&&(t[r]=!1,this.dispatchEvent(t,n?"rightupoutside":"mouseupoutside",this.eventData))},n.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},n.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},n.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},n.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},n.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,i=e.length,n=0;i>n;n++){var r=e[n],s=this.getTouchData(r);s.originalEvent=t,this.eventData.data=s,this.eventData.stopped=!1,this.processInteractive(s.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(s)}},n.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},n.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,i=e.length,n=0;i>n;n++){var r=e[n],s=this.getTouchData(r);s.originalEvent=t,this.eventData.data=s,this.eventData.stopped=!1,this.processInteractive(s.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(s)}},n.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},n.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,i=e.length,n=0;i>n;n++){var r=e[n],s=this.getTouchData(r);s.originalEvent=t,this.eventData.data=s,this.eventData.stopped=!1,this.processInteractive(s.global,this.renderer._lastObjectRendered,this.processTouchMove,!0),this.returnTouchData(s)}},n.prototype.processTouchMove=function(t,e){e=e,this.dispatchEvent(t,"touchmove",this.eventData)},n.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new s),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},n.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},n.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},r.WebGLRenderer.registerPlugin("interaction",n),r.CanvasRenderer.registerPlugin("interaction",n)},{"../core":80,"./InteractionData":166,"./interactiveTarget":169}],168:[function(t,e,i){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":166,"./InteractionManager":167,"./interactiveTarget":169}],169:[function(t,e,i){var n={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=n},{}],170:[function(t,e,i){function n(t,e){var i={},n=t.data.getElementsByTagName("info")[0],r=t.data.getElementsByTagName("common")[0];i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(r.getAttribute("lineHeight"),10),i.chars={};for(var a=t.data.getElementsByTagName("char"),l=0;l<a.length;l++){var h=parseInt(a[l].getAttribute("id"),10),u=new s.Rectangle(parseInt(a[l].getAttribute("x"),10)+e.frame.x,parseInt(a[l].getAttribute("y"),10)+e.frame.y,parseInt(a[l].getAttribute("width"),10),parseInt(a[l].getAttribute("height"),10));i.chars[h]={xOffset:parseInt(a[l].getAttribute("xoffset"),10),yOffset:parseInt(a[l].getAttribute("yoffset"),10),xAdvance:parseInt(a[l].getAttribute("xadvance"),10),kerning:{},texture:new s.Texture(e.baseTexture,u)}}var c=t.data.getElementsByTagName("kerning");for(l=0;l<c.length;l++){var p=parseInt(c[l].getAttribute("first"),10),d=parseInt(c[l].getAttribute("second"),10),f=parseInt(c[l].getAttribute("amount"),10);i.chars[d].kerning[p]=f}t.bitmapFont=i,o.BitmapText.fonts[i.font]=i}var r=t("resource-loader").Resource,s=t("../core"),o=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var i=a.dirname(t.url);"."===i&&(i=""),this.baseUrl&&i&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/"),i=i.replace(this.baseUrl,"")),i&&"/"!==i.charAt(i.length-1)&&(i+="/");var o=i+t.data.getElementsByTagName("page")[0].getAttribute("file");if(s.utils.TextureCache[o])n(t,s.utils.TextureCache[o]),e();else{var l={crossOrigin:t.crossOrigin,loadType:r.LOAD_TYPE.IMAGE};this.add(t.name+"_image",o,l,function(i){n(t,i.texture),e()})}}}},{"../core":80,"../extras":136,path:70,"resource-loader":194}],171:[function(t,e,i){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":170,"./loader":172,"./spritesheetParser":173,"./textureParser":174,"resource-loader":194}],172:[function(t,e,i){function n(t,e){r.call(this,t,e);for(var i=0;i<n._pixiMiddleware.length;++i)this.use(n._pixiMiddleware[i]())}var r=t("resource-loader"),s=t("./textureParser"),o=t("./spritesheetParser"),a=t("./bitmapFontParser");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n._pixiMiddleware=[r.middleware.parsing.blob,s,o,a],n.addPixiMiddleware=function(t){n._pixiMiddleware.push(t)};var l=r.Resource;l.setExtensionXhrType("fnt",l.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":170,"./spritesheetParser":173,"./textureParser":174,"resource-loader":194}],173:[function(t,e,i){var n=t("resource-loader").Resource,r=t("path"),s=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var i={crossOrigin:t.crossOrigin,loadType:n.LOAD_TYPE.IMAGE},o=r.dirname(t.url.replace(this.baseUrl,"")),a=s.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",o+"/"+t.data.meta.image,i,function(i){t.textures={};var n=t.data.frames;for(var r in n){var o=n[r].frame;if(o){var l=null,h=null;if(l=n[r].rotated?new s.Rectangle(o.x,o.y,o.h,o.w):new s.Rectangle(o.x,o.y,o.w,o.h),n[r].trimmed&&(h=new s.Rectangle(n[r].spriteSourceSize.x/a,n[r].spriteSourceSize.y/a,n[r].sourceSize.w/a,n[r].sourceSize.h/a)),n[r].rotated){var u=l.width;l.width=l.height,l.height=u}l.x/=a,l.y/=a,l.width/=a,l.height/=a,t.textures[r]=new s.Texture(i.texture.baseTexture,l,l.clone(),h,n[r].rotated),s.utils.TextureCache[r]=t.textures[r]}}e()})}}},{"../core":80,path:70,"resource-loader":194}],174:[function(t,e,i){var n=t("../core");e.exports=function(){return function(t,e){if(t.data&&t.isImage){var i=new n.BaseTexture(t.data,null,n.utils.getResolutionOfUrl(t.url));i.imageUrl=t.url,t.texture=new n.Texture(i),n.utils.BaseTextureCache[t.url]=i,n.utils.TextureCache[t.url]=t.texture}e()}}},{"../core":80}],175:[function(t,e,i){function n(t,e,i,s,o){r.Container.call(this),this._texture=null,this.uvs=i||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=s||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=r.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=o||n.DRAW_MODES.TRIANGLE_MESH,this.texture=t}var r=t("../core"),s=new r.Point,o=new r.Polygon;n.prototype=Object.create(r.Container.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),n.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},n.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform;t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this.drawMode===n.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},n.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,i=this.uvs,n=e.length/2,r=0;n-2>r;r++){var s=2*r;this._renderCanvasDrawTriangle(t,e,i,s,s+2,s+4)}},n.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,i=this.uvs,n=this.indices,r=n.length,s=0;r>s;s+=3){var o=2*n[s],a=2*n[s+1],l=2*n[s+2];this._renderCanvasDrawTriangle(t,e,i,o,a,l)}},n.prototype._renderCanvasDrawTriangle=function(t,e,i,n,r,s){var o=this._texture.baseTexture.source,a=this._texture.baseTexture.width,l=this._texture.baseTexture.height,h=e[n],u=e[r],c=e[s],p=e[n+1],d=e[r+1],f=e[s+1],m=i[n]*a,v=i[r]*a,g=i[s]*a,_=i[n+1]*l,y=i[r+1]*l,x=i[s+1]*l;if(this.canvasPadding>0){var b=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,T=(h+u+c)/3,E=(p+d+f)/3,S=h-T,C=p-E,A=Math.sqrt(S*S+C*C);h=T+S/A*(A+b),p=E+C/A*(A+w),S=u-T,C=d-E,A=Math.sqrt(S*S+C*C),u=T+S/A*(A+b),d=E+C/A*(A+w),S=c-T,C=f-E,A=Math.sqrt(S*S+C*C),c=T+S/A*(A+b),f=E+C/A*(A+w)}t.save(),t.beginPath(),t.moveTo(h,p),t.lineTo(u,d),t.lineTo(c,f),t.closePath(),t.clip();var P=m*y+_*g+v*x-y*g-_*v-m*x,R=h*y+_*c+u*x-y*c-_*u-h*x,O=m*u+h*g+v*c-u*g-h*v-m*c,M=m*y*c+_*u*g+h*v*x-h*y*g-_*v*c-m*u*x,D=p*y+_*f+d*x-y*f-_*d-p*x,k=m*d+p*g+v*f-d*g-p*v-m*f,F=m*y*f+_*d*g+p*v*x-p*y*g-_*v*f-m*d*x;t.transform(R/P,D/P,O/P,k/P,M/P,F/P),t.drawImage(o,0,0),t.restore()},n.prototype.renderMeshFlat=function(t){var e=this.context,i=t.vertices,n=i.length/2;e.beginPath();for(var r=1;n-2>r;r++){var s=2*r,o=i[s],a=i[s+2],l=i[s+4],h=i[s+1],u=i[s+3],c=i[s+5];e.moveTo(o,h),e.lineTo(a,u),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype._onTextureUpdate=function(){this.updateFrame=!0},n.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,i=e.a,n=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,h=-(1/0),u=-(1/0),c=1/0,p=1/0,d=this.vertices,f=0,m=d.length;m>f;f+=2){var v=d[f],g=d[f+1],_=i*v+s*g+a,y=o*g+n*v+l;c=c>_?_:c,p=p>y?y:p,h=_>h?_:h,u=y>u?y:u}if(c===-(1/0)||u===1/0)return r.Rectangle.EMPTY;var x=this._bounds;x.x=c,x.width=h-c,x.y=p,x.height=u-p,this._currentBounds=x}return this._currentBounds},n.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,s);var e,i,r=this.vertices,a=o.points;if(this.drawMode===n.DRAW_MODES.TRIANGLES){var l=this.indices;for(i=this.indices.length,e=0;i>e;e+=3){var h=2*l[e],u=2*l[e+1],c=2*l[e+2];if(a[0]=r[h],a[1]=r[h+1],a[2]=r[u],a[3]=r[u+1],a[4]=r[c],a[5]=r[c+1],o.contains(s.x,s.y))return!0}}else for(i=r.length,e=0;i>e;e+=6)if(a[0]=r[e],a[1]=r[e+1],a[2]=r[e+2],a[3]=r[e+3],a[4]=r[e+4],a[5]=r[e+5],o.contains(s.x,s.y))return!0;return!1},n.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":80}],176:[function(t,e,i){function n(t,e){r.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var r=t("./Mesh"),s=t("../core");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,i=this.indices,n=this.colors,r=this._texture._uvs,o=new s.Point(r.x0,r.y0),a=new s.Point(r.x2-r.x0,r.y2-r.y0);e[0]=0+o.x,e[1]=0+o.y,e[2]=0+o.x,e[3]=1*a.y+o.y,n[0]=1,n[1]=1,i[0]=0,i[1]=1;for(var l,h,u,c=t.length,p=1;c>p;p++)l=t[p],h=4*p,u=p/(c-1),e[h]=u*a.x+o.x,e[h+1]=0+o.y,e[h+2]=u*a.x+o.x,e[h+3]=1*a.y+o.y,h=2*p,n[h]=1,n[h+1]=1,h=2*p,i[h]=h,i[h+1]=h+1;this.dirty=!0}},n.prototype._onTextureUpdate=function(){r.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},n.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,i,n,r,s,o,a=t[0],l=0,h=0,u=this.vertices,c=t.length,p=0;c>p;p++)i=t[p],n=4*p,e=p<t.length-1?t[p+1]:i,h=-(e.x-a.x),l=e.y-a.y,r=10*(1-p/(c-1)),r>1&&(r=1),s=Math.sqrt(l*l+h*h),o=this._texture.height/2,l/=s,h/=s,l*=o,h*=o,u[n]=i.x+l,u[n+1]=i.y+h,u[n+2]=i.x-l,u[n+3]=i.y-h,a=i;this.containerUpdateTransform()}}},{"../core":80,"./Mesh":175}],177:[function(t,e,i){e.exports={Mesh:t("./Mesh"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":175,"./Rope":176,"./webgl/MeshRenderer":178,"./webgl/MeshShader":179}],178:[function(t,e,i){function n(t){r.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,i=0;15e3>e;e+=6,i+=4)this.indices[e+0]=i+0,this.indices[e+1]=i+1,this.indices[e+2]=i+2,this.indices[e+3]=i+0,this.indices[e+4]=i+2,this.indices[e+5]=i+3}var r=t("../../core"),s=t("../Mesh");n.prototype=Object.create(r.ObjectRenderer.prototype),n.prototype.constructor=n,e.exports=n,r.WebGLRenderer.registerPlugin("mesh",n),n.prototype.onContextChange=function(){},n.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,i=e.gl,n=t._texture.baseTexture,r=e.shaderManager.plugins.meshShader,o=t.drawMode===s.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,e.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),t.dirty?(t.dirty=!1,i.bindBuffer(i.ARRAY_BUFFER,t._vertexBuffer),i.bufferData(i.ARRAY_BUFFER,t.vertices,i.STATIC_DRAW),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.bufferData(i.ARRAY_BUFFER,t.uvs,i.STATIC_DRAW),i.vertexAttribPointer(r.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),n._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,n._glTextures[i.id]):this.renderer.updateTexture(n),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t._indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.indices,i.STATIC_DRAW)):(i.bindBuffer(i.ARRAY_BUFFER,t._vertexBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,t.vertices),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.vertexAttribPointer(r.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),n._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,n._glTextures[i.id]):this.renderer.updateTexture(n),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t._indexBuffer),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,0,t.indices)),i.drawElements(o,t.indices.length,i.UNSIGNED_SHORT,0)},n.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},n.prototype.flush=function(){},n.prototype.start=function(){var t=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(t)},n.prototype.destroy=function(){r.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":80,"../Mesh":175}],179:[function(t,e,i){function n(t){r.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var r=t("../../core");n.prototype=Object.create(r.Shader.prototype),n.prototype.constructor=n,e.exports=n,r.ShaderManager.registerPlugin("meshShader",n)},{"../../core":80}],180:[function(t,e,i){Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1})},{}],181:[function(t,e,i){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":68}],182:[function(t,e,i){t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign")},{"./Math.sign":180,"./Object.assign":181,"./requestAnimationFrame":183}],183:[function(t,e,i){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var i=Date.now(),n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[n[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+i-e;return 0>n&&(n=0),i=e,setTimeout(function(){i=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],184:[function(t,e,i){function n(){u=!1,a.length?h=a.concat(h):c=-1,h.length&&r()}function r(){if(!u){var t=setTimeout(n);u=!0;for(var e=h.length;e;){for(a=h,h=[];++c<e;)a&&a[c].run();c=-1,e=h.length}a=null,u=!1,clearTimeout(t)}}function s(t,e){this.fun=t,this.array=e}function o(){}var a,l=e.exports={},h=[],u=!1,c=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new s(t,e)),1!==h.length||u||setTimeout(r,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],185:[function(t,e,i){(function(t){!function(n){function r(t){throw new RangeError(k[t])}function s(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function o(t,e){var i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]),t=t.replace(D,".");var r=t.split("."),o=s(r,e).join(".");return n+o}function a(t){for(var e,i,n=[],r=0,s=t.length;s>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&s>r?(i=t.charCodeAt(r++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--)):n.push(e);return n}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:w}function u(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function c(t,e,i){var n=0;for(t=i?L(t/C):t>>1,t+=L(t/e);t>F*E>>1;n+=w)t=L(t/F);return L(n+(F+1)*t/(t+S))}function p(t){var e,i,n,s,o,a,u,p,d,f,m=[],v=t.length,g=0,_=P,y=A;for(i=t.lastIndexOf(R),0>i&&(i=0),n=0;i>n;++n)t.charCodeAt(n)>=128&&r("not-basic"),m.push(t.charCodeAt(n));for(s=i>0?i+1:0;v>s;){for(o=g,a=1,u=w;s>=v&&r("invalid-input"),p=h(t.charCodeAt(s++)),(p>=w||p>L((b-g)/a))&&r("overflow"),g+=p*a,d=y>=u?T:u>=y+E?E:u-y,!(d>p);u+=w)f=w-d,a>L(b/f)&&r("overflow"),a*=f;e=m.length+1,y=c(g-o,e,0==o),L(g/e)>b-_&&r("overflow"),_+=L(g/e),g%=e,m.splice(g++,0,_)}return l(m)}function d(t){var e,i,n,s,o,l,h,p,d,f,m,v,g,_,y,x=[];for(t=a(t),v=t.length,e=P,i=0,o=A,l=0;v>l;++l)m=t[l],128>m&&x.push(N(m));for(n=s=x.length,s&&x.push(R);v>n;){for(h=b,l=0;v>l;++l)m=t[l],m>=e&&h>m&&(h=m);for(g=n+1,h-e>L((b-i)/g)&&r("overflow"),i+=(h-e)*g,e=h,l=0;v>l;++l)if(m=t[l],e>m&&++i>b&&r("overflow"),m==e){for(p=i,d=w;f=o>=d?T:d>=o+E?E:d-o,!(f>p);d+=w)y=p-f,_=w-f,x.push(N(u(f+y%_,0))),p=L(y/_);x.push(N(u(p,0))),o=c(i,g,n==s),i=0,++n}++i,++e}return x.join("")}function f(t){return o(t,function(t){return O.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return o(t,function(t){return M.test(t)?"xn--"+d(t):t})}var v="object"==typeof i&&i&&!i.nodeType&&i,g="object"==typeof e&&e&&!e.nodeType&&e,_="object"==typeof t&&t;(_.global===_||_.window===_||_.self===_)&&(n=_);var y,x,b=2147483647,w=36,T=1,E=26,S=38,C=700,A=72,P=128,R="-",O=/^xn--/,M=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=w-T,L=Math.floor,N=String.fromCharCode;if(y={version:"1.3.2",ucs2:{decode:a,encode:l},decode:p,encode:d,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(v&&g)if(e.exports==v)g.exports=y;else for(x in y)y.hasOwnProperty(x)&&(v[x]=y[x]);else n.punycode=y}(this);
}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],186:[function(t,e,i){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,i,s){e=e||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var h=t.length;l>0&&h>l&&(h=l);for(var u=0;h>u;++u){var c,p,d,f,m=t[u].replace(a,"%20"),v=m.indexOf(i);v>=0?(c=m.substr(0,v),p=m.substr(v+1)):(c=m,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),n(o,d)?r(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],187:[function(t,e,i){"use strict";function n(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?n(o(t),function(o){var a=encodeURIComponent(r(o))+i;return s(t[o])?n(t[o],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[o]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],188:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":186,"./encode":187}],189:[function(t,e,i){e.exports=function(t,e,i){for(var n=0,r=t.length,s=3==arguments.length?i:t[n++];r>n;)s=e.call(null,s,t[n],++n,t);return s}},{}],190:[function(t,e,i){(function(t){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,r,s={};n=this,null!=n&&(r=n.async),s.noConflict=function(){return n.async=r,s};var o=Object.prototype.toString,a=Array.isArray||function(t){return"[object Array]"===o.call(t)},l=function(t,e){for(var i=0;i<t.length;i+=1)e(t[i],i,t)},h=function(t,e){if(t.map)return t.map(e);var i=[];return l(t,function(t,n,r){i.push(e(t,n,r))}),i},u=function(t,e,i){return t.reduce?t.reduce(e,i):(l(t,function(t,n,r){i=e(i,t,n,r)}),i)},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e};"undefined"!=typeof t&&t.nextTick?(s.nextTick=t.nextTick,"undefined"!=typeof setImmediate?s.setImmediate=function(t){setImmediate(t)}:s.setImmediate=s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,n){function r(e){e?(n(e),n=function(){}):(s+=1,s>=t.length&&n())}if(n=n||function(){},!t.length)return n();var s=0;l(t,function(t){e(t,i(r))})},s.forEach=s.each,s.eachSeries=function(t,e,i){if(i=i||function(){},!t.length)return i();var n=0,r=function(){e(t[n],function(e){e?(i(e),i=function(){}):(n+=1,n>=t.length?i():r())})};r()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,i,n){var r=p(e);r.apply(null,[t,i,n])},s.forEachLimit=s.eachLimit;var p=function(t){return function(e,i,n){if(n=n||function(){},!e.length||0>=t)return n();var r=0,s=0,o=0;!function a(){if(r>=e.length)return n();for(;t>o&&s<e.length;)s+=1,o+=1,i(e[s-1],function(t){t?(n(t),n=function(){}):(r+=1,o-=1,r>=e.length?n():a())})}()}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},f=function(t,e){return function(){var i=Array.prototype.slice.call(arguments);return e.apply(null,[p(t)].concat(i))}},m=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},v=function(t,e,i,n){if(e=h(e,function(t,e){return{index:e,value:t}}),n){var r=[];t(e,function(t,e){i(t.value,function(i,n){r[t.index]=n,e(i)})},function(t){n(t,r)})}else t(e,function(t,e){i(t.value,function(t){e(t)})})};s.map=d(v),s.mapSeries=m(v),s.mapLimit=function(t,e,i,n){return g(e)(t,i,n)};var g=function(t){return f(t,v)};s.reduce=function(t,e,i,n){s.eachSeries(t,function(t,n){i(e,t,function(t,i){e=i,n(t)})},function(t){n(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,i,n){var r=h(t,function(t){return t}).reverse();s.reduce(r,e,i,n)},s.foldr=s.reduceRight;var _=function(t,e,i,n){var r=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i){i&&r.push(t),e()})},function(t){n(h(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=d(_),s.filterSeries=m(_),s.select=s.filter,s.selectSeries=s.filterSeries;var y=function(t,e,i,n){var r=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i){i||r.push(t),e()})},function(t){n(h(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=d(y),s.rejectSeries=m(y);var x=function(t,e,i,n){t(e,function(t,e){i(t,function(i){i?(n(t),n=function(){}):e()})},function(t){n()})};s.detect=d(x),s.detectSeries=m(x),s.some=function(t,e,i){s.each(t,function(t,n){e(t,function(t){t&&(i(!0),i=function(){}),n()})},function(t){i(!1)})},s.any=s.some,s.every=function(t,e,i){s.each(t,function(t,n){e(t,function(t){t||(i(!1),i=function(){}),n()})},function(t){i(!0)})},s.all=s.every,s.sortBy=function(t,e,i){s.map(t,function(t,i){e(t,function(e,n){e?i(e):i(null,{value:t,criteria:n})})},function(t,e){if(t)return i(t);var n=function(t,e){var i=t.criteria,n=e.criteria;return n>i?-1:i>n?1:0};i(null,h(e.sort(n),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var i=c(t),n=i.length;if(!n)return e();var r={},o=[],h=function(t){o.unshift(t)},p=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){n--,l(o.slice(0),function(t){t()})};h(function(){if(!n){var t=e;e=function(){},t(null,r)}}),l(i,function(i){var n=a(t[i])?t[i]:[t[i]],o=function(t){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1&&(n=n[0]),t){var o={};l(c(r),function(t){o[t]=r[t]}),o[i]=n,e(t,o),e=function(){}}else r[i]=n,s.setImmediate(d)},f=n.slice(0,Math.abs(n.length-1))||[],m=function(){return u(f,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(i)};if(m())n[n.length-1](o,r);else{var v=function(){m()&&(p(v),n[n.length-1](o,r))};h(v)}})},s.retry=function(t,e,i){var n=5,r=[];"function"==typeof t&&(i=e,e=t,t=n),t=parseInt(t,10)||n;var o=function(n,o){for(var a=function(t,e){return function(i){t(function(t,n){i(!t||e,{err:t,result:n})},o)}};t;)r.push(a(e,!(t-=1)));s.series(r,function(t,e){e=e[e.length-1],(n||i)(e.err,e.result)})};return i?o():o},s.waterfall=function(t,e){if(e=e||function(){},!a(t)){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}if(!t.length)return e();var n=function(t){return function(i){if(i)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=t.next();o?r.push(n(o)):r.push(e),s.setImmediate(function(){t.apply(null,r)})}}};n(s.iterator(t))()};var b=function(t,e,i){if(i=i||function(){},a(e))t.map(e,function(t,e){t&&t(function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),e.call(null,t,i)})},i);else{var n={};t.each(c(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(t){i(t,n)})}};s.parallel=function(t,e){b({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,i){b({map:g(e),each:p(e)},t,i)},s.series=function(t,e){if(e=e||function(){},a(t))s.mapSeries(t,function(t,e){t&&t(function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),e.call(null,t,i)})},e);else{var i={};s.eachSeries(c(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(t){e(t,i)})}},s.iterator=function(t){var e=function(i){var n=function(){return t.length&&t[i].apply(null,arguments),n.next()};return n.next=function(){return i<t.length-1?e(i+1):null},n};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var w=function(t,e,i,n){var r=[];t(e,function(t,e){i(t,function(t,i){r=r.concat(i||[]),e(t)})},function(t){n(t,r)})};s.concat=d(w),s.concatSeries=m(w),s.whilst=function(t,e,i){t()?e(function(n){return n?i(n):void s.whilst(t,e,i)}):i()},s.doWhilst=function(t,e,i){t(function(n){if(n)return i(n);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?s.doWhilst(t,e,i):i()})},s.until=function(t,e,i){t()?i():e(function(n){return n?i(n):void s.until(t,e,i)})},s.doUntil=function(t,e,i){t(function(n){if(n)return i(n);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?i():s.doUntil(t,e,i)})},s.queue=function(t,e){function n(t,e,i,n){return t.started||(t.started=!0),a(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var r={data:e,callback:"function"==typeof n?n:null};i?t.tasks.unshift(r):t.tasks.push(r),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){n(o,t,!0,e)},process:function(){if(!o.paused&&r<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),r+=1;var n=function(){r-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+r===0&&o.drain(),o.process()},s=i(n);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return r},idle:function(){return o.tasks.length+r===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var t=1;t<=o.concurrency;t++)s.setImmediate(o.process)}}};return o},s.priorityQueue=function(t,e){function i(t,e){return t.priority-e.priority}function n(t,e,i){for(var n=-1,r=t.length-1;r>n;){var s=n+(r-n+1>>>1);i(e,t[s])>=0?n=s:r=s-1}return n}function r(t,e,r,o){return t.started||(t.started=!0),a(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var a={data:e,priority:r,callback:"function"==typeof o?o:null};t.tasks.splice(n(t.tasks,a,i)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,i){r(o,t,e,i)},delete o.unshift,o},s.cargo=function(t,e){var i=!1,n=[],r={tasks:n,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,i){a(t)||(t=[t]),l(t,function(t){n.push({data:t,callback:"function"==typeof i?i:null}),r.drained=!1,r.saturated&&n.length===e&&r.saturated()}),s.setImmediate(r.process)},process:function o(){if(!i){if(0===n.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var s="number"==typeof e?n.splice(0,e):n.splice(0,n.length),a=h(s,function(t){return t.data});r.empty&&r.empty(),i=!0,t(a,function(){i=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return n.length},running:function(){return i}};return r};var T=function(t){return function(e){var i=Array.prototype.slice.call(arguments,1);e.apply(null,i.concat([function(e){var i=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(i,function(e){console[t](e)}))}]))}};s.log=T("log"),s.dir=T("dir"),s.memoize=function(t,e){var i={},n={};e=e||function(t){return t};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),a=e.apply(null,r);a in i?s.nextTick(function(){o.apply(null,i[a])}):a in n?n[a].push(o):(n[a]=[o],t.apply(null,r.concat([function(){i[a]=arguments;var t=n[a];delete n[a];for(var e=0,r=t.length;r>e;e++)t[e].apply(null,arguments)}])))};return r.memo=i,r.unmemoized=t,r},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,i){for(var n=[],r=0;t>r;r++)n.push(r);return s.map(n,e,i)},s.timesSeries=function(t,e,i){for(var n=[],r=0;t>r;r++)n.push(r);return s.mapSeries(n,e,i)},s.seq=function(){var t=arguments;return function(){var e=this,i=Array.prototype.slice.call(arguments),n=i.pop();s.reduce(t,i,function(t,i,n){i.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);n(t,e)}]))},function(t,i){n.apply(e,[t].concat(i))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var E=function(t,e){var i=function(){var i=this,n=Array.prototype.slice.call(arguments),r=n.pop();return t(e,function(t,e){t.apply(i,n.concat([e]))},r)};if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);return i.apply(this,n)}return i};s.applyEach=d(E),s.applyEachSeries=m(E),s.forever=function(t,e){function i(n){if(n){if(e)return e(n);throw n}t(i)}i()},"undefined"!=typeof e&&e.exports?e.exports=s:"undefined"!=typeof define&&define.amd?define([],function(){return s}):n.async=s}()}).call(this,t("_process"))},{_process:184}],191:[function(t,e,i){function n(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=r.queue(this._boundLoadResource,e),this.resources={}}var r=t("async"),s=t("url"),o=t("./Resource"),a=t("eventemitter3");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.add=n.prototype.enqueue=function(t,e,i,n){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new o(t,e,i),"function"==typeof n&&this.resources[t].once("afterMiddleware",n),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},n.prototype._handleBaseUrl=function(t){var e=s.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.lastIndexOf("/")!==t.length-1?this.baseUrl+"/"+t:this.baseUrl+t},n.prototype.before=n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.after=n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},n.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(i._boundOnLoad)})},n.prototype._onComplete=function(){this.emit("complete",this,this.resources)},n.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t)}),t._dequeue()},n.prototype._runMiddleware=function(t,e,i){var n=this;r.eachSeries(e,function(e,i){e.call(n,t,i)},i.bind(this,t))},n.LOAD_TYPE=o.LOAD_TYPE,n.XHR_READY_STATE=o.XHR_READY_STATE,n.XHR_RESPONSE_TYPE=o.XHR_RESPONSE_TYPE},{"./Resource":192,async:190,eventemitter3:63,url:198}],192:[function(t,e,i){function n(t,e,i){if(o.call(this),i=i||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":null,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function r(t){return t.toString().replace("object ","")}function s(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}var o=t("eventemitter3"),a=t("url"),l=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null;n.prototype=Object.create(o.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},n.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this._loadImage();break;case n.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case n.LOAD_TYPE.VIDEO:this._loadElement("video");break;case n.LOAD_TYPE.XHR:default:l&&this.crossOrigin?this._loadXdr():this._loadXhr()}},n.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},n.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=n.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=i,n},n.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},n.prototype._xhrOnError=function(){this.error=new Error(r(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},n.prototype._xhrOnAbort=function(){this.error=new Error(r(this.xhr)+" Request was aborted by the user."),this.complete()},n.prototype._xdrOnTimeout=function(){this.error=new Error(r(this.xhr)+" Request timed out."),this.complete()},n.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(i){this.error=new Error("Error trying to parse loaded json:",i)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(t.responseText,"text/xml")}else{var s=document.createElement("div");s.innerHTML=t.responseText,this.data=s}this.isXml=!0}catch(i){this.error=new Error("Error trying to parse loaded xml:",i)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,h||(h=document.createElement("a")),h.href=t,t=a.parse(h.href);var i=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this._getExtension()]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this._getExtension()]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var i=e.indexOf("/");t=e.substring(i+1,e.indexOf(";",i))}else{var n=e.indexOf("?");-1!==n&&(e=e.substring(0,n)),t=e.substring(e.lastIndexOf(".")+1)}return t},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";case n.XHR_RESPONSE_TYPE.DEFAULT:case n.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},n.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT},n.setExtensionLoadType=function(t,e){s(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){s(n._xhrTypeMap,t,e)}},{eventemitter3:63,url:198}],193:[function(t,e,i){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,i="",n=new Array(4),r=0,s=0,o=0;r<t.length;){for(e=new Array(3),s=0;s<e.length;s++)r<t.length?e[s]=255&t.charCodeAt(r++):e[s]=0;switch(n[0]=e[0]>>2,n[1]=(3&e[0])<<4|e[1]>>4,n[2]=(15&e[1])<<2|e[2]>>6,n[3]=63&e[2],o=r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(s=0;s<n.length;s++)i+=this._keyStr.charAt(n[s])}return i}}},{}],194:[function(t,e,i){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":191,"./Resource":192,"./middlewares/caching/memory":195,"./middlewares/parsing/blob":196}],195:[function(t,e,i){var n={};e.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):t.once("complete",function(){n[this.url]=this.data}),e()}}},{}],196:[function(t,e,i){var n=t("../../Resource"),r=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===n.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(i),t.data.onload=null,e()}}}else{var s=t.xhr.getResponseHeader("content-type");s&&0===s.indexOf("image")&&(t.data=new Image,t.data.src="data:"+s+";base64,"+r.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":192,"../../b64":193}],197:[function(t,e,i){function n(){}function r(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function s(t){return t===Object(t)}function o(t){if(!s(t))return t;var e=[];for(var i in t)null!=t[i]&&a(e,i,t[i]);return e.join("&")}function a(t,e,i){return Array.isArray(i)?i.forEach(function(i){a(t,e,i)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}function l(t){for(var e,i,n={},r=t.split("&"),s=0,o=r.length;o>s;++s)i=r[s],e=i.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function h(t){var e,i,n,r,s=t.split(/\r?\n/),o={};s.pop();for(var a=0,l=s.length;l>a;++a)i=s[a],e=i.indexOf(":"),n=i.slice(0,e).toLowerCase(),r=x(i.slice(e+1)),o[n]=r;return o}function u(t){return/[\/+]json\b/.test(t)}function c(t){return t.split(/ *; */).shift()}function p(t){return y(t.split(/ *; */),function(t,e){var i=e.split(/ *= */),n=i.shift(),r=i.shift();return n&&r&&(t[n]=r),t},{})}function d(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=h(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function f(t,e){var i=this;_.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new d(i)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,t.rawResponse=i.xhr&&i.xhr.responseText?i.xhr.responseText:null,i.callback(t)}if(i.emit("response",e),t)return i.callback(t,e);if(e.status>=200&&e.status<300)return i.callback(t,e);var r=new Error(e.statusText||"Unsuccessful HTTP response");r.original=t,r.response=e,r.status=e.status,i.callback(r,e)})}function m(t,e){return"function"==typeof e?new f("GET",t).end(e):1==arguments.length?new f("GET",t):new f(t,e)}function v(t,e){var i=m("DELETE",t);return e&&i.end(e),i}var g,_=t("emitter"),y=t("reduce");g="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,m.getXHR=function(){if(!(!g.XMLHttpRequest||g.location&&"file:"==g.location.protocol&&g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var x="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};m.serializeObject=o,m.parseString=l,m.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},m.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},m.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},d.prototype.get=function(t){return this.header[t.toLowerCase()]},d.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var i=p(e);for(var n in i)this[n]=i[n]},d.prototype.parseBody=function(t){var e=m.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},d.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},d.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",r=new Error(n);return r.status=this.status,r.method=e,r.url=i,r},m.Response=d,_(f.prototype),f.prototype.use=function(t){return t(this),this},f.prototype.timeout=function(t){return this._timeout=t,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype.set=function(t,e){if(s(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},f.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},f.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},f.prototype.type=function(t){return this.set("Content-Type",m.types[t]||t),this},f.prototype.parse=function(t){return this._parser=t,this},f.prototype.accept=function(t){return this.set("Accept",m.types[t]||t),this},f.prototype.auth=function(t,e){var i=btoa(t+":"+e);return this.set("Authorization","Basic "+i),this},f.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},f.prototype.field=function(t,e){return this._formData||(this._formData=new g.FormData),this._formData.append(t,e),this},f.prototype.attach=function(t,e,i){return this._formData||(this._formData=new g.FormData),this._formData.append(t,e,i),this},f.prototype.send=function(t){var e=s(t),i=this.getHeader("Content-Type");if(e&&s(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(i||this.type("form"),
i=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==i?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||r(t)?this:(i||this.type("json"),this)},f.prototype.callback=function(t,e){var i=this._callback;this.clearTimeout(),i(t,e)},f.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},f.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(t){var e=this,i=this.xhr=m.getXHR(),s=this._query.join("&"),o=this._timeout,a=this._formData||this._data;this._callback=t||n,i.onreadystatechange=function(){if(4==i.readyState){var t;try{t=i.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var l=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(i.onprogress=l);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=l)}catch(h){}if(o&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},o)),s&&(s=m.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!r(a)){var c=this.getHeader("Content-Type"),p=this._parser||m.serialize[c?c.split(";")[0]:""];!p&&u(c)&&(p=m.serialize["application/json"]),p&&(a=p(a))}for(var d in this.header)null!=this.header[d]&&i.setRequestHeader(d,this.header[d]);return this.emit("request",this),i.send("undefined"!=typeof a?a:null),this},f.prototype.then=function(t,e){return this.end(function(i,n){i?e(i):t(n)})},m.Request=f,m.get=function(t,e,i){var n=m("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},m.head=function(t,e,i){var n=m("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},m.del=v,m["delete"]=v,m.patch=function(t,e,i){var n=m("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},m.post=function(t,e,i){var n=m("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},m.put=function(t,e,i){var n=m("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},e.exports=m},{emitter:58,reduce:189}],198:[function(t,e,i){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&h.isObject(t)&&t instanceof n)return t;var r=new n;return r.parse(t,e,i),r}function s(t){return h.isString(t)&&(t=r(t)),t instanceof n?t.format():n.prototype.format.call(t)}function o(t,e){return r(t,!1,!0).resolve(e)}function a(t,e){return t?r(t,!1,!0).resolveObject(e):e}var l=t("punycode"),h=t("./util");i.parse=r,i.resolve=o,i.resolveObject=a,i.format=s,i.Url=n;var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","	"],f=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(f),v=["%","/","?",";","#"].concat(m),g=["/","?","#"],_=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=t("querystring");n.prototype.parse=function(t,e,i){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=-1!==n&&n<t.indexOf("#")?"?":"#",s=t.split(r),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(r);var a=t;if(a=a.trim(),!i&&1===t.split("#").length){var c=p.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=u.exec(a);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,a=a.substr(d.length)}if(i||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===a.substr(0,2);!S||d&&w[d]||(a=a.substr(2),this.slashes=!0)}if(!w[d]&&(S||d&&!T[d])){for(var C=-1,A=0;A<g.length;A++){var P=a.indexOf(g[A]);-1!==P&&(-1===C||C>P)&&(C=P)}var R,O;O=-1===C?a.lastIndexOf("@"):a.lastIndexOf("@",C),-1!==O&&(R=a.slice(0,O),a=a.slice(O+1),this.auth=decodeURIComponent(R)),C=-1;for(var A=0;A<v.length;A++){var P=a.indexOf(v[A]);-1!==P&&(-1===C||C>P)&&(C=P)}-1===C&&(C=a.length),this.host=a.slice(0,C),a=a.slice(C),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var D=this.hostname.split(/\./),A=0,k=D.length;k>A;A++){var F=D[A];if(F&&!F.match(y)){for(var L="",N=0,B=F.length;B>N;N++)L+=F.charCodeAt(N)>127?"x":F[N];if(!L.match(y)){var I=D.slice(0,A),j=D.slice(A+1),$=F.match(x);$&&(I.push($[1]),j.unshift($[2])),j.length&&(a="/"+j.join(".")+a),this.hostname=I.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=l.toASCII(this.hostname));var U=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+U,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!b[f])for(var A=0,k=m.length;k>A;A++){var X=m[A];if(-1!==a.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),a=a.split(X).join(H)}}var W=a.indexOf("#");-1!==W&&(this.hash=a.substr(W),a=a.slice(0,W));var Y=a.indexOf("?");if(-1!==Y?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=E.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),T[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",G=this.search||"";this.path=U+G}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(s=E.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&r!==!1?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),e+r+i+o+n},n.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var i=new n,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(i[u]=t[u])}return T[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!T[t.protocol]){for(var c=Object.keys(t),p=0;p<c.length;p++){var d=c[p];i[d]=t[d]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||w[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var m=i.pathname||"",v=i.search||"";i.path=m+v}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var g=i.pathname&&"/"===i.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=_||g||i.host&&t.pathname,x=y,b=i.pathname&&i.pathname.split("/")||[],f=t.pathname&&t.pathname.split("/")||[],E=i.protocol&&!T[i.protocol];if(E&&(i.hostname="",i.port=null,i.host&&(""===b[0]?b[0]=i.host:b.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),y=y&&(""===f[0]||""===b[0])),_)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),i.search=t.search,i.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(E){i.hostname=i.host=b.shift();var S=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;S&&(i.auth=S.shift(),i.host=i.hostname=S.shift())}return i.search=t.search,i.query=t.query,h.isNull(i.pathname)&&h.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!b.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var C=b.slice(-1)[0],A=(i.host||t.host||b.length>1)&&("."===C||".."===C)||""===C,P=0,R=b.length;R>=0;R--)C=b[R],"."===C?b.splice(R,1):".."===C?(b.splice(R,1),P++):P&&(b.splice(R,1),P--);if(!y&&!x)for(;P--;P)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),A&&"/"!==b.join("/").substr(-1)&&b.push("");var O=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(E){i.hostname=i.host=O?"":b.length?b.shift():"";var S=i.host&&i.host.indexOf("@")>0?i.host.split("@"):!1;S&&(i.auth=S.shift(),i.host=i.hostname=S.shift())}return y=y||i.host&&b.length,y&&!O&&b.unshift(""),b.length?i.pathname=b.join("/"):(i.pathname=null,i.path=null),h.isNull(i.pathname)&&h.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":199,punycode:185,querystring:188}],199:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],200:[function(t,e,i){(function(t){"use strict";function i(t,e,n){if(r(t,e))return void(t[e]=n);if(t._isVue)return void i(t._data,e,n);var s=t.__ob__;if(!s)return void(t[e]=n);if(s.convert(e,n),s.dep.notify(),s.vms)for(var o=s.vms.length;o--;){var a=s.vms[o];a._proxy(e),a._digest()}}function n(t,e){if(r(t,e)){delete t[e];var i=t.__ob__;if(i&&(i.dep.notify(),i.vms))for(var n=i.vms.length;n--;){var s=i.vms[n];s._unproxy(e),s._digest()}}}function r(t,e){return vi.call(t,e)}function s(t){return gi.test(t)}function o(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function a(t){return null==t?"":t.toString()}function l(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e}function h(t){return"true"===t?!0:"false"===t?!1:t}function u(t){var e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e!==i||34!==e&&39!==e?t:t.slice(1,-1)}function c(t){return t.replace(_i,p)}function p(t,e){return e?e.toUpperCase():""}function d(t){return t.replace(yi,"$1-$2").toLowerCase()}function f(t){return t.replace(xi,p)}function m(t,e){return function(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}}function v(t,e){e=e||0;for(var i=t.length-e,n=new Array(i);i--;)n[i]=t[i+e];return n}function g(t,e){for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}function _(t){return null!==t&&"object"==typeof t}function y(t){return bi.call(t)===wi}function x(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function b(t,e){var i,n,r,s,o,a=function l(){var a=Date.now()-s;e>a&&a>=0?i=setTimeout(l,e-a):(i=null,o=t.apply(r,n),i||(r=n=null))};return function(){return r=this,n=arguments,s=Date.now(),i||(i=setTimeout(a,e)),o}}function w(t,e){for(var i=t.length;i--;)if(t[i]===e)return i;return-1}function T(t){var e=function i(){return i.cancelled?void 0:t.apply(this,arguments)};return e.cancel=function(){e.cancelled=!0},e}function E(t,e){return t==e||(_(t)&&_(e)?JSON.stringify(t)===JSON.stringify(e):!1)}function S(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap=Object.create(null)}function C(){var t,e=Ni.slice(Ui,ji).trim();if(e){t={};var i=e.match(Vi);t.name=i[0],i.length>1&&(t.args=i.slice(1).map(A))}t&&(Bi.filters=Bi.filters||[]).push(t),Ui=ji+1}function A(t){if(qi.test(t))return{value:l(t),dynamic:!1};var e=u(t),i=e===t;return{value:i?t:e,dynamic:i}}function P(t){var e=Gi.get(t);if(e)return e;for(Ni=t,zi=Xi=!1,Hi=Wi=Yi=0,Ui=0,Bi={},ji=0,$i=Ni.length;$i>ji;ji++)if(Ii=Ni.charCodeAt(ji),zi)39===Ii&&(zi=!zi);else if(Xi)34===Ii&&(Xi=!Xi);else if(124===Ii&&124!==Ni.charCodeAt(ji+1)&&124!==Ni.charCodeAt(ji-1))null==Bi.expression?(Ui=ji+1,Bi.expression=Ni.slice(0,ji).trim()):C();else switch(Ii){case 34:Xi=!0;break;case 39:zi=!0;break;case 40:Yi++;break;case 41:Yi--;break;case 91:Wi++;break;case 93:Wi--;break;case 123:Hi++;break;case 125:Hi--}return null==Bi.expression?Bi.expression=Ni.slice(0,ji).trim():0!==Ui&&C(),Gi.put(t,Bi),Bi}function R(t){return t.replace(Zi,"\\$&")}function O(){var t=R(on.delimiters[0]),e=R(on.delimiters[1]),i=R(on.unsafeDelimiters[0]),n=R(on.unsafeDelimiters[1]);Qi=new RegExp(i+"(.+?)"+n+"|"+t+"(.+?)"+e,"g"),tn=new RegExp("^"+i+".*"+n+"$"),Ji=new S(1e3)}function M(t){Ji||O();var e=Ji.get(t);if(e)return e;if(t=t.replace(/\n/g,""),!Qi.test(t))return null;for(var i,n,r,s,o,a,l=[],h=Qi.lastIndex=0;i=Qi.exec(t);)n=i.index,n>h&&l.push({value:t.slice(h,n)}),r=tn.test(i[0]),s=r?i[1]:i[2],o=s.charCodeAt(0),a=42===o,s=a?s.slice(1):s,l.push({tag:!0,value:s.trim(),html:r,oneTime:a}),h=n+i[0].length;return h<t.length&&l.push({value:t.slice(h)}),Ji.put(t,l),l}function D(t){return t.length>1?t.map(function(t){return k(t)}).join("+"):k(t[0],!0)}function k(t,e){return t.tag?F(t.value,e):'"'+t.value+'"'}function F(t,e){if(en.test(t)){var i=P(t);return i.filters?"this._applyFilters("+i.expression+",null,"+JSON.stringify(i.filters)+",false)":"("+t+")"}return e?t:"("+t+")"}function L(t,e,i,n){I(t,1,function(){e.appendChild(t)},i,n)}function N(t,e,i,n){I(t,1,function(){X(t,e)},i,n)}function B(t,e,i){I(t,-1,function(){W(t)},e,i)}function I(t,e,i,n,r){var s=t.__v_trans;if(!s||!s.hooks&&!Ri||!n._isCompiled||n.$parent&&!n.$parent._isCompiled)return i(),void(r&&r());var o=e>0?"enter":"leave";s[o](i,r)}function j(e){if("string"==typeof e){var i=e;e=document.querySelector(e),e||"production"!==t.env.NODE_ENV&&an("Cannot find element: "+i)}return e}function $(t){var e=document.documentElement,i=t&&t.parentNode;return e===t||e===i||!(!i||1!==i.nodeType||!e.contains(i))}function U(t,e){var i=t.getAttribute(e);return null!==i&&t.removeAttribute(e),i}function z(t,e){var i=U(t,":"+e);return null===i&&(i=U(t,"v-bind:"+e)),i}function X(t,e){e.parentNode.insertBefore(t,e)}function H(t,e){e.nextSibling?X(t,e.nextSibling):e.parentNode.appendChild(t)}function W(t){t.parentNode.removeChild(t)}function Y(t,e){e.firstChild?X(t,e.firstChild):e.appendChild(t)}function G(t,e){var i=t.parentNode;i&&i.replaceChild(e,t)}function V(t,e,i){t.addEventListener(e,i)}function q(t,e,i){t.removeEventListener(e,i)}function K(t,e){if(t.classList)t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Z(t,e){if(t.classList)t.classList.remove(e);else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");t.setAttribute("class",i.trim())}t.className||t.removeAttribute("class")}function J(t,e){var i,n;if(et(t)&&t.content instanceof DocumentFragment&&(t=t.content),t.hasChildNodes())for(Q(t),n=e?document.createDocumentFragment():document.createElement("div");i=t.firstChild;)n.appendChild(i);return n}function Q(t){tt(t,t.firstChild),tt(t,t.lastChild)}function tt(t,e){e&&3===e.nodeType&&!e.data.trim()&&t.removeChild(e)}function et(t){return t.tagName&&"template"===t.tagName.toLowerCase()}function it(t,e){var i=on.debug?document.createComment(t):document.createTextNode(e?" ":"");return i.__vue_anchor=!0,i}function nt(t){if(t.hasAttributes())for(var e=t.attributes,i=0,n=e.length;n>i;i++){var r=e[i].name;if(ln.test(r))return c(r.replace(ln,""))}}function rt(t,e,i){for(var n;t!==e;)n=t.nextSibling,i(t),t=n;i(e)}function st(t,e,i,n,r){function s(){if(a++,o&&a>=l.length){for(var t=0;t<l.length;t++)n.appendChild(l[t]);r&&r()}}var o=!1,a=0,l=[];rt(t,e,function(t){t===e&&(o=!0),l.push(t),B(t,i,s)})}function ot(e,i){var n=e.tagName.toLowerCase(),r=e.hasAttributes();if(hn.test(n)||"component"===n){if(r)return at(e)}else{if(_t(i,"components",n))return{id:n};var s=r&&at(e);if(s)return s;"production"!==t.env.NODE_ENV&&(n.indexOf("-")>-1||/HTMLUnknownElement/.test(e.toString())&&!/^(data|time|rtc|rb)$/.test(n))&&an("Unknown custom element: <"+n+"> - did you register the component correctly?")}}function at(t){var e=U(t,"is");return null!=e?{id:e}:(e=z(t,"is"),null!=e?{id:e,dynamic:!0}:void 0)}function lt(t,e,i){var n=e.path;t[n]=t._data[n]=ht(e,i)?i:void 0}function ht(e,i){if(null===e.raw&&!e.required)return!0;var n,r=e.options,s=r.type,o=!0;if(s&&(s===String?(n="string",o=typeof i===n):s===Number?(n="number",o="number"==typeof i):s===Boolean?(n="boolean",o="boolean"==typeof i):s===Function?(n="function",o="function"==typeof i):s===Object?(n="object",o=y(i)):s===Array?(n="array",o=Ti(i)):o=i instanceof s),!o)return"production"!==t.env.NODE_ENV&&an("Invalid prop: type check failed for "+e.path+'="'+e.raw+'". Expected '+ut(n)+", got "+ct(i)+"."),!1;var a=r.validator;return a&&!a.call(null,i)?("production"!==t.env.NODE_ENV&&an("Invalid prop: custom validator check failed for "+e.path+'="'+e.raw+'"'),!1):!0}function ut(t){return t?t.charAt(0).toUpperCase()+t.slice(1):"custom type"}function ct(t){return Object.prototype.toString.call(t).slice(8,-1)}function pt(t,e){var n,s,o;for(n in e)s=t[n],o=e[n],r(t,n)?_(s)&&_(o)&&pt(s,o):i(t,n,o);return t}function dt(t,e){var i=Object.create(t);return e?g(i,vt(e)):i}function ft(e){if(e.components)for(var i,n=e.components=vt(e.components),r=Object.keys(n),s=0,o=r.length;o>s;s++){var a=r[s];hn.test(a)?"production"!==t.env.NODE_ENV&&an("Do not use built-in HTML elements as component id: "+a):(i=n[a],y(i)&&(n[a]=ui.extend(i)))}}function mt(t){var e,i,n=t.props;if(Ti(n))for(t.props={},e=n.length;e--;)i=n[e],"string"==typeof i?t.props[i]=null:i.name&&(t.props[i.name]=i);else if(y(n)){var r=Object.keys(n);for(e=r.length;e--;)i=n[r[e]],"function"==typeof i&&(n[r[e]]={type:i})}}function vt(e){if(Ti(e)){for(var i,n={},r=e.length;r--;){i=e[r];var s="function"==typeof i?i.options&&i.options.name||i.id:i.name||i.id;s?n[s]=i:"production"!==t.env.NODE_ENV&&an('Array-syntax assets must provide a "name" or "id" field.')}return n}return e}function gt(t,e,i){function n(n){var r=un[n]||cn;o[n]=r(t[n],e[n],i,n)}ft(e),mt(e);var s,o={};if(e.mixins)for(var a=0,l=e.mixins.length;l>a;a++)t=gt(t,e.mixins[a],i);for(s in t)n(s);for(s in e)r(t,s)||n(s);return o}function _t(t,e,i){var n,r=t[e];return r[i]||r[n=c(i)]||r[n.charAt(0).toUpperCase()+n.slice(1)]}function yt(e,i,n){e||"production"!==t.env.NODE_ENV&&an("Failed to resolve "+i+": "+n)}function xt(){this.id=fn++,this.subs=[]}function bt(t){if(this.value=t,this.dep=new xt,x(t,"__ob__",this),Ti(t)){var e=Ei?wt:Tt;e(t,dn,mn),this.observeArray(t)}else this.walk(t)}function wt(t,e){t.__proto__=e}function Tt(t,e,i){for(var n,r=i.length;r--;)n=i[r],x(t,n,e[n])}function Et(t,e){if(t&&"object"==typeof t){var i;return r(t,"__ob__")&&t.__ob__ instanceof bt?i=t.__ob__:!Ti(t)&&!y(t)||Object.isFrozen(t)||t._isVue||(i=new bt(t)),i&&e&&i.addVm(e),i}}function St(t,e,i){var n,r,s=new xt;if(on.convertAllProperties){var o=Object.getOwnPropertyDescriptor(t,e);if(o&&o.configurable===!1)return;n=o&&o.get,r=o&&o.set}var a=Et(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=n?n.call(t):i;if(xt.target&&(s.depend(),a&&a.dep.depend(),Ti(e)))for(var r,o=0,l=e.length;l>o;o++)r=e[o],r&&r.__ob__&&r.__ob__.dep.depend();return e},set:function(e){var o=n?n.call(t):i;e!==o&&(r?r.call(t,e):i=e,a=Et(e),s.notify())}})}function Ct(t){t.prototype._init=function(t){t=t||{},this.$el=null,this.$parent=t.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=gn++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=!1,this._unlinkFn=null,this._context=t._context||this.$parent,this._scope=t._scope,this._frag=t._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),t=this.$options=gt(this.constructor.options,t,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),t.el&&this.$mount(t.el)}}function At(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&122>=e||e>=65&&90>=e?"ident":e>=49&&57>=e?"number":"else"}function Pt(t){var e=t.trim();return"0"===t.charAt(0)&&isNaN(t)?!1:s(e)?u(e):"*"+e}function Rt(t){function e(){var e=t[u+1];return c===Pn&&"'"===e||c===Rn&&'"'===e?(u++,n="\\"+e,d[yn](),!0):void 0}var i,n,r,s,o,a,l,h=[],u=-1,c=Tn,p=0,d=[];for(d[xn]=function(){void 0!==r&&(h.push(r),r=void 0)},d[yn]=function(){void 0===r?r=n:r+=n},d[bn]=function(){d[yn](),p++},d[wn]=function(){if(p>0)p--,c=An,d[yn]();else{if(p=0,r=Pt(r),r===!1)return!1;d[xn]()}};null!=c;)if(u++,i=t[u],"\\"!==i||!e()){if(s=At(i),l=Dn[c],o=l[s]||l["else"]||Mn,o===Mn)return;if(c=o[0],a=d[o[1]],a&&(n=o[2],n=void 0===n?i:n,a()===!1))return;if(c===On)return h.raw=t,h}}function Ot(t){var e=_n.get(t);return e||(e=Rt(t),e&&_n.put(t,e)),e}function Mt(t,e){return jt(e).get(t)}function Dt(e,n,r){var s=e;if("string"==typeof n&&(n=Rt(n)),!n||!_(e))return!1;for(var o,a,l=0,h=n.length;h>l;l++)o=e,a=n[l],"*"===a.charAt(0)&&(a=jt(a.slice(1)).get.call(s,s)),h-1>l?(e=e[a],_(e)||(e={},"production"!==t.env.NODE_ENV&&o._isVue&&kn(n),i(o,a,e))):Ti(e)?e.$set(a,r):a in e?e[a]=r:("production"!==t.env.NODE_ENV&&e._isVue&&kn(n),i(e,a,r));return!0}function kt(t,e){var i=Gn.length;return Gn[i]=e?t.replace(Un,"\\n"):t,'"'+i+'"'}function Ft(t){var e=t.charAt(0),i=t.slice(1);return Bn.test(i)?t:(i=i.indexOf('"')>-1?i.replace(Xn,Lt):i,e+"scope."+i)}function Lt(t,e){return Gn[e]}function Nt(e){jn.test(e)&&"production"!==t.env.NODE_ENV&&an("Avoid using reserved keywords in expression: "+e),Gn.length=0;var i=e.replace(zn,kt).replace($n,"");return i=(" "+i).replace(Wn,Ft).replace(Xn,Lt),Bt(i)}function Bt(e){try{return new Function("scope","return "+e+";")}catch(i){"production"!==t.env.NODE_ENV&&an("Invalid expression. Generated function body: "+e)}}function It(e){var i=Ot(e);return i?function(t,e){Dt(t,i,e)}:void("production"!==t.env.NODE_ENV&&an("Invalid setter expression: "+e))}function jt(t,e){t=t.trim();var i=Ln.get(t);if(i)return e&&!i.set&&(i.set=It(i.exp)),i;var n={exp:t};return n.get=$t(t)&&t.indexOf("[")<0?Bt("scope."+t):Nt(t),e&&(n.set=It(t)),Ln.put(t,n),n}function $t(t){return Hn.test(t)&&!Yn.test(t)&&"Math."!==t.slice(0,5)}function Ut(){qn=[],Kn=[],Zn={},Jn={},Qn=tr=!1}function zt(){Xt(qn),tr=!0,Xt(Kn),"production"!==t.env.NODE_ENV&&Si&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("flush"),Ut()}function Xt(e){for(var i=0;i<e.length;i++){var n=e[i],r=n.id;Zn[r]=null,n.run(),"production"!==t.env.NODE_ENV&&null!=Zn[r]&&(Jn[r]=(Jn[r]||0)+1,Jn[r]>on._maxUpdateCount&&(e.splice(Zn[r],1),an("You may have an infinite update loop for watcher with expression: "+n.expression)))}}function Ht(t){var e=t.id;if(null==Zn[e]){if(tr&&!t.user)return void t.run();var i=t.user?Kn:qn;Zn[e]=i.length,i.push(t),Qn||(Qn=!0,Fi(zt))}}function Wt(t,e,i,n){n&&g(this,n);var r="function"==typeof e;if(this.vm=t,t._watchers.push(this),this.expression=r?e.toString():e,this.cb=i,this.id=++er,this.active=!0,this.dirty=this.lazy,this.deps=Object.create(null),this.newDeps=null,this.prevError=null,r)this.getter=e,this.setter=void 0;else{var s=jt(e,this.twoWay);this.getter=s.get,this.setter=s.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function Yt(t){var e,i;if(Ti(t))for(e=t.length;e--;)Yt(t[e]);else if(_(t))for(i=Object.keys(t),e=i.length;e--;)Yt(t[i[e]])}function Gt(t){if(lr[t])return lr[t];var e=Vt(t);return lr[t]=lr[e]=e,e}function Vt(t){t=d(t);var e=c(t),i=e.charAt(0).toUpperCase()+e.slice(1);if(hr||(hr=document.createElement("div")),e in hr.style)return t;for(var n,r=sr.length;r--;)if(n=or[r]+i,n in hr.style)return sr[r]+t}function qt(t,e){var i=e.map(function(t){var e=t.charCodeAt(0);return e>47&&58>e?parseInt(t,10):1===t.length&&(e=t.toUpperCase().charCodeAt(0),e>64&&91>e)?e:gr[t]});return function(e){return i.indexOf(e.keyCode)>-1?t.call(this,e):void 0}}function Kt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Zt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Jt(t,e,i){for(var n,r,s,o=e?[]:null,a=0,l=t.options.length;l>a;a++)if(n=t.options[a],s=i?n.hasAttribute("selected"):n.selected){if(r=n.hasOwnProperty("_value")?n._value:n.value,!e)return r;o.push(r)}return o}function Qt(t,e){for(var i=t.length;i--;)if(E(t[i],e))return i;return-1}function te(t){return et(t)&&t.content instanceof DocumentFragment}function ee(t,e){var i=Cr.get(t);if(i)return i;var n=document.createDocumentFragment(),r=t.match(Rr),s=Or.test(t);if(r||s){var o=r&&r[1],a=Pr[o]||Pr.efault,l=a[0],h=a[1],u=a[2],c=document.createElement("div");for(e||(t=t.trim()),c.innerHTML=h+t+u;l--;)c=c.lastChild;for(var p;p=c.firstChild;)n.appendChild(p)}else n.appendChild(document.createTextNode(t));return Cr.put(t,n),n}function ie(t){if(te(t))return Q(t.content),t.content;if("SCRIPT"===t.tagName)return ee(t.textContent);for(var e,i=ne(t),n=document.createDocumentFragment();e=i.firstChild;)n.appendChild(e);return Q(n),n}function ne(t){if(!t.querySelectorAll)return t.cloneNode();var e,i,n,r=t.cloneNode(!0);if(Mr){var s=r;if(te(t)&&(t=t.content,s=r.content),i=t.querySelectorAll("template"),i.length)for(n=s.querySelectorAll("template"),e=n.length;e--;)n[e].parentNode.replaceChild(ne(i[e]),n[e])}if(Dr)if("TEXTAREA"===t.tagName)r.value=t.value;else if(i=t.querySelectorAll("textarea"),i.length)for(n=r.querySelectorAll("textarea"),e=n.length;e--;)n[e].value=i[e].value;return r}function re(t,e,i){var n,r;return t instanceof DocumentFragment?(Q(t),e?ne(t):t):("string"==typeof t?i||"#"!==t.charAt(0)?r=ee(t,i):(r=Ar.get(t),r||(n=document.getElementById(t.slice(1)),n&&(r=ie(n),Ar.put(t,r)))):t.nodeType&&(r=ie(t)),r&&e?ne(r):r)}function se(t,e,i,n,r,s){this.children=[],this.childFrags=[],this.vm=e,this.scope=r,this.inserted=!1,this.parentFrag=s,s&&s.childFrags.push(this),this.unlink=t(e,i,n,r,this);var o=this.single=1===i.childNodes.length&&!i.childNodes[0].__vue_anchor;o?(this.node=i.childNodes[0],this.before=oe,this.remove=ae):(this.node=it("fragment-start"),this.end=it("fragment-end"),this.frag=i,Y(this.node,i),i.appendChild(this.end),this.before=le,this.remove=he),this.node.__vfrag__=this}function oe(t,e){this.inserted=!0;var i=e!==!1?N:X;i(this.node,t,this.vm),$(this.node)&&this.callHook(ue)}function ae(){this.inserted=!1;var t=$(this.node),e=this;e.callHook(ce),B(this.node,this.vm,function(){t&&e.callHook(pe),e.destroy()})}function le(t,e){this.inserted=!0;var i=this.vm,n=e!==!1?N:X;rt(this.node,this.end,function(e){n(e,t,i)}),$(this.node)&&this.callHook(ue)}function he(){this.inserted=!1;var t=this,e=$(this.node);t.callHook(ce),st(this.node,this.end,this.vm,this.frag,function(){e&&t.callHook(pe),t.destroy()})}function ue(t){t._isAttached||t._callHook("attached")}function ce(t){t.$destroy(!1,!0)}function pe(t){t._isAttached&&t._callHook("detached")}function de(t,e){this.vm=t;var i,n="string"==typeof e;n||et(e)?i=re(e,!0):(i=document.createDocumentFragment(),i.appendChild(e)),this.template=i;var r,s=t.constructor.cid;if(s>0){var o=s+(n?e:e.outerHTML);r=Fr.get(o),r||(r=Ce(i,t.$options,!0),Fr.put(o,r))}else r=Ce(i,t.$options,!0);this.linker=r}function fe(t,e,i){var n=t.node.previousSibling;if(n){for(t=n.__vfrag__;!(t&&t.forId===i&&t.inserted||n===e);){if(n=n.previousSibling,!n)return;t=n.__vfrag__}return t}}function me(t){var e=t.node;if(t.end)for(;!e.__vue__&&e!==t.end&&e.nextSibling;)e=e.nextSibling;return e.__vue__}function ve(t){for(var e=-1,i=new Array(t);++e<t;)i[e]=e;return i}function ge(t){Ur.push(t),zr||(zr=!0,Fi(_e))}function _e(){for(var t=document.documentElement.offsetHeight,e=0;e<Ur.length;e++)Ur[e]();return Ur=[],zr=!1,t}function ye(t,e,i,n){this.id=e,this.el=t,this.enterClass=e+"-enter",this.leaveClass=e+"-leave",this.hooks=i,this.vm=n,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={};var r=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(t){r[t]=m(r[t],r)})}function xe(t){return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function be(t){for(var e={},i=t.trim().split(/\s+/),n=i.length;n--;)e[i[n]]=!0;return e}function we(t,e){return Ti(t)?t.indexOf(e)>-1:r(t,e)}function Te(e,i){for(var n,r,o,a,l,h,u,p=[],f=Object.keys(i),m=f.length;m--;)r=f[m],n=i[r]||es,"production"===t.env.NODE_ENV||"$data"!==r?(l=c(r),is.test(l)?(u={name:r,path:l,options:n,mode:ts.ONE_WAY,raw:null},o=d(r),null===(a=z(e,o))&&(null!==(a=z(e,o+".sync"))?u.mode=ts.TWO_WAY:null!==(a=z(e,o+".once"))&&(u.mode=ts.ONE_TIME)),null!==a?(u.raw=a,h=P(a),a=h.expression,u.filters=h.filters,s(a)?u.optimizedLiteral=!0:(u.dynamic=!0,"production"===t.env.NODE_ENV||u.mode!==ts.TWO_WAY||ns.test(a)||(u.mode=ts.ONE_WAY,an("Cannot bind two-way prop with non-settable parent path: "+a))),u.parentPath=a,"production"!==t.env.NODE_ENV&&n.twoWay&&u.mode!==ts.TWO_WAY&&an('Prop "'+r+'" expects a two-way binding type.')):null!==(a=U(e,o))?u.raw=a:n.required&&"production"!==t.env.NODE_ENV&&an("Missing required prop: "+r),p.push(u)):"production"!==t.env.NODE_ENV&&an('Invalid prop key: "'+r+'". Prop keys must be valid identifiers.')):an("Do not use $data as prop.");return Ee(p)}function Ee(e){return function(i,n){i._props={};for(var r,s,o,a,c,p=e.length;p--;)if(r=e[p],c=r.raw,s=r.path,o=r.options,i._props[s]=r,null===c)lt(i,r,Se(i,o));else if(r.dynamic)i._context?r.mode===ts.ONE_TIME?(a=(n||i._context).$get(r.parentPath),lt(i,r,a)):i._bindDir({name:"prop",def:Kr,prop:r},null,null,n):"production"!==t.env.NODE_ENV&&an("Cannot bind dynamic prop on a root instance with no parent: "+r.name+'="'+c+'"');else if(r.optimizedLiteral){var d=u(c);a=d===c?h(l(c)):d,lt(i,r,a)}else a=o.type===Boolean&&""===c?!0:c,lt(i,r,a)}}function Se(e,i){if(!r(i,"default"))return i.type===Boolean?!1:void 0;var n=i["default"];return _(n)&&"production"!==t.env.NODE_ENV&&an("Object/Array as default prop values will be shared across multiple instances. Use a factory function to return the default value instead."),"function"==typeof n&&i.type!==Function?n.call(e):n}function Ce(t,e,i){var n=i||!e._asComponent?ke(t,e):null,r=n&&n.terminal||"SCRIPT"===t.tagName||!t.hasChildNodes()?null:je(t.childNodes,e);return function(t,e,i,s,o){var a=v(e.childNodes),l=Ae(function(){n&&n(t,e,i,s,o),r&&r(t,a,i,s,o)},t);return Re(t,l)}}function Ae(t,e){var i=e._directives.length;t();var n=e._directives.slice(i);n.sort(Pe);for(var r=0,s=n.length;s>r;r++)n[r]._bind();
return n}function Pe(t,e){return t=t.descriptor.def.priority||us,e=e.descriptor.def.priority||us,t>e?-1:t===e?0:1}function Re(t,e,i,n){return function(r){Oe(t,e,r),i&&n&&Oe(i,n)}}function Oe(t,e,i){for(var n=e.length;n--;)e[n]._teardown(),i||t._directives.$remove(e[n])}function Me(t,e,i,n){var r=Te(e,i),s=Ae(function(){r(t,n)},t);return Re(t,s)}function De(e,i,n){var r,s,o=i._containerAttrs,a=i._replacerAttrs;if(11!==e.nodeType)i._asComponent?(o&&n&&(r=Ye(o,n)),a&&(s=Ye(a,i))):s=Ye(e.attributes,i);else if("production"!==t.env.NODE_ENV&&o){var l=o.filter(function(t){return t.name.indexOf("_v-")<0&&!ss.test(t.name)&&"slot"!==t.name}).map(function(t){return'"'+t.name+'"'});if(l.length){var h=l.length>1;an("Attribute"+(h?"s ":" ")+l.join(", ")+(h?" are":" is")+" ignored on component <"+i.el.tagName.toLowerCase()+"> because the component is a fragment instance: http://vuejs.org/guide/components.html#Fragment_Instance")}}return function(t,e,i){var n,o=t._context;o&&r&&(n=Ae(function(){r(o,e,null,i)},o));var a=Ae(function(){s&&s(t,e)},t);return Re(t,a,o,n)}}function ke(t,e){var i=t.nodeType;return 1===i&&"SCRIPT"!==t.tagName?Fe(t,e):3===i&&t.data.trim()?Le(t,e):null}function Fe(t,e){if("TEXTAREA"===t.tagName){var i=M(t.value);i&&(t.setAttribute(":value",D(i)),t.value="")}var n,r=t.hasAttributes();return r&&(n=Xe(t,e)),n||(n=Ue(t,e)),n||(n=ze(t,e)),!n&&r&&(n=Ye(t.attributes,e)),n}function Le(t,e){if(t._skip)return Ne;var i=M(t.wholeText);if(!i)return null;for(var n=t.nextSibling;n&&3===n.nodeType;)n._skip=!0,n=n.nextSibling;for(var r,s,o=document.createDocumentFragment(),a=0,l=i.length;l>a;a++)s=i[a],r=s.tag?Be(s,e):document.createTextNode(s.value),o.appendChild(r);return Ie(i,o,e)}function Ne(t,e){W(e)}function Be(t,e){function i(e){if(!t.descriptor){var i=P(t.value);t.descriptor={name:e,def:$r[e],expression:i.expression,filters:i.filters}}}var n;return t.oneTime?n=document.createTextNode(t.value):t.html?(n=document.createComment("v-html"),i("html")):(n=document.createTextNode(" "),i("text")),n}function Ie(t,e){return function(i,n,r,s){for(var o,a,l,h=e.cloneNode(!0),u=v(h.childNodes),c=0,p=t.length;p>c;c++)o=t[c],a=o.value,o.tag&&(l=u[c],o.oneTime?(a=(s||i).$eval(a),o.html?G(l,re(a,!0)):l.data=a):i._bindDir(o.descriptor,l,r,s));G(n,h)}}function je(t,e){for(var i,n,r,s=[],o=0,a=t.length;a>o;o++)r=t[o],i=ke(r,e),n=i&&i.terminal||"SCRIPT"===r.tagName||!r.hasChildNodes()?null:je(r.childNodes,e),s.push(i,n);return s.length?$e(s):null}function $e(t){return function(e,i,n,r,s){for(var o,a,l,h=0,u=0,c=t.length;c>h;u++){o=i[u],a=t[h++],l=t[h++];var p=v(o.childNodes);a&&a(e,o,n,r,s),l&&l(e,p,n,r,s)}}}function Ue(t,e){var i=t.tagName.toLowerCase();if(!hn.test(i)){var n=_t(e,"elementDirectives",i);return n?We(t,i,"",e,n):void 0}}function ze(t,e){var i=ot(t,e);if(i){var n=nt(t),r={name:"component",ref:n,expression:i.id,def:Qr.component,modifiers:{literal:!i.dynamic}},s=function(t,e,i,s,o){n&&St((s||t).$refs,n,null),t._bindDir(r,e,i,s,o)};return s.terminal=!0,s}}function Xe(t,e){if(null!==U(t,"v-pre"))return He;if(t.hasAttribute("v-else")){var i=t.previousElementSibling;if(i&&i.hasAttribute("v-if"))return He}for(var n,r,s=0,o=hs.length;o>s;s++)if(r=hs[s],n=t.getAttribute("v-"+r))return We(t,r,n,e)}function He(){}function We(t,e,i,n,r){var s=P(i),o={name:e,expression:s.expression,filters:s.filters,raw:i,def:r||$r[e]};("for"===e||"router-view"===e)&&(o.ref=nt(t));var a=function(t,e,i,n,r){o.ref&&St((n||t).$refs,o.ref,null),t._bindDir(o,e,i,n,r)};return a.terminal=!0,a}function Ye(e,i){function n(t,e,i){var n=P(o);m.push({name:t,attr:a,raw:l,def:e,arg:u,modifiers:c,expression:n.expression,filters:n.filters,interp:i})}for(var r,s,o,a,l,h,u,c,p,d,f=e.length,m=[];f--;)if(r=e[f],s=a=r.name,o=l=r.value,d=M(o),u=null,c=Ge(s),s=s.replace(as,""),d)o=D(d),u=s,n("bind",$r.bind,!0),"production"!==t.env.NODE_ENV&&"class"===s&&Array.prototype.some.call(e,function(t){return":class"===t.name||"v-bind:class"===t.name})&&an('class="'+l+'": Do not mix mustache interpolation and v-bind for "class" on the same element. Use one or the other.');else if(ls.test(s))c.literal=!rs.test(s),n("transition",Qr.transition);else if(ss.test(s))u=s.replace(ss,""),n("on",$r.on);else if(rs.test(s))h=s.replace(rs,""),"style"===h||"class"===h?n(h,Qr[h]):(u=h,n("bind",$r.bind));else if(0===s.indexOf("v-")){if(u=(u=s.match(os))&&u[1],u&&(s=s.replace(os,"")),h=s.slice(2),"else"===h)continue;p=_t(i,"directives",h),"production"!==t.env.NODE_ENV&&yt(p,"directive",h),p&&n(h,p)}return m.length?Ve(m):void 0}function Ge(t){var e=Object.create(null),i=t.match(as);if(i)for(var n=i.length;n--;)e[i[n].slice(1)]=!0;return e}function Ve(t){return function(e,i,n,r,s){for(var o=t.length;o--;)e._bindDir(t[o],i,n,r,s)}}function qe(t,e){return e&&(e._containerAttrs=Ze(t)),et(t)&&(t=re(t)),e&&(e._asComponent&&!e.template&&(e.template="<slot></slot>"),e.template&&(e._content=J(t),t=Ke(t,e))),t instanceof DocumentFragment&&(Y(it("v-start",!0),t),t.appendChild(it("v-end",!0))),t}function Ke(e,i){var n=i.template,r=re(n,!0);if(r){var s=r.firstChild,o=s.tagName&&s.tagName.toLowerCase();return i.replace?(e===document.body&&"production"!==t.env.NODE_ENV&&an("You are mounting an instance with a template to <body>. This will replace <body> entirely. You should probably use `replace: false` here."),r.childNodes.length>1||1!==s.nodeType||"component"===o||_t(i,"components",o)||s.hasAttribute("is")||s.hasAttribute(":is")||s.hasAttribute("v-bind:is")||_t(i,"elementDirectives",o)||s.hasAttribute("v-for")||s.hasAttribute("v-if")?r:(i._replacerAttrs=Ze(s),Je(e,s),s)):(e.appendChild(r),e)}"production"!==t.env.NODE_ENV&&an("Invalid template option: "+n)}function Ze(t){return 1===t.nodeType&&t.hasAttributes()?v(t.attributes):void 0}function Je(t,e){for(var i,n,r=t.attributes,s=r.length;s--;)i=r[s].name,n=r[s].value,e.hasAttribute(i)||cs.test(i)?"class"===i&&n.split(/\s+/).forEach(function(t){K(e,t)}):e.setAttribute(i,n)}function Qe(e){function n(){}function s(t,e){var i=new Wt(e,t,null,{lazy:!0});return function(){return i.dirty&&i.evaluate(),xt.target&&i.depend(),i.value}}Object.defineProperty(e.prototype,"$data",{get:function(){return this._data},set:function(t){t!==this._data&&this._setData(t)}}),e.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},e.prototype._initProps=function(){var e=this.$options,i=e.el,n=e.props;n&&!i&&"production"!==t.env.NODE_ENV&&an("Props will not be compiled if no `el` option is provided at instantiation."),i=e.el=j(i),this._propsUnlinkFn=i&&1===i.nodeType&&n?Me(this,i,n,this._scope):null},e.prototype._initData=function(){var e=this._data,n=this.$options.data,s=n&&n();if(s){this._data=s;for(var o in e)"production"!==t.env.NODE_ENV&&r(s,o)&&an('Data field "'+o+'" is already defined as a prop. Use prop default value instead.'),null===this._props[o].raw&&r(s,o)||i(s,o,e[o])}var a,l,h=this._data,u=Object.keys(h);for(a=u.length;a--;)l=u[a],this._proxy(l);Et(h,this)},e.prototype._setData=function(t){t=t||{};var e=this._data;this._data=t;var i,n,s;for(i=Object.keys(e),s=i.length;s--;)n=i[s],n in t||this._unproxy(n);for(i=Object.keys(t),s=i.length;s--;)n=i[s],r(this,n)||this._proxy(n);e.__ob__.removeVm(this),Et(t,this),this._digest()},e.prototype._proxy=function(t){if(!o(t)){var e=this;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(i){e._data[t]=i}})}},e.prototype._unproxy=function(t){o(t)||delete this[t]},e.prototype._digest=function(){for(var t=0,e=this._watchers.length;e>t;t++)this._watchers[t].update(!0)},e.prototype._initComputed=function(){var t=this.$options.computed;if(t)for(var e in t){var i=t[e],r={enumerable:!0,configurable:!0};"function"==typeof i?(r.get=s(i,this),r.set=n):(r.get=i.get?i.cache!==!1?s(i.get,this):m(i.get,this):n,r.set=i.set?m(i.set,this):n),Object.defineProperty(this,e,r)}},e.prototype._initMethods=function(){var t=this.$options.methods;if(t)for(var e in t)this[e]=m(t[e],this)},e.prototype._initMeta=function(){var t=this.$options._meta;if(t)for(var e in t)St(this,e,t[e])}}function ti(e){function i(t,e){for(var i,n,r=e.attributes,s=0,o=r.length;o>s;s++)i=r[s].name,ds.test(i)&&(i=i.replace(ds,""),n=(t._scope||t._context).$eval(r[s].value,!0),t.$on(i.replace(ds),n))}function n(t,e,i){if(i){var n,s,o,a;for(s in i)if(n=i[s],Ti(n))for(o=0,a=n.length;a>o;o++)r(t,e,s,n[o]);else r(t,e,s,n)}}function r(e,i,n,s,o){var a=typeof s;if("function"===a)e[i](n,s,o);else if("string"===a){var l=e.$options.methods,h=l&&l[s];h?e[i](n,h,o):"production"!==t.env.NODE_ENV&&an('Unknown method: "'+s+'" when registering callback for '+i+': "'+n+'".')}else s&&"object"===a&&r(e,i,n,s.handler,s)}function s(){this._isAttached||(this._isAttached=!0,this.$children.forEach(o))}function o(t){!t._isAttached&&$(t.$el)&&t._callHook("attached")}function a(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(l))}function l(t){t._isAttached&&!$(t.$el)&&t._callHook("detached")}e.prototype._initEvents=function(){var t=this.$options;t._asComponent&&i(this,t.el),n(this,"$on",t.events),n(this,"$watch",t.watch)},e.prototype._initDOMHooks=function(){this.$on("hook:attached",s),this.$on("hook:detached",a)},e.prototype._callHook=function(t){var e=this.$options[t];if(e)for(var i=0,n=e.length;n>i;i++)e[i].call(this);this.$emit("hook:"+t)}}function ei(){}function ii(e,i,n,r,s,o){this.vm=i,this.el=n,this.descriptor=e,this.name=e.name,this.expression=e.expression,this.arg=e.arg,this.modifiers=e.modifiers,this.filters=e.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=r,this._scope=s,this._frag=o,"production"!==t.env.NODE_ENV&&this.el&&(this.el._vue_directives=this.el._vue_directives||[],this.el._vue_directives.push(this))}function ni(t){t.prototype._updateRef=function(t){var e=this.$options._ref;if(e){var i=(this._scope||this._context).$refs;t?i[e]===this&&(i[e]=null):i[e]=this}},t.prototype._compile=function(t){var e=this.$options,i=t;t=qe(t,e),this._initElement(t);var n,r=this._context&&this._context.$options,s=De(t,e,r),o=this.constructor;e._linkerCachable&&(n=o.linker,n||(n=o.linker=Ce(t,e)));var a=s(this,t,this._scope),l=n?n(this,t):Ce(t,e)(this,t);return this._unlinkFn=function(){a(),l(!0)},e.replace&&G(i,t),this._isCompiled=!0,this._callHook("compiled"),t},t.prototype._initElement=function(t){t instanceof DocumentFragment?(this._isFragment=!0,this.$el=this._fragmentStart=t.firstChild,this._fragmentEnd=t.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=t):this.$el=t,this.$el.__vue__=this,this._callHook("beforeCompile")},t.prototype._bindDir=function(t,e,i,n,r){this._directives.push(new ii(t,this,e,i,n,r))},t.prototype._destroy=function(t,e){if(this._isBeingDestroyed)return void(e||this._cleanup());this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var i,n=this.$parent;for(n&&!n._isBeingDestroyed&&(n.$children.$remove(this),this._updateRef(!0)),i=this.$children.length;i--;)this.$children[i].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),i=this._watchers.length;i--;)this._watchers[i].teardown();this.$el&&(this.$el.__vue__=null);var r=this;t&&this.$el?this.$remove(function(){r._cleanup()}):e||this._cleanup()},t.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}function ri(e){e.prototype._applyFilters=function(e,i,n,r){var s,o,a,l,h,u,c,p,d;for(u=0,c=n.length;c>u;u++)if(s=n[u],o=_t(this.$options,"filters",s.name),"production"!==t.env.NODE_ENV&&yt(o,"filter",s.name),o&&(o=r?o.write:o.read||o,"function"==typeof o)){if(a=r?[e,i]:[e],h=r?2:1,s.args)for(p=0,d=s.args.length;d>p;p++)l=s.args[p],a[p+h]=l.dynamic?this.$get(l.value):l.value;e=o.apply(this,a)}return e},e.prototype._resolveComponent=function(i,n){var r=_t(this.$options,"components",i);if("production"!==t.env.NODE_ENV&&yt(r,"component",i),r)if(r.options)n(r);else if(r.resolved)n(r.resolved);else if(r.requested)r.pendingCallbacks.push(n);else{r.requested=!0;var s=r.pendingCallbacks=[n];r(function(t){y(t)&&(t=e.extend(t)),r.resolved=t;for(var i=0,n=s.length;n>i;i++)s[i](t)},function(e){"production"!==t.env.NODE_ENV&&an("Failed to resolve async component: "+i+". "+(e?"\nReason: "+e:""))})}}}function si(e){function r(t){return new Function("return function "+f(t)+" (options) { this._init(options) }")()}e.util=vn,e.config=on,e.set=i,e["delete"]=n,e.nextTick=Fi,e.compiler=ps,e.FragmentFactory=de,e.internalDirectives=Qr,e.parsers={path:Fn,text:nn,template:kr,directive:Ki,expression:Vn},e.cid=0;var s=1;e.extend=function(t){t=t||{};var e=this,i=0===e.cid;if(i&&t._Ctor)return t._Ctor;var n=t.name||e.options.name,o=r(n||"VueComponent");return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.cid=s++,o.options=gt(e.options,t),o["super"]=e,o.extend=e.extend,on._assetTypes.forEach(function(t){o[t]=e[t]}),n&&(o.options.components[n]=o),i&&(t._Ctor=o),o},e.use=function(t){if(!t.installed){var e=v(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}},e.mixin=function(t){e.options=gt(e.options,t)},on._assetTypes.forEach(function(i){e[i]=function(n,r){return r?("production"!==t.env.NODE_ENV&&"component"===i&&hn.test(n)&&an("Do not use built-in HTML elements as component id: "+n),"component"===i&&y(r)&&(r.name=n,r=e.extend(r)),this.options[i+"s"][n]=r,r):this.options[i+"s"][n]}})}function oi(t){function e(t){return JSON.parse(JSON.stringify(t))}t.prototype.$get=function(t,e){var i=jt(t);if(i){if(e&&!$t(t)){var n=this;return function(){i.get.call(n,n)}}try{return i.get.call(this,this)}catch(r){}}},t.prototype.$set=function(t,e){var i=jt(t,!0);i&&i.set&&i.set.call(this,this,e)},t.prototype.$delete=function(t){n(this._data,t)},t.prototype.$watch=function(t,e,i){var n,r=this;"string"==typeof t&&(n=P(t),t=n.expression);var s=new Wt(r,t,e,{deep:i&&i.deep,filters:n&&n.filters});return i&&i.immediate&&e.call(r,s.value),function(){s.teardown()}},t.prototype.$eval=function(t,e){if(fs.test(t)){var i=P(t),n=this.$get(i.expression,e);return i.filters?this._applyFilters(n,null,i.filters):n}return this.$get(t,e)},t.prototype.$interpolate=function(t){var e=M(t),i=this;return e?1===e.length?i.$eval(e[0].value)+"":e.map(function(t){return t.tag?i.$eval(t.value):t.value}).join(""):t},t.prototype.$log=function(t){var i=t?Mt(this._data,t):this._data;if(i&&(i=e(i)),!t)for(var n in this.$options.computed)i[n]=e(this[n]);console.log(i)}}function ai(t){function e(t,e,n,r,s,o){e=i(e);var a=!$(e),l=r===!1||a?s:o,h=!a&&!t._isAttached&&!$(t.$el);return t._isFragment?(rt(t._fragmentStart,t._fragmentEnd,function(i){l(i,e,t)}),n&&n()):l(t.$el,e,t,n),h&&t._callHook("attached"),t}function i(t){return"string"==typeof t?document.querySelector(t):t}function n(t,e,i,n){e.appendChild(t),n&&n()}function r(t,e,i,n){X(t,e),n&&n()}function s(t,e,i){W(t),i&&i()}t.prototype.$nextTick=function(t){Fi(t,this)},t.prototype.$appendTo=function(t,i,r){return e(this,t,i,r,n,L)},t.prototype.$prependTo=function(t,e,n){return t=i(t),t.hasChildNodes()?this.$before(t.firstChild,e,n):this.$appendTo(t,e,n),this},t.prototype.$before=function(t,i,n){return e(this,t,i,n,r,N)},t.prototype.$after=function(t,e,n){return t=i(t),t.nextSibling?this.$before(t.nextSibling,e,n):this.$appendTo(t.parentNode,e,n),this},t.prototype.$remove=function(t,e){if(!this.$el.parentNode)return t&&t();var i=this._isAttached&&$(this.$el);i||(e=!1);var n=this,r=function(){i&&n._callHook("detached"),t&&t()};if(this._isFragment)st(this._fragmentStart,this._fragmentEnd,this,this._fragment,r);else{var o=e===!1?s:B;o(this.$el,this,r)}return this}}function li(t){function e(t,e,n){var r=t.$parent;if(r&&n&&!i.test(e))for(;r;)r._eventsCount[e]=(r._eventsCount[e]||0)+n,r=r.$parent}t.prototype.$on=function(t,i){return(this._events[t]||(this._events[t]=[])).push(i),e(this,t,1),this},t.prototype.$once=function(t,e){function i(){n.$off(t,i),e.apply(this,arguments)}var n=this;return i.fn=e,this.$on(t,i),this},t.prototype.$off=function(t,i){var n;if(!arguments.length){if(this.$parent)for(t in this._events)n=this._events[t],n&&e(this,t,-n.length);return this._events={},this}if(n=this._events[t],!n)return this;if(1===arguments.length)return e(this,t,-n.length),this._events[t]=null,this;for(var r,s=n.length;s--;)if(r=n[s],r===i||r.fn===i){e(this,t,-1),n.splice(s,1);break}return this},t.prototype.$emit=function(t){var e=this._events[t],i=!e;if(e){e=e.length>1?v(e):e;for(var n=v(arguments,1),r=0,s=e.length;s>r;r++){var o=e[r].apply(this,n);o===!0&&(i=!0)}}return i},t.prototype.$broadcast=function(t){if(this._eventsCount[t]){for(var e=this.$children,i=0,n=e.length;n>i;i++){var r=e[i],s=r.$emit.apply(r,arguments);s&&r.$broadcast.apply(r,arguments)}return this}},t.prototype.$dispatch=function(){this.$emit.apply(this,arguments);for(var t=this.$parent;t;){var e=t.$emit.apply(t,arguments);t=e?t.$parent:null}return this};var i=/^hook:/}function hi(e){function i(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}e.prototype.$mount=function(e){return this._isCompiled?void("production"!==t.env.NODE_ENV&&an("$mount() should be called only once.")):(e=j(e),e||(e=document.createElement("div")),this._compile(e),this._initDOMHooks(),$(this.$el)?(this._callHook("attached"),i.call(this)):this.$once("hook:attached",i),this)},e.prototype.$destroy=function(t,e){this._destroy(t,e)},e.prototype.$compile=function(t,e,i,n){return Ce(t,this.$options,!0)(this,t,e,i,n)}}function ui(t){this._init(t)}function ci(t,e,i){return i=i?parseInt(i,10):0,"number"==typeof e?t.slice(i,i+e):t}function pi(t,e,i){if(t=ms(t),null==e)return t;if("function"==typeof e)return t.filter(e);e=(""+e).toLowerCase();for(var n,r,s,o,a="in"===i?3:2,l=v(arguments,a).reduce(function(t,e){return t.concat(e)},[]),h=[],u=0,c=t.length;c>u;u++)if(n=t[u],s=n&&n.$value||n,o=l.length){for(;o--;)if(r=l[o],"$key"===r&&fi(n.$key,e)||fi(Mt(s,r),e)){h.push(n);break}}else fi(n,e)&&h.push(n);return h}function di(t,e,i){if(t=ms(t),!e)return t;var n=i&&0>i?-1:1;return t.slice().sort(function(t,i){return"$key"!==e&&(_(t)&&"$value"in t&&(t=t.$value),_(i)&&"$value"in i&&(i=i.$value)),t=_(t)?Mt(t,e):t,i=_(i)?Mt(i,e):i,t===i?0:t>i?n:-n})}function fi(t,e){var i;if(y(t)){var n=Object.keys(t);for(i=n.length;i--;)if(fi(t[n[i]],e))return!0}else if(Ti(t)){for(i=t.length;i--;)if(fi(t[i],e))return!0}else if(null!=t)return t.toString().toLowerCase().indexOf(e)>-1}function mi(t,e,i){function n(t){!et(t)||t.hasAttribute("v-if")||t.hasAttribute("v-for")||(t=re(t)),t=ne(t),r.appendChild(t)}for(var r=document.createDocumentFragment(),s=0,o=t.length;o>s;s++){var a=t[s];i&&!a.__v_selected?n(a):i||a.parentNode!==e||(a.__v_selected=!0,n(a))}return r}var vi=Object.prototype.hasOwnProperty,gi=/^\s?(true|false|[\d\.]+|'[^']*'|"[^"]*")\s?$/,_i=/-(\w)/g,yi=/([a-z\d])([A-Z])/g,xi=/(?:^|[-_\/])(\w)/g,bi=Object.prototype.toString,wi="[object Object]",Ti=Array.isArray,Ei="__proto__"in{},Si="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),Ci=Si&&navigator.userAgent.toLowerCase().indexOf("msie 9.0")>0,Ai=Si&&navigator.userAgent.toLowerCase().indexOf("android")>0,Pi=void 0,Ri=void 0,Oi=void 0,Mi=void 0;if(Si&&!Ci){var Di=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,ki=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;Pi=Di?"WebkitTransition":"transition",Ri=Di?"webkitTransitionEnd":"transitionend",Oi=ki?"WebkitAnimation":"animation",Mi=ki?"webkitAnimationEnd":"animationend"}var Fi=function(){function t(){n=!1;var t=i.slice(0);i=[];for(var e=0;e<t.length;e++)t[e]()}var e,i=[],n=!1;if("undefined"!=typeof MutationObserver){var r=1,s=new MutationObserver(t),o=document.createTextNode(r);s.observe(o,{characterData:!0}),e=function(){r=(r+1)%2,o.data=r}}else e=setTimeout;return function(r,s){var o=s?function(){r.call(s)}:r;i.push(o),n||(n=!0,e(t,0))}}(),Li=S.prototype;Li.put=function(t,e){var i={key:t,value:e};return this._keymap[t]=i,this.tail?(this.tail.newer=i,i.older=this.tail):this.head=i,this.tail=i,this.size===this.limit?this.shift():void this.size++},Li.shift=function(){var t=this.head;return t&&(this.head=this.head.newer,this.head.older=void 0,t.newer=t.older=void 0,this._keymap[t.key]=void 0),t},Li.get=function(t,e){var i=this._keymap[t];if(void 0!==i)return i===this.tail?e?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i,e?i:i.value)};var Ni,Bi,Ii,ji,$i,Ui,zi,Xi,Hi,Wi,Yi,Gi=new S(1e3),Vi=/[^\s'"]+|'[^']*'|"[^"]*"/g,qi=/^in$|^-?\d+/,Ki=Object.freeze({parseDirective:P}),Zi=/[-.*+?^${}()|[\]\/\\]/g,Ji=void 0,Qi=void 0,tn=void 0,en=/[^|]\|[^|]/,nn=Object.freeze({compileRegex:O,parseText:M,tokensToExp:D}),rn=["{{","}}"],sn=["{{{","}}}"],on=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,convertAllProperties:!1,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return rn},set:function(t){rn=t,O()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return sn},set:function(t){sn=t,O()},configurable:!0,enumerable:!0}}),an=void 0;"production"!==t.env.NODE_ENV&&!function(){var t="undefined"!=typeof console;an=function(e,i){if(t&&(!on.silent||on.debug)&&(console.warn("[Vue warn]: "+e),on.debug)){if(i)throw i;console.warn(new Error("Warning Stack Trace").stack)}}}();var ln=/^v-ref:/,hn=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/,un=on.optionMergeStrategies=Object.create(null);un.data=function(e,i,n){return n?e||i?function(){var t="function"==typeof i?i.call(n):i,r="function"==typeof e?e.call(n):void 0;return t?pt(t,r):r}:void 0:i?"function"!=typeof i?("production"!==t.env.NODE_ENV&&an('The "data" option should be a function that returns a per-instance value in component definitions.'),e):e?function(){return pt(i.call(this),e.call(this))}:i:e},un.el=function(e,i,n){if(!n&&i&&"function"!=typeof i)return void("production"!==t.env.NODE_ENV&&an('The "el" option should be a function that returns a per-instance value in component definitions.'));var r=i||e;return n&&"function"==typeof r?r.call(n):r},un.init=un.created=un.ready=un.attached=un.detached=un.beforeCompile=un.compiled=un.beforeDestroy=un.destroyed=function(t,e){return e?t?t.concat(e):Ti(e)?e:[e]:t},un.paramAttributes=function(){"production"!==t.env.NODE_ENV&&an('"paramAttributes" option has been deprecated in 0.12. Use "props" instead.')},on._assetTypes.forEach(function(t){un[t+"s"]=dt}),un.watch=un.events=function(t,e){if(!e)return t;if(!t)return e;var i={};g(i,t);for(var n in e){var r=i[n],s=e[n];r&&!Ti(r)&&(r=[r]),i[n]=r?r.concat(s):[s]}return i},un.props=un.methods=un.computed=function(t,e){if(!e)return t;if(!t)return e;var i=Object.create(null);return g(i,t),g(i,e),i};var cn=function(t,e){return void 0===e?t:e},pn=Array.prototype,dn=Object.create(pn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=pn[t];x(dn,t,function(){for(var i=arguments.length,n=new Array(i);i--;)n[i]=arguments[i];var r,s=e.apply(this,n),o=this.__ob__;switch(t){case"push":r=n;break;case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),s})}),x(pn,"$set",function(t,e){return t>=this.length&&(this.length=t+1),this.splice(t,1,e)[0]}),x(pn,"$remove",function(t){if(this.length){var e=w(this,t);return e>-1?this.splice(e,1):void 0}});var fn=0;xt.target=null,xt.prototype.addSub=function(t){this.subs.push(t)},xt.prototype.removeSub=function(t){this.subs.$remove(t)},xt.prototype.depend=function(){xt.target.addDep(this)},xt.prototype.notify=function(){for(var t=v(this.subs),e=0,i=t.length;i>e;e++)t[e].update()};var mn=Object.getOwnPropertyNames(dn);bt.prototype.walk=function(t){for(var e=Object.keys(t),i=e.length;i--;)this.convert(e[i],t[e[i]])},bt.prototype.observeArray=function(t){for(var e=t.length;e--;)Et(t[e])},bt.prototype.convert=function(t,e){St(this.value,t,e)},bt.prototype.addVm=function(t){(this.vms||(this.vms=[])).push(t)},bt.prototype.removeVm=function(t){this.vms.$remove(t)};var vn=Object.freeze({defineReactive:St,set:i,del:n,hasOwn:r,isLiteral:s,isReserved:o,_toString:a,toNumber:l,toBoolean:h,stripQuotes:u,camelize:c,hyphenate:d,classify:f,bind:m,toArray:v,extend:g,isObject:_,isPlainObject:y,def:x,debounce:b,indexOf:w,cancellable:T,looseEqual:E,isArray:Ti,hasProto:Ei,inBrowser:Si,isIE9:Ci,isAndroid:Ai,get transitionProp(){return Pi},get transitionEndEvent(){return Ri},get animationProp(){return Oi},get animationEndEvent(){return Mi},nextTick:Fi,query:j,inDoc:$,getAttr:U,getBindAttr:z,before:X,after:H,remove:W,prepend:Y,replace:G,on:V,off:q,addClass:K,removeClass:Z,extractContent:J,trimNode:Q,isTemplate:et,createAnchor:it,findRef:nt,mapNodeRange:rt,removeNodeRange:st,mergeOptions:gt,resolveAsset:_t,assertAsset:yt,checkComponentAttr:ot,initProp:lt,assertProp:ht,commonTagRE:hn,get warn(){return an}}),gn=0,_n=new S(1e3),yn=0,xn=1,bn=2,wn=3,Tn=0,En=1,Sn=2,Cn=3,An=4,Pn=5,Rn=6,On=7,Mn=8,Dn=[];Dn[Tn]={ws:[Tn],ident:[Cn,yn],"[":[An],eof:[On]},Dn[En]={ws:[En],".":[Sn],"[":[An],eof:[On]},Dn[Sn]={ws:[Sn],ident:[Cn,yn]},Dn[Cn]={ident:[Cn,yn],0:[Cn,yn],number:[Cn,yn],ws:[En,xn],".":[Sn,xn],"[":[An,xn],eof:[On,xn]},Dn[An]={"'":[Pn,yn],'"':[Rn,yn],"[":[An,bn],"]":[En,wn],eof:Mn,"else":[An,yn]},Dn[Pn]={"'":[An,yn],eof:Mn,"else":[Pn,yn]},Dn[Rn]={'"':[An,yn],eof:Mn,"else":[Rn,yn]};var kn;"production"!==t.env.NODE_ENV&&(kn=function(t){an('You are setting a non-existent path "'+t.raw+'" on a vm instance. Consider pre-initializing the property with the "data" option for more reliable reactivity and better performance.')});var Fn=Object.freeze({parsePath:Ot,getPath:Mt,setPath:Dt}),Ln=new S(1e3),Nn="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",Bn=new RegExp("^("+Nn.replace(/,/g,"\\b|")+"\\b)"),In="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,proctected,static,interface,private,public",jn=new RegExp("^("+In.replace(/,/g,"\\b|")+"\\b)"),$n=/\s/g,Un=/\n/g,zn=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|new |typeof |void /g,Xn=/"(\d+)"/g,Hn=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,Wn=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,Yn=/^(true|false)$/,Gn=[],Vn=Object.freeze({parseExpression:jt,isSimplePath:$t}),qn=[],Kn=[],Zn={},Jn={},Qn=!1,tr=!1,er=0;Wt.prototype.addDep=function(t){var e=t.id;this.newDeps[e]||(this.newDeps[e]=t,this.deps[e]||(this.deps[e]=t,t.addSub(this)))},Wt.prototype.get=function(){this.beforeGet();var e,i=this.scope||this.vm;try{e=this.getter.call(i,i)}catch(n){"production"!==t.env.NODE_ENV&&on.warnExpressionErrors&&an('Error when evaluating expression "'+this.expression+'". '+(on.debug?"":"Turn on debug mode to see stack trace."),n)}return this.deep&&Yt(e),this.preProcess&&(e=this.preProcess(e)),this.filters&&(e=i._applyFilters(e,null,this.filters,!1)),this.postProcess&&(e=this.postProcess(e)),this.afterGet(),e},Wt.prototype.set=function(e){var i=this.scope||this.vm;this.filters&&(e=i._applyFilters(e,this.value,this.filters,!0));try{this.setter.call(i,i,e)}catch(n){"production"!==t.env.NODE_ENV&&on.warnExpressionErrors&&an('Error when evaluating setter "'+this.expression+'"',n)}var r=i.$forContext;if(r&&r.alias===this.expression){if(r.filters)return void("production"!==t.env.NODE_ENV&&an("It seems you are using two-way binding on a v-for alias ("+this.expression+"), and the v-for has filters. This will not work properly. Either remove the filters or use an array of objects and bind to object properties instead."));r._withLock(function(){i.$key?r.rawValue[i.$key]=e:r.rawValue.$set(i.$index,e)})}},Wt.prototype.beforeGet=function(){xt.target=this,this.newDeps=Object.create(null)},Wt.prototype.afterGet=function(){xt.target=null;for(var t=Object.keys(this.deps),e=t.length;e--;){var i=t[e];this.newDeps[i]||this.deps[i].removeSub(this)}this.deps=this.newDeps},Wt.prototype.update=function(e){this.lazy?this.dirty=!0:this.sync||!on.async?this.run():(this.shallow=this.queued?e?this.shallow:!1:!!e,this.queued=!0,"production"!==t.env.NODE_ENV&&on.debug&&(this.prevError=new Error("[vue] async stack trace")),Ht(this))},Wt.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||(Ti(e)||this.deep)&&!this.shallow){var i=this.value;this.value=e;var n=this.prevError;if("production"!==t.env.NODE_ENV&&on.debug&&n){this.prevError=null;try{this.cb.call(this.vm,e,i)}catch(r){throw Fi(function(){throw n},0),r}}else this.cb.call(this.vm,e,i)}this.queued=this.shallow=!1}},Wt.prototype.evaluate=function(){var t=xt.target;this.value=this.get(),this.dirty=!1,xt.target=t},Wt.prototype.depend=function(){for(var t=Object.keys(this.deps),e=t.length;e--;)this.deps[t[e]].depend()},Wt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._watchers.$remove(this);for(var t=Object.keys(this.deps),e=t.length;e--;)this.deps[t[e]].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var ir={bind:function(){var t=this.el;this.vm.$once("hook:compiled",function(){t.removeAttribute("v-cloak")})}},nr={bind:function(){"production"!==t.env.NODE_ENV&&an("v-ref:"+this.arg+" must be used on a child component. Found on <"+this.el.tagName.toLowerCase()+">.")}},rr={priority:1500,bind:function(){if(this.arg){var t=this.id=c(this.arg),e=(this._scope||this.vm).$els;r(e,t)?e[t]=this.el:St(e,t,this.el)}},unbind:function(){var t=(this._scope||this.vm).$els;t[this.id]===this.el&&(t[this.id]=null)}},sr=["-webkit-","-moz-","-ms-"],or=["Webkit","Moz","ms"],ar=/!important;?$/,lr=Object.create(null),hr=null,ur={deep:!0,update:function(t){"string"==typeof t?this.el.style.cssText=t:Ti(t)?this.handleObject(t.reduce(g,{})):this.handleObject(t||{})},handleObject:function(t){var e,i,n=this.cache||(this.cache={});for(e in n)e in t||(this.handleSingle(e,null),delete n[e]);for(e in t)i=t[e],i!==n[e]&&(n[e]=i,this.handleSingle(e,i))},handleSingle:function(t,e){if(t=Gt(t))if(null!=e&&(e+=""),e){var i=ar.test(e)?"important":"";i&&(e=e.replace(ar,"").trim()),this.el.style.setProperty(t,e,i)}else this.el.style.removeProperty(t)}},cr="http://www.w3.org/1999/xlink",pr=/^xlink:/,dr={value:1,checked:1,selected:1},fr={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},mr=/^v-|^:|^@|^(is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,vr={priority:850,bind:function(){var e=this.arg,i=this.el.tagName;if(e||(this.deep=!0),this.descriptor.interp&&((mr.test(e)||"name"===e&&("PARTIAL"===i||"SLOT"===i))&&("production"!==t.env.NODE_ENV&&an(e+'="'+this.descriptor.raw+'": attribute interpolation is not allowed in Vue.js directives and special attributes.'),this.el.removeAttribute(e),this.invalid=!0),"production"!==t.env.NODE_ENV)){var n=e+'="'+this.descriptor.raw+'": ';"src"===e&&an(n+'interpolation in "src" attribute will cause a 404 request. Use v-bind:src instead.'),"style"===e&&an(n+'interpolation in "style" attribute will cause the attribute to be discarded in Internet Explorer. Use v-bind:style instead.')}},update:function(t){if(!this.invalid){var e=this.arg;this.arg?this.handleSingle(e,t):this.handleObject(t||{});
}},handleObject:ur.handleObject,handleSingle:function(t,e){dr[t]&&t in this.el&&(this.el[t]="value"===t?e||"":e);var i=fr[t];if(i){this.el[i]=e;var n=this.el.__v_model;n&&n.listener()}return"value"===t&&"TEXTAREA"===this.el.tagName?void this.el.removeAttribute(t):void(null!=e&&e!==!1?pr.test(t)?this.el.setAttributeNS(cr,t,e):this.el.setAttribute(t,e):this.el.removeAttribute(t))}},gr={esc:27,tab:9,enter:13,space:32,"delete":46,up:38,left:37,right:39,down:40},_r={acceptStatement:!0,priority:700,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var t=this;this.iframeBind=function(){V(t.el.contentWindow,t.arg,t.handler)},this.on("load",this.iframeBind)}},update:function(e){if(this.descriptor.raw||(e=function(){}),"function"!=typeof e)return void("production"!==t.env.NODE_ENV&&an("v-on:"+this.arg+'="'+this.expression+'" expects a function value, got '+e));this.modifiers.stop&&(e=Kt(e)),this.modifiers.prevent&&(e=Zt(e));var i=Object.keys(this.modifiers).filter(function(t){return"stop"!==t&&"prevent"!==t});i.length&&(e=qt(e,i)),this.reset(),this.handler=e,this.iframeBind?this.iframeBind():V(this.el,this.arg,this.handler)},reset:function(){var t=this.iframeBind?this.el.contentWindow:this.el;this.handler&&q(t,this.arg,this.handler)},unbind:function(){this.reset()}},yr={bind:function(){function t(){var t=i.checked;return t&&i.hasOwnProperty("_trueValue")?i._trueValue:!t&&i.hasOwnProperty("_falseValue")?i._falseValue:t}var e=this,i=this.el;this.getValue=function(){return i.hasOwnProperty("_value")?i._value:e.params.number?l(i.value):i.value},this.listener=function(){var n=e._watcher.value;if(Ti(n)){var r=e.getValue();i.checked?w(n,r)<0&&n.push(r):n.$remove(r)}else e.set(t())},this.on("change",this.listener),i.checked&&(this.afterBind=this.listener)},update:function(t){var e=this.el;Ti(t)?e.checked=w(t,this.getValue())>-1:e.hasOwnProperty("_trueValue")?e.checked=E(t,e._trueValue):e.checked=!!t}},xr={bind:function(){var t=this,e=this.el;this.forceUpdate=function(){t._watcher&&t.update(t._watcher.get())};var i=this.multiple=e.hasAttribute("multiple");this.listener=function(){var n=Jt(e,i);n=t.params.number?Ti(n)?n.map(l):l(n):n,t.set(n)},this.on("change",this.listener);var n=Jt(e,i,!0);(i&&n.length||!i&&null!==n)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",this.forceUpdate)},update:function(t){var e=this.el;e.selectedIndex=-1;for(var i,n,r=this.multiple&&Ti(t),s=e.options,o=s.length;o--;)i=s[o],n=i.hasOwnProperty("_value")?i._value:i.value,i.selected=r?Qt(t,n)>-1:E(t,n)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},br={bind:function(){var t=this,e=this.el;this.getValue=function(){if(e.hasOwnProperty("_value"))return e._value;var i=e.value;return t.params.number&&(i=l(i)),i},this.listener=function(){t.set(t.getValue())},this.on("change",this.listener),e.checked&&(this.afterBind=this.listener)},update:function(t){this.el.checked=E(t,this.getValue())}},wr={bind:function(){var t=this,e=this.el,i="range"===e.type,n=this.params.lazy,r=this.params.number,s=this.params.debounce,o=!1;Ai||i||(this.on("compositionstart",function(){o=!0}),this.on("compositionend",function(){o=!1,n||t.listener()})),this.focused=!1,i||(this.on("focus",function(){t.focused=!0}),this.on("blur",function(){t.focused=!1,t.listener()})),this.listener=function(){if(!o){var n=r||i?l(e.value):e.value;t.set(n),Fi(function(){t._bound&&!t.focused&&t.update(t._watcher.value)})}},s&&(this.listener=b(this.listener,s)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery?(jQuery(e).on("change",this.listener),n||jQuery(e).on("input",this.listener)):(this.on("change",this.listener),n||this.on("input",this.listener)),!n&&Ci&&(this.on("cut",function(){Fi(t.listener)}),this.on("keyup",function(e){(46===e.keyCode||8===e.keyCode)&&t.listener()})),(e.hasAttribute("value")||"TEXTAREA"===e.tagName&&e.value.trim())&&(this.afterBind=this.listener)},update:function(t){this.el.value=a(t)},unbind:function(){var t=this.el;this.hasjQuery&&(jQuery(t).off("change",this.listener),jQuery(t).off("input",this.listener))}},Tr={text:wr,radio:br,select:xr,checkbox:yr},Er={priority:800,twoWay:!0,handlers:Tr,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&!this.hasWrite&&"production"!==t.env.NODE_ENV&&an("It seems you are using a read-only filter with v-model. You might want to use a two-way filter to ensure correct behavior.");var e,i=this.el,n=i.tagName;if("INPUT"===n)e=Tr[i.type]||Tr.text;else if("SELECT"===n)e=Tr.select;else{if("TEXTAREA"!==n)return void("production"!==t.env.NODE_ENV&&an("v-model does not support element type: "+n));e=Tr.text}i.__v_model=this,e.bind.call(this),this.update=e.update,this._unbind=e.unbind},checkFilters:function(){var t=this.filters;if(t)for(var e=t.length;e--;){var i=_t(this.vm.$options,"filters",t[e].name);("function"==typeof i||i.read)&&(this.hasRead=!0),i.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},Sr={bind:function(){var t=this.el.nextElementSibling;t&&null!==U(t,"v-else")&&(this.elseEl=t)},update:function(t){this.apply(this.el,t),this.elseEl&&this.apply(this.elseEl,!t)},apply:function(t,e){I(t,e?1:-1,function(){t.style.display=e?"":"none"},this.vm)}},Cr=new S(1e3),Ar=new S(1e3),Pr={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};Pr.td=Pr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Pr.option=Pr.optgroup=[1,'<select multiple="multiple">',"</select>"],Pr.thead=Pr.tbody=Pr.colgroup=Pr.caption=Pr.tfoot=[1,"<table>","</table>"],Pr.g=Pr.defs=Pr.symbol=Pr.use=Pr.image=Pr.text=Pr.circle=Pr.ellipse=Pr.line=Pr.path=Pr.polygon=Pr.polyline=Pr.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var Rr=/<([\w:]+)/,Or=/&\w+;|&#\d+;|&#x[\dA-F]+;/,Mr=function(){if(Si){var t=document.createElement("div");return t.innerHTML="<template>1</template>",!t.cloneNode(!0).firstChild.innerHTML}return!1}(),Dr=function(){if(Si){var t=document.createElement("textarea");return t.placeholder="t","t"===t.cloneNode(!0).value}return!1}(),kr=Object.freeze({cloneNode:ne,parseTemplate:re});se.prototype.callHook=function(t){var e,i;for(e=0,i=this.children.length;i>e;e++)t(this.children[e]);for(e=0,i=this.childFrags.length;i>e;e++)this.childFrags[e].callHook(t)},se.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.unlink()};var Fr=new S(5e3);de.prototype.create=function(t,e,i){var n=ne(this.template);return new se(this.linker,this.vm,n,t,e,i)};var Lr={priority:2e3,bind:function(){var e=this.el;if(e.__vue__)"production"!==t.env.NODE_ENV&&an('v-if="'+this.expression+'" cannot be used on an instance root element.'),this.invalid=!0;else{var i=e.nextElementSibling;i&&null!==U(i,"v-else")&&(W(i),this.elseFactory=new de(this.vm,i)),this.anchor=it("v-if"),G(e,this.anchor),this.factory=new de(this.vm,e)}},update:function(t){this.invalid||(t?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseFactory&&!this.elseFrag&&(this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy()}},Nr=0,Br={priority:2e3,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){var e=this.expression.match(/(.*) in (.*)/);if(e){var i=e[1].match(/\((.*),(.*)\)/);i?(this.iterator=i[1].trim(),this.alias=i[2].trim()):this.alias=e[1].trim(),this.expression=e[2]}if(!this.alias)return void("production"!==t.env.NODE_ENV&&an("Alias is required in v-for."));this.id="__v-for__"+ ++Nr;var n=this.el.tagName;this.isOption=("OPTION"===n||"OPTGROUP"===n)&&"SELECT"===this.el.parentNode.tagName,this.start=it("v-for-start"),this.end=it("v-for-end"),G(this.el,this.end),X(this.start,this.end),this.cache=Object.create(null),this.factory=new de(this.vm,this.el)},update:function(t){this.diff(t),this.updateRef(),this.updateModel()},diff:function(t){var e,i,n,s,o,a,l=t[0],h=this.fromObject=_(l)&&r(l,"$key")&&r(l,"$value"),u=this.params.trackBy,c=this.frags,p=this.frags=new Array(t.length),d=this.alias,f=this.iterator,m=this.start,v=this.end,g=$(m),y=!c;for(e=0,i=t.length;i>e;e++)l=t[e],s=h?l.$key:null,o=h?l.$value:l,a=!_(o),n=!y&&this.getCachedFrag(o,e,s),n?(n.reused=!0,n.scope.$index=e,s&&(n.scope.$key=s),f&&(n.scope[f]=null!==s?s:e),(u||h||a)&&(n.scope[d]=o)):(n=this.create(o,d,e,s),n.fresh=!y),p[e]=n,y&&n.before(v);if(!y){var x=0,b=c.length-p.length;for(e=0,i=c.length;i>e;e++)n=c[e],n.reused||(this.deleteCachedFrag(n),this.remove(n,x++,b,g));var w,T,E,S=0;for(e=0,i=p.length;i>e;e++)n=p[e],w=p[e-1],T=w?w.staggerCb?w.staggerAnchor:w.end||w.node:m,n.reused&&!n.staggerCb?(E=fe(n,m,this.id),E===w||E&&fe(E,m,this.id)===w||this.move(n,T)):this.insert(n,S++,T,g),n.reused=n.fresh=!1}},create:function(t,e,i,n){var r=this._host,s=this._scope||this.vm,o=Object.create(s);o.$refs=Object.create(s.$refs),o.$els=Object.create(s.$els),o.$parent=s,o.$forContext=this,St(o,e,t),St(o,"$index",i),n?St(o,"$key",n):o.$key&&x(o,"$key",null),this.iterator&&St(o,this.iterator,null!==n?n:i);var a=this.factory.create(r,o,this._frag);return a.forId=this.id,this.cacheFrag(t,a,i,n),a},updateRef:function(){var t=this.descriptor.ref;if(t){var e,i=(this._scope||this.vm).$refs;this.fromObject?(e={},this.frags.forEach(function(t){e[t.scope.$key]=me(t)})):e=this.frags.map(me),i[t]=e}},updateModel:function(){if(this.isOption){var t=this.start.parentNode,e=t&&t.__v_model;e&&e.forceUpdate()}},insert:function(t,e,i,n){t.staggerCb&&(t.staggerCb.cancel(),t.staggerCb=null);var r=this.getStagger(t,e,null,"enter");if(n&&r){var s=t.staggerAnchor;s||(s=t.staggerAnchor=it("stagger-anchor"),s.__vfrag__=t),H(s,i);var o=t.staggerCb=T(function(){t.staggerCb=null,t.before(s),W(s)});setTimeout(o,r)}else t.before(i.nextSibling)},remove:function(t,e,i,n){if(t.staggerCb)return t.staggerCb.cancel(),void(t.staggerCb=null);var r=this.getStagger(t,e,i,"leave");if(n&&r){var s=t.staggerCb=T(function(){t.staggerCb=null,t.remove()});setTimeout(s,r)}else t.remove()},move:function(t,e){t.before(e.nextSibling,!1)},cacheFrag:function(e,i,n,s){var o,a=this.params.trackBy,l=this.cache,h=!_(e);s||a||h?(o=a?"$index"===a?n:e[a]:s||e,l[o]?"$index"!==a&&"production"!==t.env.NODE_ENV&&this.warnDuplicate(e):l[o]=i):(o=this.id,r(e,o)?null===e[o]?e[o]=i:"production"!==t.env.NODE_ENV&&this.warnDuplicate(e):x(e,o,i)),i.raw=e},getCachedFrag:function(e,i,n){var r,s=this.params.trackBy,o=!_(e);if(n||s||o){var a=s?"$index"===s?i:e[s]:n||e;r=this.cache[a]}else r=e[this.id];return r&&(r.reused||r.fresh)&&"production"!==t.env.NODE_ENV&&this.warnDuplicate(e),r},deleteCachedFrag:function(t){var e=t.raw,i=this.params.trackBy,n=t.scope,s=n.$index,o=r(n,"$key")&&n.$key,a=!_(e);if(i||o||a){var l=i?"$index"===i?s:e[i]:o||e;this.cache[l]=null}else e[this.id]=null,t.raw=null},getStagger:function(t,e,i,n){n+="Stagger";var r=t.node.__v_trans,s=r&&r.hooks,o=s&&(s[n]||s.stagger);return o?o.call(t,e,i):e*parseInt(this.params[n]||this.params.stagger,10)},_preProcess:function(t){return this.rawValue=t,t},_postProcess:function(t){if(Ti(t))return t;if(y(t)){for(var e,i=Object.keys(t),n=i.length,r=new Array(n);n--;)e=i[n],r[n]={$key:e,$value:t[e]};return r}return"number"==typeof t&&(t=ve(t)),t||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var t,e=this.frags.length;e--;)t=this.frags[e],this.deleteCachedFrag(t),t.destroy()}};"production"!==t.env.NODE_ENV&&(Br.warnDuplicate=function(t){an('Duplicate value found in v-for="'+this.descriptor.raw+'": '+JSON.stringify(t)+'. Use track-by="$index" if you are expecting duplicate values.')});var Ir={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=it("v-html"),G(this.el,this.anchor))},update:function(t){t=a(t),this.nodes?this.swap(t):this.el.innerHTML=t},swap:function(t){for(var e=this.nodes.length;e--;)W(this.nodes[e]);var i=re(t,!0,!0);this.nodes=v(i.childNodes),X(i,this.anchor)}},jr={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(t){this.el[this.attr]=a(t)}},$r={text:jr,html:Ir,"for":Br,"if":Lr,show:Sr,model:Er,on:_r,bind:vr,el:rr,ref:nr,cloak:ir},Ur=[],zr=!1,Xr=1,Hr=2,Wr=Pi+"Duration",Yr=Oi+"Duration",Gr=ye.prototype;Gr.enter=function(t,e){this.cancelPending(),this.callHook("beforeEnter"),this.cb=e,K(this.el,this.enterClass),t(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,ge(this.enterNextTick))},Gr.enterNextTick=function(){this.justEntered=!0;var t=this;setTimeout(function(){t.justEntered=!1},17);var e=this.enterDone,i=this.getCssTransitionType(this.enterClass);this.pendingJsCb?i===Xr&&Z(this.el,this.enterClass):i===Xr?(Z(this.el,this.enterClass),this.setupCssCb(Ri,e)):i===Hr?this.setupCssCb(Mi,e):e()},Gr.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,Z(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},Gr.leave=function(t,e){this.cancelPending(),this.callHook("beforeLeave"),this.op=t,this.cb=e,K(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():ge(this.leaveNextTick)))},Gr.leaveNextTick=function(){var t=this.getCssTransitionType(this.leaveClass);if(t){var e=t===Xr?Ri:Mi;this.setupCssCb(e,this.leaveDone)}else this.leaveDone()},Gr.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),Z(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},Gr.cancelPending=function(){this.op=this.cb=null;var t=!1;this.pendingCssCb&&(t=!0,q(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(t=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),t&&(Z(this.el,this.enterClass),Z(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},Gr.callHook=function(t){this.hooks&&this.hooks[t]&&this.hooks[t].call(this.vm,this.el)},Gr.callHookWithCb=function(t){var e=this.hooks&&this.hooks[t];e&&(e.length>1&&(this.pendingJsCb=T(this[t+"Done"])),e.call(this.vm,this.el,this.pendingJsCb))},Gr.getCssTransitionType=function(t){if(!(!Ri||document.hidden||this.hooks&&this.hooks.css===!1||xe(this.el))){var e=this.typeCache[t];if(e)return e;var i=this.el.style,n=window.getComputedStyle(this.el),r=i[Wr]||n[Wr];if(r&&"0s"!==r)e=Xr;else{var s=i[Yr]||n[Yr];s&&"0s"!==s&&(e=Hr)}return e&&(this.typeCache[t]=e),e}},Gr.setupCssCb=function(t,e){this.pendingCssEvent=t;var i=this,n=this.el,r=this.pendingCssCb=function(s){s.target===n&&(q(n,t,r),i.pendingCssEvent=i.pendingCssCb=null,!i.pendingJsCb&&e&&e())};V(n,t,r)};var Vr={priority:1100,update:function(t,e){var i=this.el,n=_t(this.vm.$options,"transitions",t);t=t||"v",i.__v_trans=new ye(i,t,n,this.el.__vue__||this.vm),e&&Z(i,e+"-transition"),K(i,t+"-transition")}},qr=on._propBindingModes,Kr={bind:function(){var t=this.vm,e=t._context,i=this.descriptor.prop,n=i.path,r=i.parentPath,s=i.mode===qr.TWO_WAY,o=this.parentWatcher=new Wt(e,r,function(e){ht(i,e)&&(t[n]=e)},{twoWay:s,filters:i.filters,scope:this._scope});if(lt(t,i,o.value),s){var a=this;t.$once("hook:created",function(){a.childWatcher=new Wt(t,n,function(t){o.set(t)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},Zr={priority:1500,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__?"production"!==t.env.NODE_ENV&&an('cannot mount component "'+this.expression+'" on already mounted element: '+this.el):(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=J(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=it("v-component"),G(this.el,this.anchor),this.el.removeAttribute("is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+d(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(t){this.literal||this.setComponent(t)},setComponent:function(t,e){if(this.invalidatePending(),t){var i=this;this.resolveComponent(t,function(){i.mountComponent(e)})}else this.unbuild(!0),this.remove(this.childVM,e),this.childVM=null},resolveComponent:function(t,e){var i=this;this.pendingComponentCb=T(function(n){i.ComponentName=n.options.name||t,i.Component=n,e()}),this.vm._resolveComponent(t,this.pendingComponentCb)},mountComponent:function(t){this.unbuild(!0);var e=this,i=this.Component.options.activate,n=this.getCached(),r=this.build();i&&!n?(this.waitingFor=r,i.call(r,function(){e.waitingFor=null,e.transition(r,t)})):(n&&r._updateRef(),this.transition(r,t))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(e){var i=this.getCached();if(i)return i;if(this.Component){var n={name:this.ComponentName,el:ne(this.el),template:this.inlineTemplate,parent:this._host||this.vm,_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};e&&g(n,e);var r=new this.Component(n);return this.keepAlive&&(this.cache[this.Component.cid]=r),"production"!==t.env.NODE_ENV&&this.el.hasAttribute("transition")&&r._isFragment&&an("Transitions will not work on a fragment instance. Template: "+r.$options.template),r}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(t){this.waitingFor&&(this.waitingFor.$destroy(),this.waitingFor=null);var e=this.childVM;return!e||this.keepAlive?void(e&&e._updateRef(!0)):void e.$destroy(!1,t)},remove:function(t,e){var i=this.keepAlive;if(t){this.pendingRemovals++,this.pendingRemovalCb=e;var n=this;t.$remove(function(){n.pendingRemovals--,i||t._cleanup(),!n.pendingRemovals&&n.pendingRemovalCb&&(n.pendingRemovalCb(),n.pendingRemovalCb=null)})}else e&&e()},transition:function(e,i){var n=this,r=this.childVM;switch("production"!==t.env.NODE_ENV&&(r&&(r._inactive=!0),e._inactive=!1),this.childVM=e,n.params.transitionMode){case"in-out":e.$before(n.anchor,function(){n.remove(r,i)});break;case"out-in":n.remove(r,function(){e.$before(n.anchor,i)});break;default:n.remove(r),e.$before(n.anchor,i)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var t in this.cache)this.cache[t].$destroy();this.cache=null}}},Jr={deep:!0,update:function(t){t&&"string"==typeof t?this.handleObject(be(t)):y(t)?this.handleObject(t):Ti(t)?this.handleArray(t):this.cleanup()},handleObject:function(t){this.cleanup(t);for(var e=this.prevKeys=Object.keys(t),i=0,n=e.length;n>i;i++){var r=e[i];t[r]?K(this.el,r):Z(this.el,r)}},handleArray:function(t){this.cleanup(t);for(var e=0,i=t.length;i>e;e++)t[e]&&K(this.el,t[e]);this.prevKeys=t.slice()},cleanup:function(t){if(this.prevKeys)for(var e=this.prevKeys.length;e--;){var i=this.prevKeys[e];!i||t&&we(t,i)||Z(this.el,i)}}},Qr={style:ur,"class":Jr,component:Zr,prop:Kr,transition:Vr},ts=on._propBindingModes,es={},is=/^[$_a-zA-Z]+[\w$]*$/,ns=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\[[^\[\]]+\])*$/,rs=/^v-bind:|^:/,ss=/^v-on:|^@/,os=/:(.*)$/,as=/\.[^\.]+/g,ls=/^(v-bind:|:)?transition$/,hs=["for","if"],us=1e3;He.terminal=!0;var cs=/[^\w\-:\.]/,ps=Object.freeze({compile:Ce,compileAndLinkProps:Me,compileRoot:De,transclude:qe}),ds=/^v-on:|^@/;ii.prototype._bind=function(){var t=this.name,e=this.descriptor;if(("cloak"!==t||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var i=e.attr||"v-"+t;this.el.removeAttribute(i)}var n=e.def;if("function"==typeof n?this.update=n:g(this,n),this._setupParams(),this.bind&&this.bind(),this.literal)this.update&&this.update(e.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var r=this;this.update?this._update=function(t,e){r._locked||r.update(t,e)}:this._update=ei;var s=this._preProcess?m(this._preProcess,this):null,o=this._postProcess?m(this._postProcess,this):null,a=this._watcher=new Wt(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:s,postProcess:o,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(a.value)}this._bound=!0},ii.prototype._setupParams=function(){if(this.params){var t=this.params;this.params=Object.create(null);for(var e,i,n,r=t.length;r--;)e=t[r],n=c(e),i=z(this.el,e),null!=i?this._setupParamWatcher(n,i):(i=U(this.el,e),null!=i&&(this.params[n]=""===i?!0:i))}},ii.prototype._setupParamWatcher=function(t,e){var i=this,n=!1,r=(this._scope||this.vm).$watch(e,function(e,r){if(i.params[t]=e,n){var s=i.paramWatchers&&i.paramWatchers[t];s&&s.call(i,e,r)}else n=!0},{immediate:!0});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(r)},ii.prototype._checkStatement=function(){var t=this.expression;if(t&&this.acceptStatement&&!$t(t)){var e=jt(t).get,i=this._scope||this.vm,n=function(t){i.$event=t,e.call(i,i),i.$event=null};return this.filters&&(n=i._applyFilters(n,null,this.filters)),this.update(n),!0}},ii.prototype.set=function(e){this.twoWay?this._withLock(function(){this._watcher.set(e)}):"production"!==t.env.NODE_ENV&&an("Directive.set() can only be used inside twoWaydirectives.")},ii.prototype._withLock=function(t){var e=this;e._locked=!0,t.call(e),Fi(function(){e._locked=!1})},ii.prototype.on=function(t,e){V(this.el,t,e),(this._listeners||(this._listeners=[])).push([t,e])},ii.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var e,i=this._listeners;if(i)for(e=i.length;e--;)q(this.el,i[e][0],i[e][1]);var n=this._paramUnwatchFns;if(n)for(e=n.length;e--;)n[e]();"production"!==t.env.NODE_ENV&&this.el&&this.el._vue_directives.$remove(this),this.vm=this.el=this._watcher=this._listeners=null}};var fs=/[^|]\|[^|]/;Ct(ui),Qe(ui),ti(ui),ni(ui),ri(ui),si(ui),oi(ui),ai(ui),li(ui),hi(ui);var ms=Br._postProcess,vs=/(\d{3})(?=\d)/g,gs={orderBy:di,filterBy:pi,limitBy:ci,json:{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,Number(e)||2)},write:function(t){try{return JSON.parse(t)}catch(e){return t}}},capitalize:function(t){return t||0===t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},currency:function(t,e){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$";var i=Math.abs(t).toFixed(2),n=i.slice(0,-3),r=n.length%3,s=r>0?n.slice(0,r)+(n.length>3?",":""):"",o=i.slice(-3),a=0>t?"-":"";return e+a+s+n.slice(r).replace(vs,"$1,")+o},pluralize:function(t){var e=v(arguments,1);return e.length>1?e[t%10-1]||e[e.length-1]:e[0]+(1===t?"":"s")},debounce:function(t,e){return t?(e||(e=300),b(t,e)):void 0}},_s={priority:1750,params:["name"],paramWatchers:{name:function(t){Lr.remove.call(this),t&&this.insert(t)}},bind:function(){this.anchor=it("v-partial"),G(this.el,this.anchor),this.insert(this.params.name)},insert:function(e){var i=_t(this.vm.$options,"partials",e);"production"!==t.env.NODE_ENV&&yt(i,"partial",e),i&&(this.factory=new de(this.vm,i),Lr.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}},ys={priority:1750,params:["name"],bind:function(){var t,e=this.vm,i=e.$options._content;if(!i)return void this.fallback();var n=e._context,r=this.params.name;if(r){var s='[slot="'+r+'"]',o=i.querySelectorAll(s);o.length?(t=mi(o,i),t.hasChildNodes()?this.compile(t,n,e):this.fallback()):this.fallback()}else{var a=this,l=function(){a.compile(mi(i.childNodes,i,!0),n,e)};e._isCompiled?l():e.$once("hook:compiled",l)}},fallback:function(){this.compile(J(this.el,!0),this.vm)},compile:function(t,e,i){if(t&&e){var n=i?i._scope:this._scope;this.unlink=e.$compile(t,i,n,this._frag)}t?G(this.el,t):W(this.el)},unbind:function(){this.unlink&&this.unlink()}},xs={slot:ys,partial:_s};ui.version="1.0.10",ui.options={directives:$r,elementDirectives:xs,filters:gs,transitions:{},components:{},partials:{},replace:!0},"production"!==t.env.NODE_ENV&&Si&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("init",ui),e.exports=ui}).call(this,t("_process"))},{_process:184}]},{},[1]);