<!DOCTYPE html>
<!-- saved from url=(0031)http://ericleong.me/fisheye.js/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	

	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>fisheye.js</title>
	
	<style>
		html, body {
			margin: 0;
			padding: 0;
		}
		
		a {
			text-decoration: none;
		}
		
		body > h1 {
			text-align: center;
		}
		
		h1 {
			padding-left: 1em;
			padding-right: 1em;
		}
		
		h1, h2 {
			font-family: sans-serif;
			font-weight: lighter;
			font-style: normal;
		}
		
		h3 {
			font-family: sans-serif;
			font-style: bold;
			font-variant: small-caps;
		}
		
		#sandbox {
			display: flex;
			justify-content: space-around;

			display : -webkit-flex;
			-webkit-justify-content: space-around;
			
			width: 100%;
		}
		
		#controls {
			box-sizing: border-box;
			flex-basis: 20vw;
			-webkit-flex-basis: 20vw;
			
			padding: 0 1em 0 1em;
		}
		
		#controls input {
			width: 100%;
		}
		
		#picker-container {
			position: relative;
			
			width: 100%;
			height: 3em;
			
			font-size: 1.25em;
			font-family: sans-serif;
			
			margin-top: 1em;
		}
		
		#picker-container::before {
			position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
		
			padding: 1em;
		
			content: 'pick another image';
			
			text-align: center;
		}
		
		#picker-container > input {
			width: 100%;
			height: 100%;
		
			cursor: pointer;
		
			opacity: 0 !important;
		}
		
		@media (max-width: 768px) {
			
			canvas {
				height: 100vw;
			}
			
			#sandbox {
				flex-direction: column;
				-webkit-flex-direction: column;
			}
			
			#controls {
				width: 100vw;
				padding: 0 10% 10% 10%;
				
				flex-basis: auto;
				-webkit-flex-basis: auto;
			}
		}
	</style>
	
	
	
	
	
	
	<script src="./fisheye.js_files/fisheye.js"></script>
</head>

<body>
	
	<div id="sandbox">
		<canvas id="canvas" width="1536" height="864" style="position: absolute;width: 118vw;height: 117vh;top: -8vh;"></canvas>
		
	</div>
	
	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		var fisheye = new Fisheye(canvas);
		
		var img;
		
		var red = 10;
		var green = 10;
		var blue = 10;

		var update = function() {
			fisheye.setViewport(canvas.width, canvas.height);
			fisheye.setDistortion(red, green, blue);
			fisheye.clear();
			fisheye.draw(img);
		};
		
		var ie11 = !(window.ActiveXObject) && "ActiveXObject" in window;
		var eventType = ie11 ? 'change' : 'input';

		// red.addEventListener(eventType, update);
		// green.addEventListener(eventType, update);
		// blue.addEventListener(eventType, update);
		
		// var all = document.getElementById('all');
		// all.addEventListener(eventType, function() {
		// 	red.value = all.value;
		// 	green.value = all.value;
		// 	blue.value = all.value;
			
		// 	update();
		// });
	
		img = new Image();
		img.addEventListener('load', update, false);
		img.src = 'http://assets.digitaltutors.com/dtv_/bison_courses/1453/assets/1453-render_1040.jpg';
		img.crossOrigin = "Anonymous";
		var gifTimeout;
		
		// drag and drop
		// droppick(document.getElementById('sandbox'), document.getElementById('picker'), function(items) {
		// 	grab(items, function(item) {
		// 		clearTimeout(gifTimeout);
				
		// 		function setSize(width, height) {
		// 			if (width > 0.8 * window.innerWidth) {
		// 				if (window.matchMedia('(max-width: 768px)').matches) {
		// 					canvas.width = Math.round(window.innerWidth * window.devicePixelRatio);
		// 					canvas.height = Math.round(canvas.width * (height / width));
							
		// 					canvas.style.width = '100vw'
		// 					canvas.style.height = 100 * (height / width) + 'vw';
		// 				} else {
		// 					canvas.width = Math.round(0.8 * window.innerWidth * window.devicePixelRatio);
		// 					canvas.height = Math.round(canvas.width * (height / width));
							
		// 					canvas.style.width = '80vw'
		// 					canvas.style.height = 80 * (height / width) + 'vw';
		// 				}
		// 			} else {
		// 				canvas.width = width;
		// 				canvas.height = height;
						
		// 				canvas.style.width = canvas.width + 'px';
		// 				canvas.style.height = canvas.height + 'px';
		// 			}
		// 		}
				
		// 		if (item instanceof ArrayBuffer) {
		// 			img = document.createElement('canvas');
					
		// 			var view = viewer(img, item, function(timeoutId) {
		// 				gifTimeout = timeoutId;
						
		// 				setSize(img.width, img.height);
		// 				update();
		// 			});
					
		// 			gifTimeout = view();
		// 		} else if (item instanceof HTMLImageElement) {
					
		// 			img = item;

		// 			setSize(item.naturalWidth, item.naturalHeight);
		// 			update();
		// 		}
		// 	})
		// });
	</script>

</body></html>