<!DOCTYPE html>
<html>
<head>
  <title>OASIS 2016 | OF GODS AND MEN | BITS Pilani</title>
  <script type="text/javascript" src="gl-matrix-2.3.2min.js"></script>
  <link rel="stylesheet" href="loader.css" media="screen" title="no title" charset="utf-8">
  <script src="../js/queryloader2.min.js" type="text/javascript"></script>
  <style type="text/css">
  </style>
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', function() {
      "use strict";
      var ql = new QueryLoader2(document.querySelector('body'), {
        barColor: "transparent",
        backgroundColor: "transparent",
        percentage: false,
        barHeight: 0,
        minimumTime: 2000,
        fadeOutTime: 1000,
        onProgress: function(p,l,t) {
          var animateRing = document.querySelector('#animateRing');
          // naim.css({
          //   property1: 'value1',
          //   property2: 'value2'
          // });
        }
      });
    });
  </script>
</head>
<body>
  <div>
    <canvas id="inkCanvas" width="298" height="168"></canvas>
    <div class="loader" >
      <div class="loadImg" >


        <svg
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:cc="http://creativecommons.org/ns#"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:svg="http://www.w3.org/2000/svg"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
        xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
        version="1.1"
        id="Layer_1"
        x="0px"
        y="0px"
        width="478.8765"
        height="478.8757"
        viewBox="0 0 478.87649 478.87571"
        enable-background="new 0 0 1000 1000"
        xml:space="preserve"
        inkscape:version="0.91 r"
        sodipodi:docname="loaderSm.svg"><metadata
        id="metadata37"><rdf:RDF><cc:Work
        rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
        rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs
        id="defs35" /><sodipodi:namedview
        pagecolor="#ffffff"
        bordercolor="#666666"
        borderopacity="1"
        objecttolerance="10"
        gridtolerance="10"
        guidetolerance="10"
        inkscape:pageopacity="1"
        inkscape:pageshadow="2"
        inkscape:window-width="1313"
        inkscape:window-height="744"
        id="namedview33"
        showgrid="false"
        inkscape:zoom="0.66980659"
        inkscape:cx="-167.76644"
        inkscape:cy="324.477"
        inkscape:window-x="53"
        inkscape:window-y="24"
        inkscape:window-maximized="1"
        inkscape:current-layer="Layer_1"
        fit-margin-top="0"
        fit-margin-left="0"
        fit-margin-right="0"
        fit-margin-bottom="0" />
           <!-- <ellipse
           style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:11.71000004;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
           id="backCircle"
           cx="240.00943"
           cy="237.40295"
           rx="208.55942"
           ry="208.31824" /> -->
           <g
           id="g3"
           style="opacity:0.7"
           transform="matrix(0.79051351,0,0,0.79051351,-180.68056,-139.70113)"><path
           d="m 531.45,176.722 c -167.281,0 -302.889,135.608 -302.889,302.889 0,167.281 135.608,302.889 302.889,302.889 167.281,0 302.89,-135.608 302.89,-302.889 0,-167.281 -135.609,-302.889 -302.89,-302.889 m 0,582.278 C 377.148,759 252.061,633.913 252.061,479.611 c 0,-154.302 125.087,-279.389 279.389,-279.389 154.303,0 279.39,125.087 279.39,279.389 C 810.84,633.913 685.753,759 531.45,759"
           id="path5"
           class="lineMo"
           inkscape:connector-curvature="0"
           style="opacity:0.7;fill:#ffffff" /><path
           d="m 281.38724,65.699576 c 0,0 -24.64663,-12.23873 -38.68615,-7.1075 l 3.40791,7.94307 -29.35019,17.56996 -62.10749,-35.34702 c -5.39288,2.74782 -11.73833,6.08221 -17.92963,9.57944 l 64.25056,36.01263 -0.13043,82.821314 -34.03161,-18.84979 0.0727,-36.75809 c 0,0 -7.85375,-9.23083 -15.14703,-9.68616 l -0.005,55.33753 65.35333,35.92172 -0.0711,-99.42526 64.37389,-38.011844 z"
           id="path27"
           inkscape:connector-curvature="0"
           style="opacity:0.7;fill:#ffffff" /><path
           d="m 129.39284,321.06865 -64.223692,-34.7826 c 0,0 1.31699,25.0332 12.64821,34.7826 l 5.26957,-6.85059 29.249002,16.86402 -0.20633,74.6308 c 4.36759,3.67273 10.18577,8.06166 16.85296,11.83162 l 0.41028,-77.50353 73.5889,-45.02844 0,45.44583 -33.36599,20.22766 c 0,0 -3.16206,16.70751 0,23.29486 l 49.96677,-30.21422 0,-87.547 -90.18968,54.84899 z"
           id="path29"
           inkscape:connector-curvature="0"
           style="opacity:0.7;fill:#ffffff" /><path
           d="m 321.59829,431.21011 c 5.58735,-2.33518 12.41106,-5.47668 20.22766,-9.61897 l -69.3889,-35.30434 0.33834,-85.61182 36.50828,18.67905 -0.0166,37.47192 c 0,0 9.15178,8.65217 16.45612,8.83715 l 0.14388,-56.47192 -70.16124,-35.89722 0.19921,107.20945 -60.498,30.70275 c 0,0 22.93754,14.94308 36.77785,9.29723 l -3.69881,-7.81264 28.54149,-14.49723 64.57072,33.01659 z"
           id="path31"
           inkscape:connector-curvature="0"
           style="opacity:0.7;fill:#ffffff" />
           <ellipse
           id="animateRing"
           cx="240.16479"
           cy="239.39764"
           rx="215.0961"
           ry="217.54649" >
              <animate attributeName="stroke-dashoffset" dur="3s" to="0" begin="0s" repeatCount="1" fill="freeze" onend="loaded()"/>
           </ellipse></svg>
    </div>
  </div>
</div>
<div class="container">
  <div  class="scroll">
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="100%" height="100%" viewBox="0 0 50 400" enable-background="new 0 0 50 400" xml:space="preserve">
    <g opacity="0.8">
      <ellipse id="currentRing" opacity="0.7" fill="none" stroke-width="2.4533" stroke-miterlimit="10" cx="25" cy="14.772" rx="10.459" ry="9.413"/>
      <ellipse class="slide"  slide="1" fill="#FFFFFF" cx="25" cy="14.772" rx="5.46" ry="4.915"/>
      <ellipse class="slide"  slide="2" fill="#FFFFFF" cx="25" cy="87.146" rx="5.46" ry="4.915"/>
      <ellipse class="slide" slide="3" fill="#FFFFFF" cx="25" cy="160.746" rx="5.46" ry="4.915"/>
      <ellipse class="slide" slide="4" fill="#FFFFFF" cx="25" cy="234.347" rx="5.46" ry="4.914"/>
      <ellipse class="slide" slide="5" fill="#FFFFFF" cx="25" cy="310.4" rx="5.46" ry="4.914"/>
      <ellipse class="slide" slide="6" fill="#FFFFFF" cx="25" cy="384" rx="5.46" ry="4.914"/>
      <line fill="none" stroke="#FFFFFF" stroke-width="0.9301" stroke-miterlimit="10" x1="25" y1="14.772" x2="25" y2="87.944"/>
      <line fill="none" stroke="#FFFFFF" stroke-width="0.9301" stroke-miterlimit="10" x1="25" y1="87.146" x2="25" y2="160.317"/>
      <line fill="none" stroke="#FFFFFF" stroke-width="0.9301" stroke-miterlimit="10" x1="25" y1="160.746" x2="25" y2="233.918"/>
      <line fill="none" stroke="#FFFFFF" stroke-width="0.9301" stroke-miterlimit="10" x1="25" y1="234.347" x2="25" y2="307.519"/>
      <line fill="none" stroke="#FFFFFF" stroke-width="0.9301" stroke-miterlimit="10" x1="25" y1="307.519" x2="25" y2="380.519"/>
    </g>
  </svg>

</div>


<div class="ham" id="ham">
  <svg viewBox="0 0 800 800" class="hamb" id="hamb">
    <rect
    x="69.654"
    height="420.341"
    width="420.344"
    y="229.936"
    transform="matrix(0.7071 -0.7071 0.7071 0.7071 -82.9689 199.9064)"
    stroke-miterlimit="10"
    id="rect4"
    stroke-width="12.2727"
    stroke="#FFFFFF"
    fill="none"
    opacity="0.7" />
    <path
    d="M300,220 C300,220 520,220 540,220 C740,220 640,540 520,420 C440,340 300,200 300,200"
    id="top" />
    <path
    d="M300,320 L540,320"
    id="middle" />
    <path
    d="M300,210 C300,210 520,210 540,210 C740,210 640,530 520,410 C440,330 300,190 300,190"
    id="bottom"
    transform="translate(480, 320) scale(1, -1) translate(-480, -318) " />
  </svg>
</div>
<div class="side-nav" id="side-nav">
  <div class="logo"></div>
  <div class="storyType">
    <!-- <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="400px" height="400px" viewBox="0 0 400 400" enable-background="new 0 0 400 400" >
    <g>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,101.426 86.74,101.426 122.003,15.352 312.943,15.352  "/>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,196.2 86.74,196.2 122.003,110.128 312.943,110.128  "/>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,290.973 86.74,290.973 122.003,204.901 312.943,204.901  "/>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,385.505 86.74,385.505 122.003,299.432 312.943,299.432  "/>
    </g>
  </svg> -->
  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  width="94.714px" height="150.029px" viewBox="0 0 94.714 150.029" enable-background="new 0 0 94.714 150.029"
  xml:space="preserve">
  <g opacity="0.7" class="story-snip" story="2">
  	<g>
  		<defs>
  			<polygon id="SVGID_1_" points="79.923,74.029 0,74.029 14.76,38 94.684,38 			"/>
  		</defs>
  		<clipPath id="SVGID_2_">
  			<use xlink:href="#SVGID_1_"  overflow="visible"/>
  		</clipPath>
  		<g clip-path="url(#SVGID_2_)">

        <image overflow="visible" enable-background="new    " width="632" height="241" xlink:href="moses-snip.png"  transform="matrix(0.1498 0 0 0.1498 9.765625e-004 37.9619)">
        </image>
      </g>
    </g>
  </g>
  <g opacity="0.7" class="story-snip" story="3">
  	<g>
  		<defs>
  			<polygon id="SVGID_3_" points="79.923,112.029 0,112.029 14.76,76 94.684,76 			"/>
  		</defs>
  		<clipPath id="SVGID_4_">
  			<use xlink:href="#SVGID_3_"  overflow="visible"/>
  		</clipPath>
  		<g clip-path="url(#SVGID_4_)">

        <image overflow="visible" enable-background="new    " width="1020" height="388" xlink:href="mahabharat-snip.png"  transform="matrix(0.0928 0 0 0.0928 4.882813e-004 76.2979)">
        </image>
      </g>
    </g>
  </g>
  <g opacity="0.7" class="story-snip" story="4">
  	<g>
  		<defs>
  			<polygon id="SVGID_5_" points="79.923,150.029 0,150.029 14.76,114 94.684,114 			"/>
  		</defs>
  		<clipPath id="SVGID_6_">
  			<use xlink:href="#SVGID_5_"  overflow="visible"/>
  		</clipPath>
  		<g clip-path="url(#SVGID_6_)">

        <image overflow="visible" enable-background="new    " width="1080" height="411" xlink:href="noah-snip.png"  transform="matrix(0.0877 0 0 0.0877 0 114.001)">
        </image>
      </g>
    </g>
  </g>
  <g opacity="0.7" class="story-snip" story="1">
  	<g>
  		<defs>
  			<polygon id="SVGID_7_" points="79.923,36.03 0,36.03 14.76,0 94.684,0 			"/>
  		</defs>
  		<clipPath id="SVGID_8_">
  			<use xlink:href="#SVGID_7_"  overflow="visible"/>
  		</clipPath>
  		<g clip-path="url(#SVGID_8_)">

        <image overflow="visible" enable-background="new    " width="710" height="270" xlink:href="troy-snip.png"  transform="matrix(0.1334 0 0 0.1334 0 4.882813e-004)">
        </image>
      </g>
    </g>
  </g>
</svg>


</div>
<div class="bar"></div>

<div class="menuList">
  <ul>
    <li><a href="../"  style="text-decoration:none;color:inherit">HOME</a></li>
    <li><a href="../#about"  style="text-decoration:none;color:inherit">ABOUT</a></li>
    <li class="active">STORY</a></li>
    <li><a href="http://bits-oasis.org/2016/register"  style="text-decoration:none;color:inherit">REGISTER</a></a></li>
    <li class="events-trigger"><a href="../#events"  style="text-decoration:none;color:inherit">EVENTS</a></li>
    <li><a href="../#events"  style="text-decoration:none;color:inherit">ARCHIVES</a></li>
    <li><a href="../#events"  style="text-decoration:none;color:inherit">SPONSORS</a></li>
    <li class="contacts-trigger"><a href="../#events"  style="text-decoration:none;color:inherit">CONTACTS</a></li>
  </ul>
</div>
<div class="sideBar"></div>

</div>

<div class="chooseStory">
  <img src="prompter.svg" />
</div>

<div class="scene-wrapper">
  <div id="box" class="scene-container">
    <div class="scene" id="troy">
      <div class="scene-text">Tale of <br><span style="font-size:1.9em">Troy</span></div>
      <div id="achilies" class="image" story="1"></div>
    </div>
    <div class="scene" id="moses">
      <div class="scene-text">Tale of <br><span style="font-size:1.9em">Moses</span></div>
      <div id="nigger" class="image" story="2"></div>
    </div>
    <div class="scene" id="desi">
      <div class="scene-text">Tale of <br><span style="font-size:1.9em">Mahabharat</span></div>
      <div id="ram" class="image" story="3"></div>
    </div>
    <div class="scene" id="noah">
    <div class="scene-text" style="width:70%">Tale of <br><span style="font-size:1.9em">Noah</span></div>
      <div id="arc" class="image" story="4"></div>
    </div>
  </div>
</div>


<div class="storyContentWrap">
  <div class="leftDash">
  </div>
  <div class="storyInnerWrap">
    <p class="storyText">

    </p>
  </div>
  <div class="rightDash">
  </div>
</div>

</div>
<div id="storyWrap">
  <div id="fakeScroll"></div>
  <div class="wrap plainImg">
    <canvas id="rollover-bg"></canvas>
  </div>
  <!-- <div class="blurImg">
    <img src="moseshi.jpg" alt="" />
  </div> -->
</div>


<!-- <script type="text/javascript" src="index.js"></script> -->
<script type="text/javascript" src="roll-over.js"></script>
<script src="../js/jquery.min.js"> </script>
<script src="../js/jquery.ba-throttle-debounce.js"> </script>
<script type="text/javascript">

  document.body.onload = function init() {
    loadingdone();
    $('#box').hide();

    setTimeout(function(){
      $(window).scrollTop(0);

    },1000);

    RollOver.init({
      canvas: 'rollover-bg',
      mode: RollOver.modes.PARABOLIC,
      factor: [0, 0],
      multiplier: [0.1, 0],
      originOffset: [0, -0.75],
      recover: [1.1, 1],
    });
  };

  var css3AnimationSupport = (function(){
    var div = document.createElement('div'),
    divStyle = div.style,
        // you'll probably be better off using a `switch` instead of theses ternary ops
        support = {
          transition:
          divStyle.MozTransition     === ''? {name: 'MozTransition'   , end: 'transitionend'} :
                // Will ms add a prefix to the transitionend event?
                (divStyle.MsTransition     === ''? {name: 'MsTransition'    , end: 'msTransitionend'} :
                  (divStyle.WebkitTransition === ''? {name: 'WebkitTransition', end: 'webkitTransitionEnd'} :
                    (divStyle.OTransition      === ''? {name: 'OTransition'     , end: 'oTransitionEnd'} :
                      (divStyle.transition       === ''? {name: 'transition'      , end: 'transitionend'} :
                        false)))),
                transform:
                divStyle.MozTransform     === '' ? 'MozTransform'    :
                (divStyle.MsTransform     === '' ? 'MsTransform'     :
                  (divStyle.WebkitTransform === '' ? 'WebkitTransform' :
                    (divStyle.OTransform      === '' ? 'OTransform'      :
                      (divStyle.transform       === '' ? 'transform'       :
                        false))))
              };
              support.transformProp = support.transform.replace(/([A-Z])/g, '-$1').toLowerCase();
              return support;
            }());

  document.onreadystatechange = function(e)
  {
    if(document.readyState=="interactive")
    {
      var all = document.getElementsByTagName("*");
      for (var i=0, max=all.length; i < max; i++)
      {
        set_ele(all[i]);
      }
    }
  }
  var prog=0;
  var d1,d2;
  function check_element(ele)
  {
    var all = document.getElementsByTagName("*");
    var totalele=all.length;
    var per_inc=100/all.length;

    d1=new Date().getTime();
    if($(ele).on())
    {
      var prog_width=per_inc+prog;
      prog=prog_width;
    // console.log(prog);
    var st=Math.round(13.60*(100-prog));
    var loader =  document.querySelector('.loader #animateRing');
    d2=new Date().getTime();
    // console.log(d2-d1);
    d1=d2;
    // loader.style.strokeDashoffset=st;
    // console.log(loader.style);
    // $('.loader #animateRing').css(
    //   {'stroke-dashoffset': st});
    // document.getElementById("progress_width").value=prog_width;
    // $("#bar1").animate({width:prog_width+"%"},10,function(){
    //   if(document.getElementById("bar1").style.width=="100%")
    //   {
    //     $(".progress").fadeOut("slow");
    //   }
    // });
  }

  else
  {
    set_ele(ele);
  }
}


function set_ele(set_element)
{
  check_element(set_element);
}

function selectStory(ele){
  var eleArr=document.getElementsByClassName('storyType');
  for(var i =0;i<eleArr.length;i++){
   var element=eleArr[i];
   if(element.getAttribute('active')=='true'){
    element.setAttribute('active','false');
  }
};
ele.setAttribute('active','true');
  // webGLStart();
}
// $(window).on('scroll', function () {
//     var pixs = $(document).scrollTop()/10;
//     pixs = pixs / 100;
//     $("#storyWrap").css({"-webkit-filter": "blur("+pixs+"px)","filter": "blur("+pixs+"px)" })
// });
//


var ScrollSpeedMonitor = (function()
{
  var self = this;

  function ScrollSpeedMonitor (callbackMethod)
  {
    callback = callbackMethod;

    $(window).scroll(function(e)
    {
      var scrollTop = $(this).scrollTop();
      didScroll(new Date().getTime(), scrollTop);
    });
  }

  var callback;
  var direction = 'unknown';
  var lastDate = -1;
  var lastScrollTop = -1;

  this.thisMinimumTrackingDelayInMs = 25;

  function didScroll (timeStamp, scrollTop)
  {
    if (lastDate + self.thisMinimumTrackingDelayInMs <= timeStamp)
    {
     var offset = Math.abs(scrollTop - lastScrollTop);
     var direction = getDirection(scrollTop);
     var delayInMs = timeStamp - lastDate;
     var speedInPxPerMs = offset / delayInMs;

     if (speedInPxPerMs > 0)
     {

      callback(speedInPxPerMs, timeStamp, direction);
    }

    lastDate = timeStamp;
  }
};

function getDirection (scrollTop)
{
  var currentScrollTop = lastScrollTop;
  lastScrollTop = scrollTop;

  if (currentScrollTop > -1)
  {
    if (currentScrollTop >= scrollTop)
    {
      return 'down';
    }

    return 'up';
  }

  return 'unknown';
}

function reset ()
{
  direction = 'unknown';
  lastDate = -1;
  lastScrollTop = -1;
}

return ScrollSpeedMonitor;
}());


var scrollSpeedMonitor = new ScrollSpeedMonitor(function (speedInPxPerMs, timeStamp, newDirection)
{
  manageBlur(speedInPxPerMs);
});


var time1,time2;
function manageBlur(scroll){


  pixs = scroll* 10;
      // if(pixs>60)
      //   pixs=60;
      $("#storyWrap").css({"-webkit-filter": "blur("+pixs+"px)","filter": "blur("+pixs+"px)" });
      if(pixs<30){
        $("#storyWrap").css({"-webkit-filter": "blur(0px)","filter": "blur(0px)" })
      }
      // $("#storyWrap").animate({"webkit-filter": "blur("+pixs+"px)","filter": "blur("+pixs+"px)" })
    }

// location.reload(false);
// window.addEventListener=("scroll",function(){
//          clearTimeout( $.data( this, "scrollCheck" ) );
//          $.data( this, "scrollCheck", setTimeout(function() {
//            console.log('stop');
//            $("#storyWrap").css({"-webkit-filter": "blur(0px)","filter": "blur(0px)" })
//
//          }, 250) );
//
//        });

    //    $(document).on("scrollstop",function(){
    //      console.log('hi');
    //      $("#storyWrap").css({"-webkit-filter": "blur(0px)","filter": "blur(0px)" })
    // });
// $(window).scroll($.debounce( 250, true, function(){
//   $('.blurImg').fadeIn();
//
// } ) );
// $(window).scroll($.debounce( 250, function(){
// $('.blurImg').fadeOut();
//
// } ) );

// window.addEventListener('scroll',function(e){
//
// });


var canvas = document.querySelector("#inkCanvas");
var context = canvas.getContext("2d");
var sNo=window.location.hash.charAt(1);
var bg = new Image();
bg.src = "../img/inkbg"+sNo+".jpg";
var myImage = new Image();
myImage.src = "../img/mask.png";

// myImage.addEventListener("load", loadImage, false);

// function loadImage(e) {
//   animate();
// }

var shift = 0;
var frameWidth = 298;
var frameHeight = 168;
var totalFrames = 40;
var currentFrame = 0;
var maxSpeed=3;
var speedvar=0;

function animate() {
  context.clearRect(0, 0, 298, 168);
  context.globalCompositeOperation = "xor";

//draw each frame + place them in the middle
context.drawImage(myImage, shift, 0, frameWidth, frameHeight, 0, 0, frameWidth, frameHeight);
// context.globalCompositeOperation = "multiply";
context.drawImage(bg, 0, 0, 1600,907,0,0,frameWidth,frameHeight);
if (speedvar==maxSpeed){
  shift += frameWidth;
  speedvar=0;
}
/*
  Start at the beginning once you've reached the
  end of your sprite!
  */
  if (currentFrame != totalFrames*maxSpeed) {
    // shift = 0;
    // currentFrame = 0;
    requestAnimationFrame(animate);
    currentFrame++;
  }

  speedvar++;
  if (currentFrame == totalFrames*maxSpeed) {
    $('#inkCanvas').fadeOut();
  }
}

function loadingdone() {
  setTimeout(function () {
    $('.loader').fadeOut('slow');
    // console.log('hi');
    $('.container').css('display', 'block');
    animate();

  },3000);
}


$('.loader').css({
  background:'url("../img/inkbg'+sNo+'.jpg")'
})


var sNo = window.location.hash.charAt(1);

var colorPattern=[
'#8f44ad',
'#FBB040',
'rgba(211, 84, 0,1)',
'#2a80b9'
];

$('#currentRing').attr('stroke',colorPattern[sNo-1]);

setTimeout(function () {
	$('.slide').click(function(){
		var slide = $(this).attr('slide')-1;
		console.log('hi',parseInt(fakeScroll.style.height)*slide/6);
		$('html, body').animate({
			scrollTop:parseInt(fakeScroll.style.height)*slide/6
		},800);
	});

},500);



var menu="off";
$('.ham').click(function(){
  if(menu=="off"){
    $("#side-nav").css("opacity","100");
    $('.side-nav').css({
     transform:'translateX(0px)'
   });


    menu="on";
    var div = document.createElement('div');
    // div.textContent = "Sup, y'all?";
    div.setAttribute('class', 'newdiv');
    document.body.appendChild(div);
    $('.newdiv').css({
      position: 'absolute',
      top: '0',
      left: '195px',
      width: '100vw',
      height: '100vh'
    });
    $('.newdiv').click(function() {
      $('.side-nav').css({
       transform:'translateX(-190px)'
     });
      menu="off";
      $(".ham").toggleClass("cross");
      $(this).remove();
    });
  }
  else{
    $('.side-nav').css({
     transform:'translateX(-190px)'
   });
    setTimeout(function(){
      $("#side-nav").css("opacity","0");
    },500);
    menu="off";
    $('.newdiv').remove();
  }
});

$('.newdiv').click(function() {
  $('.side-nav').css({
   transform:'translateX(-190px)'
 });
  menu="off";
  $(".ham").toggleClass("cross");
  $(this).remove();
});



$(".ham").click(function() {
  return $(".ham").toggleClass("cross");
});

$('.menuList ul li').click(function() {
  $('.menuList ul .active').removeClass('active');
  $(this).addClass('active');
});

setInterval(function () {
  $('.lampglow').fadeOut(2000);
  setTimeout(function () {
   $('.lampglow').fadeIn(2000);
 }, 1500);
}, 7000);
//
// function loadingdone () {
//   setTimeout(function () {
//     $('.loader-wrapper').fadeOut('slow');
//     // $('#main_loader').hide();
//     $('.container').css('display', 'block');
//   // context.drawImage(bg, shift, 0, 1600, 907, 0, 0, frameWidth, frameHeight);
//
//   animate();
// },3000);
// }

$('.menuList ul .active').css({
  'color':colorPattern[sNo-1]
})



$('.chooseStory').click(function() {
  $('.scene-wrapper,#box').show();
  $('#noah').animate({left: '0vw'}, 400);
  $('#moses').animate({left: '0vw'}, 400);
  $('#desi').animate({left: '0vw'}, 400);
  $('#troy').animate({left: '0vw'}, 400);
});

$('.logoNav').click(function() {
  $('#noah').animate({left: '-40vw'}, 400);
  $('#moses').animate({left: '-60vw'}, 400);
  $('#desi').animate({left: '70vw'}, 400);
  $('#troy').animate({left: '50vw'}, 400);
  $('#storybutton').fadeIn();
  $('.lite-wrapper').fadeOut();
});

$('.image').click(function(){
  var storyNo=$(this).attr('story');
  window.location.href = "./#"+storyNo;
  location.reload();
});


</script>
</body>

</html>
