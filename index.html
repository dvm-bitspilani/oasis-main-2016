<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="css/style.css" media="screen" title="no title" charset="utf-8">
  <!-- <link href="https://fonts.googleapis.com/css?family=Lato:400" rel="stylesheet">  -->
</head>
<body>
  <div>
    <canvas id="inkCanvas" width="298" height="168"></canvas>
    <div class="loader-wrapper">
      <!--?xml version="1.0" encoding="utf-8"?-->
      <!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
      <svg version="1.1" id="main_loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-274.7 293 398.3 302.7" style="enable-background:new -274.7 293 398.3 302.7;" xml:space="preserve">
        <style type="text/css">
          .st0{opacity:1;fill:#bbbabf;enable-background:new    ;}
          .st1{opacity:1;fill:#bbbabf;enable-background:new    ;}
          .st2{clip-path:url(#SVGID_2_);fill:#bbbabf;}
          .st3{opacity:1;}
          .st4{fill:#b46e20;}
          .st5{fill:#bbbabf;;opacity: 1}
          .st6{opacity:0;}
        </style>

        <path id="lower" class="st0" d="M-37.8,501.1c-5.7-5.5-13.6-5.8-17.7-7.1c-4.6-1.4-13.7-6.9-16.4-10c0,0-2.7-3-4.3-4.5
        c0,0-0.1-0.2-0.2-0.2c-0.1-0.1-0.2,0.2-0.2,0.2c-1.6,1.4-4.3,4.5-4.3,4.5c-2.7,3.1-11.8,8.6-16.4,10c-4.2,1.3-12,1.6-17.7,7.1
        c-5.7,5.5-5.3,9.1-5.3,9.1h88.2C-32.1,510.2-34.1,505.3-37.8,501.1z"></path>
        <g id="upper" class="st1">
          <g>
            <defs>
              <path id="SVGID_1_" d="M-32.4,389.2c-2.8,25.8-19.8,32.7-43.3,32.8c-25.5,0.2-40.4-11.2-43.5-36.3c3.1,35.7,27.4,56.1,43.2,53.9
              c16.4,2.2,40.5-18,43.7-49.8C-32.4,389.7-32.4,389.5-32.4,389.2z"></path>
            </defs>
            <clipPath id="SVGID_2_">
              <use xlink:href="#SVGID_1_" style="overflow:visible;"></use>
            </clipPath>
            <path id="upper" class="st2" d="M-109.1,417.9c0,0,33.9,19.1,67.4-0.1c0,0-12.7,22.3-33.5,22.3
            C-75.3,440.1-93.6,442.4-109.1,417.9z"></path>
          </g>
        </g>
        <g id="frame" class="st3">
          <path id="lowerin" class="st0" d="M-37.8,501.1c-5.7-5.5-13.6-5.8-17.7-7.1c-4.6-1.4-13.7-6.9-16.4-10c0,0-2.7-3-4.3-4.5
          c0,0-0.1-0.2-0.2-0.2c-0.1-0.1-0.2,0.2-0.2,0.2c-1.6,1.4-4.3,4.5-4.3,4.5c-2.7,3.1-11.8,8.6-16.4,10c-4.2,1.3-12,1.6-17.7,7.1
          c-5.7,5.5-5.3,9.1-5.3,9.1h88.2C-32.1,510.2-34.1,505.3-37.8,501.1z"></path>
          <g>
            <path class="st4" d="M-20,370.7c0,2-3.5,3.7-5.5,3.7h-99.2c-2,0-6.2-1.6-6.2-3.7V370c0-2,4.2-3.7,6.2-3.7h99.2
            c2,0,5.5,1.6,5.5,3.7L-20,370.7L-20,370.7z"></path>
            <path class="st4" d="M-23.9,378.8c0,1.9-3.2,3.4-5.1,3.4h-92.5c-1.9,0-5.8-1.5-5.8-3.4v-0.7c0-1.9,3.9-3.4,5.8-3.4h92.5
            c1.9,0,5.1,1.5,5.1,3.4L-23.9,378.8L-23.9,378.8z"></path>
          </g>
          <g>
            <path class="st4" d="M-20,521.6c0-2-3.5-3.7-5.5-3.7h-99.2c-2,0-6.2,1.6-6.2,3.7v0.7c0,2,4.2,3.7,6.2,3.7h99.2
            c2,0,5.5-1.6,5.5-3.7L-20,521.6L-20,521.6z"></path>
            <path class="st4" d="M-23.9,513.6c0-1.9-3.2-3.4-5.1-3.4h-92.5c-1.9,0-5.8,1.5-5.8,3.4v0.7c0,1.9,3.9,3.4,5.8,3.4h92.5
            c1.9,0,5.1-1.5,5.1-3.4L-23.9,513.6L-23.9,513.6z"></path>
          </g>
          <g>
            <g>
              <g>
                <g>
                  <path class="st4" d="M-118.8,425.6c0,2-2.7,4.8-4.4,4.8h-1.1c-1.7,0-4.4-2.7-4.4-4.8l1.9-30.5c0.7-2.8,3.1-3.7,3.1-3.7
                  s3,0.9,3,3.7L-118.8,425.6z"></path>
                </g>
                <circle class="st4" cx="-123.7" cy="386.6" r="5.7"></circle>
                <g>
                  <circle class="st4" cx="-123.5" cy="434.8" r="5.5"></circle>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <path class="st4" d="M-119,466.9c0-2-2.7-4.8-4.4-4.8h-1.1c-1.7,0-4.4,2.7-4.4,4.8l1.9,30.5c0.7,2.8,3.1,3.7,3.1,3.7
                  s3-0.9,3-3.7L-119,466.9z"></path>
                </g>
                <circle class="st4" cx="-123.9" cy="505.9" r="5.7"></circle>
                <g>
                  <circle class="st4" cx="-123.7" cy="457.7" r="5.5"></circle>
                </g>
              </g>
            </g>
            <circle class="st4" cx="-123.9" cy="446.3" r="7.8"></circle>
          </g>
          <g>
            <g>
              <g>
                <g>
                  <path class="st4" d="M-32.9,426c0,2,2.7,4.8,4.4,4.8h1.1c1.7,0,4.4-2.7,4.4-4.8l-1.9-30.5c-0.7-2.8-3.1-3.7-3.1-3.7
                  s-3,0.9-3,3.7L-32.9,426z"></path>
                </g>
                <circle class="st4" cx="-28.1" cy="387" r="5.7"></circle>
                <g>
                  <circle class="st4" cx="-28.2" cy="435.2" r="5.5"></circle>
                </g>
              </g>
            </g>
            <g>
              <g>
                <g>
                  <path class="st4" d="M-32.8,467.3c0-2,2.7-4.8,4.4-4.8h1.1c1.7,0,4.4,2.7,4.4,4.8l-1.9,30.5c-0.7,2.8-3.1,3.7-3.1,3.7
                  s-3-0.9-3-3.7L-32.8,467.3z"></path>
                </g>
                <circle class="st4" cx="-27.9" cy="506.4" r="5.7"></circle>
                <g>
                  <circle class="st4" cx="-28.1" cy="458.2" r="5.5"></circle>
                </g>
              </g>
            </g>
            <circle class="st4" cx="-27.8" cy="446.4" r="7.8"></circle>
          </g>
          <g>
            <path class="st4" d="M-32.4,389.2c-2.8,25.8-19.8,50.4-43.3,50.6c-25.5,0.2-40.4-28.9-43.5-54c-1.8,32.8,15,65.7,43.2,65.5
            c26.8-0.2,45.1-32.2,43.7-61.4C-32.4,389.7-32.4,389.5-32.4,389.2z"></path>
            <path class="st4" d="M-32.4,504c-2.8-25.8-19.8-50.4-43.3-50.6c-25.5-0.2-40.4,28.9-43.5,54c-1.8-32.8,15-65.7,43.2-65.5
            c26.8,0.2,45.1,32.2,43.7,61.4C-32.4,503.6-32.4,503.8-32.4,504z"></path>
          </g>
        </g>
        <g id="line" class="st5">
          <circle class="st5 dots" cx="-76.2" cy="455.9" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="460.6" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="465.3" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="470" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="474.7" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="479.4" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="484.1" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="488.6" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="493.3" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="498" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="502.7" r="1"></circle>
          <circle class="st5 dots" cx="-76.2" cy="507.4" r="1"></circle>
        </g>
        <g id="hourglass" class="st6">
          <path class="st4" d="M-32.4,389.2c-2.8,25.8-19.8,50.4-43.3,50.6c-25.5,0.2-40.4-28.9-43.5-54c-1.8,32.8,15,65.7,43.2,65.5
          c26.8-0.2,45.1-32.2,43.7-61.4C-32.4,389.7-32.4,389.5-32.4,389.2z"></path>
          <path class="st4" d="M-32.4,504c-2.8-25.8-19.8-50.4-43.3-50.6c-25.5-0.2-40.4,28.9-43.5,54c-1.8-32.8,15-65.7,43.2-65.5
          c26.8,0.2,45.1,32.2,43.7,61.4C-32.4,503.6-32.4,503.8-32.4,504z"></path>
        </g>
      </svg>
    </div>
  </div>

  <script type="text/javascript">
  // var bg = new Image();
  // bg.src = "img/inkbg.jpg";

  // var canvas = document.querySelector("#inkCanvas");
  // var context = canvas.getContext("2d");

  // context.drawImage(bg, 0, 0, 1600,907,0,0,298,168);
  

  document.getElementById('main_loader').style.display = 'block'; 

  setInterval(function () {
    document.getElementById('lower').style.display = 'block';
    setTimeout(function () {
      document.getElementById('lower').style.display = 'none'; 
    }, 3000);
  }, 5000);

  setInterval(function () {
    document.getElementById('line').style.display = 'block';
    setTimeout(function () {
      document.getElementById('line').style.display = 'none'; 
    }, 3000);
  }, 5000);

  setInterval(function () { 
    document.getElementById('lowerin').style.display = 'none';
    setTimeout(function () {
      document.getElementById('lowerin').style.display = 'block'; 
    }, 3000);
  }, 5000);

  var i=0;
  setInterval(function () {
    setTimeout(function animatedots () {
      if(i==12){
        i=0;
        var dots = document.getElementsByClassName('dots');
        for(var key in dots) {
          if(dots.hasOwnProperty(key)) {
            dots[key].style.display = "block";
          }
        }

      }
      else {
        setTimeout(function () {
          document.getElementsByClassName('dots')[i].style.display = "none";
          i++;
          requestAnimationFrame(animatedots);
        }, 125);
      }
    }, 1500);
  }, 5000)
</script>
<div class="container">
  <div class="nav">
    <div class="navWrap">
      <div class="leftNav">
        <div class="navItem" id="about-trigger">ABOUT</div>
        <div class="navItem" id="">EVENTS</div>
        <div class="navItem" id="">SPONSOR</div>
      </div>
      <div class="rightNav">
        <div class="navItem" id="">CONTACT</div>
        <div class="navItem" id="">ARCHIVE</div>
        <div class="navItem" id="">REGISTER</div>
      </div>
    </div>
    <div class="logoNav">
      <img src="img/logo.svg" alt="">
    </div>

  </div>
  
</div>
<div class="ham" id="ham">
  <svg viewBox="0 0 800 800" class="hamb" id="hamb">
    <rect
    x="69.654"
    height="420.341"
    width="420.344"
    y="229.936"
    transform="matrix(0.7071 -0.7071 0.7071 0.7071 -82.9689 199.9064)"
    stroke-miterlimit="10"
    id="rect4"
    stroke-width="12.2727"
    stroke="#FFFFFF"
    fill="none"
    opacity="0.7" />
    <path
    d="M300,220 C300,220 520,220 540,220 C740,220 640,540 520,420 C440,340 300,200 300,200"
    id="top" />
    <path
    d="M300,320 L540,320"
    id="middle" />
    <path
    d="M300,210 C300,210 520,210 540,210 C740,210 640,530 520,410 C440,330 300,190 300,190"
    id="bottom"
    transform="translate(480, 320) scale(1, -1) translate(-480, -318) " />
  </svg>
</div>
<div class="side-nav" id="side-nav">
  <div class="logo"></div>
  <div class="storyType">
    <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="400px" height="400px" viewBox="0 0 400 400" enable-background="new 0 0 400 400" >
    <g>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,101.426 86.74,101.426 122.003,15.352 312.943,15.352  "/>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,196.2 86.74,196.2 122.003,110.128 312.943,110.128  "/>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,290.973 86.74,290.973 122.003,204.901 312.943,204.901  "/>
      <polygon opacity="0.4" fill="#FFFFFF" points="277.68,385.505 86.74,385.505 122.003,299.432 312.943,299.432  "/>
    </g>
  </svg>

</div>
<div class="bar"></div>

<div class="menuList">
  <ul>
    <li class="active">HOME</li>
    <li>ABOUT</li>
    <li>REGISTER</li>
    <li>EVENTS</li>
    <li>ARCHIVES</li>
    <li>SPONSORS</li>
    <li>CONTACTS</li>
  </ul>
</div>
<div class="sideBar"></div>

</div>
<div class="landing">
  <div class="banner-wrapper">
    <div class="bangrp1">
      <canvas id="ban1" class="banner b1" width="100" height="335"></canvas>
      <canvas id="ban2" class="banner b2" width="100" height="335"></canvas>
    </div>
    <div class="bangrp2">
      <canvas id="ban3" class="banner b3"  width="100" height="335"></canvas>
      <canvas id="ban4" class="banner b4"  width="100" height="335"></canvas>
    </div>
    <div class="bangrp3">
      <canvas id="ban5" class="banner b5"  width="100" height="335"></canvas>
      <canvas id="ban6" class="banner b6"  width="100" height="335"></canvas>
    </div>
  </div>
  <div class="fire-wrapper">
    <div class="firegrp1">
      <canvas id="fire1" class="fire f1"  width="100" height="150"></canvas>
      <canvas id="fire2" class="fire f2"  width="100" height="150"></canvas>
    </div>
    <div class="firegrp2">
      <canvas id="fire3" class="fire f3"  width="100" height="150"></canvas>
      <canvas id="fire4" class="fire f4"  width="100" height="150"></canvas>
    </div>
  </div>
</div>
<div class="lampglow">

</div>

<div class="about-wrapper">
  <div class="about">
    <div class="about-head">
      About Oasis'16
    </div>
    <div class="about-cont">
      Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum 
    </div>
  </div>
  </divLorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum 
  <div class="events-wrapper">


  </div>

</div>

<script src="js/jquery.min.js"></script>

<script src="js/jquery.ba-throttle-debounce.js"></script>
<!-- <script type="text/javascript" src="js/script.js"></script> -->
<script type="text/javascript">
  $(window).load(function() {
    loadingdone();

  });

  var canvas = document.querySelector("#inkCanvas");
  var context = canvas.getContext("2d");

  var bg = new Image();
  bg.src = "img/inkbg.jpg";
  var myImage = new Image();
  myImage.src = "img/mask.png";

  // myImage.addEventListener("load", loadImage, false);

  // function loadImage(e) {
  //   animate();
  // }

  var shift = 0;
  var frameWidth = 298;
  var frameHeight = 168;
  var totalFrames = 40;
  var currentFrame = 0;
  var maxSpeed=3;
  var speedvar=0;

  function animate() {
    context.clearRect(0, 0, 298, 168);

  //draw each frame + place them in the middle
  context.drawImage(myImage, shift, 0, frameWidth, frameHeight, 0, 0, frameWidth, frameHeight);
  // context.globalCompositeOperation = "multiply";
  context.drawImage(bg, 0, 0, 1600,907,0,0,frameWidth,frameHeight);
  if (speedvar==maxSpeed){
    shift += frameWidth;
    speedvar=0;
  }
  /*
    Start at the beginning once you've reached the
    end of your sprite!
    */
    if (currentFrame != totalFrames*maxSpeed) {
      // shift = 0;
      // currentFrame = 0;
      requestAnimationFrame(animate);
      currentFrame++;
    }

    speedvar++;
    if (currentFrame == totalFrames*maxSpeed) {
      $('#inkCanvas').fadeOut();
    }
  }
  context.globalCompositeOperation = "xor";

  // Sprite Animation

// var i=0;

// function repeatOften() {
//   $('.b1').addClass('ban'+i);
//   if (i!=0)
//   $('.b1').removeClass('ban'+(i-1));
//   i++;
//   if (i==26) {
//     i=0;
//   $('.b1').removeClass('ban25');
//   }
//   setTimeout(function () {
//   requestAnimationFrame(repeatOften);
//   }, 2000/25);
// }

// requestAnimationFrame(repeatOften);

function sprite (canvasId, spriteimg, frameWidth, frameHeight, totalFrames, invspeed) {

  var canvas = document.getElementById(canvasId);
  var context = canvas.getContext("2d");


  var myImage = new Image();
  myImage.src = spriteimg;

  myImage.addEventListener("load", loadImage, false);

  function loadImage(e) {
    animate();
  }

  var shift = 0;
  var currentFrame = 0;
  var speedvar=0;

  function animate() {
    context.clearRect(0, 0, frameWidth, frameHeight);

    context.drawImage(myImage, shift, 0, frameWidth, frameHeight, 0, 0, frameWidth, frameHeight);
    if (speedvar==invspeed){
      shift += frameWidth;
      speedvar=0;
    }
    if (currentFrame == totalFrames*invspeed) {
      shift = 0;
      currentFrame = 0;
    }
    requestAnimationFrame(animate);
    currentFrame++;

    speedvar++;
  }
}

sprite('ban1', 'img/ban1.png', 100, 335, 25, 3);
sprite('ban2', 'img/ban2.png', 100, 335, 25, 3);
sprite('ban3', 'img/ban3.png', 100, 335, 25, 3);
sprite('ban4', 'img/ban4.png', 100, 335, 25, 3);
sprite('ban5', 'img/ban5.png', 100, 335, 25, 3);
sprite('ban6', 'img/ban6.png', 100, 335, 25, 3);
sprite('fire1', 'img/fire.png', 100, 150, 38, 4);
sprite('fire2', 'img/fire.png', 100, 150, 38, 4);
sprite('fire3', 'img/fire.png', 100, 150, 38, 4);
sprite('fire4', 'img/fire.png', 100, 150, 38, 4);





$(document).ready(function(){
  $('.paint').addClass('startAnim');
});

var checkScrollSpeed = (function(settings){
  settings = settings || {};

  var lastPos, newPos, timer, delta,
        delay = settings.delay || 50; // in "ms" (higher means lower fidelity )

        function clear() {
          lastPos = null;
          delta = 0;
        }

        clear();

        return function(){
          newPos = window.scrollY;
      if ( lastPos != null ){ // && newPos < maxScroll
        delta = newPos -  lastPos;
      }
      lastPos = newPos;
      clearTimeout(timer);
      timer = setTimeout(clear, delay);
      return delta;
    };
  })();

// // listen to "scroll" event
// window.onscroll = function(){
//    speed = checkScrollSpeed();
//    console.log(speed);
//  };
var time1,time2;
$(window).scroll(function(){
 speed = checkScrollSpeed();
 console.log(speed);
 if(Math.abs(speed)>50){
   $('.paint').addClass('startAnim');
   time1 = new Date().getTime();
 }
 else {
  time2 = new Date().getTime();
  if(time2-time1>1500){
   $('.paint').removeClass('startAnim');
 }
 $('.paint').addClass('midAnim');
}
});
$(window).scroll($.debounce( 250, true, function(){
 $('#blurImg').fadeIn();


} ) );
$(window).scroll($.debounce( 250, function(){
 $('#blurImg').fadeOut();

} ) );

var menu="off";
$('.ham').click(function(){
  if(menu=="off"){
    $("#side-nav").css("opacity","100");    
    $('.side-nav').css({
     transform:'translateX(0px)'
   });


    menu="on";
    var div = document.createElement('div');
    // div.textContent = "Sup, y'all?";
    div.setAttribute('class', 'newdiv');
    document.body.appendChild(div);
    $('.newdiv').css({
      position: 'absolute',
      top: '0',
      left: '195px',
      width: '100vw',
      height: '100vh'
    });
    $('.newdiv').click(function() {
      $('.side-nav').css({
       transform:'translateX(-190px)'
     });
      menu="off";
      $(".ham").toggleClass("cross");
      $(this).remove();
    });
  }
  else{
    $('.side-nav').css({
     transform:'translateX(-190px)'
   });
    setTimeout(function(){
      $("#side-nav").css("opacity","0");  
    },500);    
    menu="off";
    $('.newdiv').remove();
  }
});

$('.newdiv').click(function() {
  $('.side-nav').css({
   transform:'translateX(-190px)'
 });
  menu="off";
  $(".ham").toggleClass("cross");
  $(this).remove();
});



$(".ham").click(function() {
  return $(".ham").toggleClass("cross");
});

$('.menuList ul li').click(function() {
  $('.menuList ul .active').removeClass('active');
  $(this).addClass('active');
});

setInterval(function () {
  $('.lampglow').fadeOut(2000);
  setTimeout(function () {
   $('.lampglow').fadeIn(2000); 
 }, 1500);
}, 7000);

function loadingdone () {
  setTimeout(function () {
    $('.loader-wrapper').fadeOut('slow');
    // $('#main_loader').hide();
    $('.container').css('display', 'block');
  // context.drawImage(bg, shift, 0, 1600, 907, 0, 0, frameWidth, frameHeight);

  animate();
},3000);
}

$('.about-wrapper').hide();

$('#about-trigger').click(function() {
  $('.about-wrapper').fadeIn('400', function() {
    $(this).css('display', 'flex');
    $('.about-wrapper').click(function() {
      $('.about-wrapper').fadeOut();
    });
  }).children().click(function(e) {
    return false;
  })
});
</script>
</body>
</html>
